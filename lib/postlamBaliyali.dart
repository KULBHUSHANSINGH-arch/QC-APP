import 'dart:convert';
import 'dart:io';
// import 'package:QCM/Ipqc.dart';
// import 'package:QCM/components/app_button_widget.dart';
// import 'package:QCM/components/app_loader.dart';
// import 'package:QCM/ipqcTestList.dart';
import 'package:file_picker/file_picker.dart';
import 'package:flutter_image_compress/flutter_image_compress.dart';
import 'package:form_field_validator/form_field_validator.dart';
import 'package:image_picker/image_picker.dart';
// import 'package:newqcm/Ipqc.dart';
// import 'package:newqcm/components/app_button_widget.dart';
// import 'package:newqcm/components/app_loader.dart';
// import 'package:newqcm/ipqcTestList.dart';
import 'package:dio/dio.dart';
// import 'package:file_picker/file_picker.dart';
import 'package:flutter/material.dart';
import 'package:flutter/rendering.dart';
// import 'package:form_field_validator/form_field_validator.dart';
import 'package:http_parser/http_parser.dart';
import 'package:intl/intl.dart';
import 'package:qcmapp/Ipqc.dart';
import 'package:qcmapp/components/app_button_widget.dart';
import 'package:qcmapp/components/app_loader.dart';
import 'package:qcmapp/ipqcTestList.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:url_launcher/url_launcher.dart' as UrlLauncher;
import 'package:toast/toast.dart';
import 'package:http/http.dart' as http;
import 'package:dio/src/response.dart' as Response;
import '../components/appbar.dart';
import '../constant/app_assets.dart';
import '../constant/app_color.dart';
import '../constant/app_fonts.dart';
import '../constant/app_helper.dart';
import '../constant/app_styles.dart';

class PostlamBaliyali extends StatefulWidget {
  final String? id;
  const PostlamBaliyali({super.key, this.id});
  @override
  _PostlamBaliyaliState createState() => _PostlamBaliyaliState();
}

/** Camera  */
class ImageMetadata {
  final String imageKey;
  final String imagePath;
  final String timestamp;
  final String type; // Added type (e.g., temperature, humidity)
  final String stage; // Added stage

  ImageMetadata({
    required this.imageKey,
    required this.imagePath,
    required this.timestamp,
    required this.type,
    required this.stage,
  });

  Map<String, dynamic> toMap() {
    return {
      'imageKey': imageKey,
      'imagePath': imagePath,
      'timestamp': timestamp,
      'type': type,
      'stage': stage,
    };
  }
}

class _PostlamBaliyaliState extends State<PostlamBaliyali> {
  final _postLamFormKey = GlobalKey<FormState>();

  TextEditingController lotSizeController = TextEditingController();
  TextEditingController dateController = TextEditingController();

  TextEditingController lineController = TextEditingController();
  TextEditingController poController = TextEditingController();

  /// ****Trimming *********

  TextEditingController autoTrimFreq1Controller = TextEditingController();

  TextEditingController trimQuality1Controller = TextEditingController();
  TextEditingController autotrimCam1Controller = TextEditingController();

  TextEditingController trimQuality2Controller = TextEditingController();
  TextEditingController autotrimCam2Controller = TextEditingController();

  TextEditingController trimQuality3Controller = TextEditingController();
  TextEditingController autotrimCam3Controller = TextEditingController();

  TextEditingController trimQuality4Controller = TextEditingController();
  TextEditingController autotrimCam4Controller = TextEditingController();

  TextEditingController trimQuality5Controller = TextEditingController();
  TextEditingController autotrimCam5Controller = TextEditingController();

  TextEditingController autoTrimAccep1Controller = TextEditingController();

  TextEditingController autoTrimFreq2Controller = TextEditingController();
  TextEditingController trimBladeController = TextEditingController();
  TextEditingController autoTrimAccep2Controller = TextEditingController();
  TextEditingController autoTrimRemarkController = TextEditingController();

  /// ************New Controller's Post LAM Visual Inspection***********
  /** 90Â° Visual inspection */
  TextEditingController _90visFreq1Controller = TextEditingController();

  TextEditingController _90vis1Controller = TextEditingController();
  TextEditingController _90visCam1Controller = TextEditingController();

  TextEditingController _90vis2Controller = TextEditingController();
  TextEditingController _90visCam2Controller = TextEditingController();

  TextEditingController _90vis3Controller = TextEditingController();
  TextEditingController _90visCam3Controller = TextEditingController();

  TextEditingController _90vis4Controller = TextEditingController();
  TextEditingController _90visCam4Controller = TextEditingController();

  TextEditingController _90vis5Controller = TextEditingController();
  TextEditingController _90visCam5Controller = TextEditingController();

  TextEditingController _90visAccep1Controller = TextEditingController();
  TextEditingController _90visRemarkController = TextEditingController();

  /** New Framing */
  TextEditingController framGlueFreqController = TextEditingController();
  TextEditingController framGlueUniController = TextEditingController();
  TextEditingController framGlueAccepController = TextEditingController();

  TextEditingController framShortFreqController = TextEditingController();
  TextEditingController framShortSideController = TextEditingController();
  TextEditingController framShortAccepController = TextEditingController();

  TextEditingController framLongFreqController = TextEditingController();
  TextEditingController framLongSideController = TextEditingController();
  TextEditingController framLongAccepController = TextEditingController();

  TextEditingController framAnodFreqController = TextEditingController();
  TextEditingController framAnodController = TextEditingController();
  TextEditingController framAnodAccepController = TextEditingController();
  TextEditingController framRemarkController = TextEditingController();

  /** New Junction Box Assembly */
  TextEditingController JbaJBFreq1Controller = TextEditingController();
  TextEditingController JbaJBController = TextEditingController();
  TextEditingController JbaJBAccepController = TextEditingController();

  TextEditingController JbaJBFreq2Controller = TextEditingController();
  TextEditingController JbaSgController = TextEditingController();
  TextEditingController JbaSgAccepController = TextEditingController();

  TextEditingController JbaJBFreq3Controller = TextEditingController();
  TextEditingController JbaSitController = TextEditingController();
  TextEditingController JbaSitAccepController = TextEditingController();

  TextEditingController JbaJBFreq4Controller = TextEditingController();
  TextEditingController JbaSQController = TextEditingController();
  TextEditingController JbaSQAccepController = TextEditingController();

  TextEditingController JbaJBRemarkController = TextEditingController();

  /** New JB Potting               (Remaining)   */
  TextEditingController JBPoFreq1Controller = TextEditingController();
  TextEditingController JBPoABController = TextEditingController();
  TextEditingController JBPoAccep1Controller = TextEditingController();

  TextEditingController JBPoFreq2Controller = TextEditingController();
  TextEditingController JBPoPMController = TextEditingController();
  TextEditingController JBPoAccep2Controller = TextEditingController();

  TextEditingController JBPoFreq3Controller = TextEditingController();
  TextEditingController JBPoNCController = TextEditingController();
  TextEditingController JBPoAccep3Controller = TextEditingController();
  TextEditingController JBPoRemarkController = TextEditingController();

  /** Curring */
  TextEditingController curFreq1Controller = TextEditingController();
  TextEditingController curTemController = TextEditingController();
  TextEditingController curAccep1Controller = TextEditingController();

  TextEditingController curFreq2Controller = TextEditingController();
  TextEditingController curHumController = TextEditingController();
  TextEditingController curAccep2Controller = TextEditingController();

  TextEditingController curFreq3Controller = TextEditingController();
  TextEditingController curCTController = TextEditingController();
  TextEditingController curAccep3Controller = TextEditingController();
  TextEditingController curRemarkController = TextEditingController();

  /** Buffing  */
  TextEditingController bufFreq1Controller = TextEditingController();
  TextEditingController bufTem1Controller = TextEditingController();
  TextEditingController bufTem2Controller = TextEditingController();
  TextEditingController bufTem3Controller = TextEditingController();
  TextEditingController bufTem4Controller = TextEditingController();
  TextEditingController bufTem5Controller = TextEditingController();
  TextEditingController bufAccep1Controller = TextEditingController();
  TextEditingController bufRemarkController = TextEditingController();

  /** Cleaning  */
  TextEditingController cleFreq1Controller = TextEditingController();

  TextEditingController cleTem1Controller = TextEditingController();
  TextEditingController cleTemCam1Controller = TextEditingController();

  TextEditingController cleTem2Controller = TextEditingController();
  TextEditingController cleTemCam2Controller = TextEditingController();

  TextEditingController cleTem3Controller = TextEditingController();
  TextEditingController cleTemCam3Controller = TextEditingController();

  TextEditingController cleTem4Controller = TextEditingController();
  TextEditingController cleTemCam4Controller = TextEditingController();

  TextEditingController cleTem5Controller = TextEditingController();
  TextEditingController cleTemCam5Controller = TextEditingController();

  TextEditingController cleAccep1Controller = TextEditingController();
  TextEditingController cleRemarkController = TextEditingController();

  /** Flash Tester  */
  TextEditingController flaFreq1Controller = TextEditingController();
  TextEditingController flaAmbController = TextEditingController();
  TextEditingController flaAmbAccep1Controller = TextEditingController();

  TextEditingController flaFreq2Controller = TextEditingController();
  TextEditingController flaMTController = TextEditingController();
  TextEditingController flaAmbAccep2Controller = TextEditingController();

  TextEditingController flaFreq3Controller = TextEditingController();
  TextEditingController flaSunController = TextEditingController();
  TextEditingController flaAmbAccep3Controller = TextEditingController();

  TextEditingController flaFreq4Controller = TextEditingController();
  TextEditingController flaValController = TextEditingController();
  TextEditingController flaAmbAccep4Controller = TextEditingController();

  TextEditingController flaFreq5Controller = TextEditingController();
  TextEditingController flaSilController = TextEditingController();
  TextEditingController flaAmbAccep5Controller = TextEditingController();

  TextEditingController flaRemarkController = TextEditingController();

  /** Hipot Test  */
  /***first */
  TextEditingController hipFreq1Controller = TextEditingController();
  TextEditingController hipDCW1Controller = TextEditingController();
  TextEditingController hipDCWCam1Controller = TextEditingController();

  TextEditingController hipDCW2Controller = TextEditingController();
  TextEditingController hipDCWCam2Controller = TextEditingController();

  TextEditingController hipDCW3Controller = TextEditingController();
  TextEditingController hipDCWCam3Controller = TextEditingController();

  TextEditingController hipDCW4Controller = TextEditingController();
  TextEditingController hipDCWCam4Controller = TextEditingController();

  TextEditingController hipDCW5Controller = TextEditingController();
  TextEditingController hipDCWCam5Controller = TextEditingController();
  TextEditingController hipAccep1Controller = TextEditingController();

  /***second */
  TextEditingController hipFreq2Controller = TextEditingController();
  TextEditingController hipIR1Controller = TextEditingController();
  TextEditingController hipIRCam1Controller = TextEditingController();

  TextEditingController hipIR2Controller = TextEditingController();
  TextEditingController hipIRCam2Controller = TextEditingController();

  TextEditingController hipIR3Controller = TextEditingController();
  TextEditingController hipIRCam3Controller = TextEditingController();

  TextEditingController hipIR4Controller = TextEditingController();
  TextEditingController hipIRCam4Controller = TextEditingController();

  TextEditingController hipIR5Controller = TextEditingController();
  TextEditingController hipIRCam5Controller = TextEditingController();

  TextEditingController hipAccep2Controller = TextEditingController();

  /***third */
  TextEditingController hipFreq3Controller = TextEditingController();
  TextEditingController hipGC1Controller = TextEditingController();
  TextEditingController hipGCCam1Controller = TextEditingController();

  TextEditingController hipGC2Controller = TextEditingController();
  TextEditingController hipGCCam2Controller = TextEditingController();

  TextEditingController hipGC3Controller = TextEditingController();
  TextEditingController hipGCCam3Controller = TextEditingController();

  TextEditingController hipGC4Controller = TextEditingController();
  TextEditingController hipGCCam4Controller = TextEditingController();

  TextEditingController hipGC5Controller = TextEditingController();
  TextEditingController hipGCCam5Controller = TextEditingController();

  TextEditingController hipAccep3Controller = TextEditingController();

  /***fourth */
  TextEditingController hipFreq4Controller = TextEditingController();
  TextEditingController hipVPController = TextEditingController();
  TextEditingController hipAccep4Controller = TextEditingController();
  TextEditingController hipRemarkController = TextEditingController();

  /** Post EL Test  */
  /***first */
  TextEditingController postFreq1Controller = TextEditingController();
  TextEditingController postVPController = TextEditingController();
  TextEditingController postAccep1Controller = TextEditingController();

  /***second */
  TextEditingController postFreq2Controller = TextEditingController();
  TextEditingController postEL1Controller = TextEditingController();
  TextEditingController postELCam1Controller = TextEditingController();

  TextEditingController postEL2Controller = TextEditingController();
  TextEditingController postELCam2Controller = TextEditingController();

  TextEditingController postEL3Controller = TextEditingController();
  TextEditingController postELCam3Controller = TextEditingController();

  TextEditingController postEL4Controller = TextEditingController();
  TextEditingController postELCam4Controller = TextEditingController();

  TextEditingController postEL5Controller = TextEditingController();
  TextEditingController postELCam5Controller = TextEditingController();
  TextEditingController postAccep2Controller = TextEditingController();

  /** third */
  TextEditingController postFreq3Controller = TextEditingController();
  TextEditingController postVI1Controller = TextEditingController();
  TextEditingController postVICam1Controller = TextEditingController();

  TextEditingController postVI2Controller = TextEditingController();
  TextEditingController postVICam2Controller = TextEditingController();

  TextEditingController postVI3Controller = TextEditingController();
  TextEditingController postVICam3Controller = TextEditingController();

  TextEditingController postVI4Controller = TextEditingController();
  TextEditingController postVICam4Controller = TextEditingController();

  TextEditingController postVI5Controller = TextEditingController();
  TextEditingController postVICam5Controller = TextEditingController();
  TextEditingController postAccep3Controller = TextEditingController();
  TextEditingController postRemarkController = TextEditingController();

/** RFID */
  TextEditingController rfidFreq1Controller = TextEditingController();
  TextEditingController rfidPosController = TextEditingController();
  TextEditingController rfidAccep1Controller = TextEditingController();

  TextEditingController rfidFreq2Controller = TextEditingController();
  TextEditingController rfidCellMController = TextEditingController();
  TextEditingController rfidAccep2Controller = TextEditingController();
  TextEditingController rfidRemarkController = TextEditingController();

/** Final Visual */
  TextEditingController finalFreq1Controller = TextEditingController();

  TextEditingController finalVI1Controller = TextEditingController();
  TextEditingController finalVICam1Controller = TextEditingController();

  TextEditingController finalVI2Controller = TextEditingController();
  TextEditingController finalVICam2Controller = TextEditingController();

  TextEditingController finalVI3Controller = TextEditingController();
  TextEditingController finalVICam3Controller = TextEditingController();

  TextEditingController finalVI4Controller = TextEditingController();
  TextEditingController finalVICam4Controller = TextEditingController();

  TextEditingController finalVI5Controller = TextEditingController();
  TextEditingController finalVICam5Controller = TextEditingController();

  TextEditingController finalAccep1Controller = TextEditingController();

  TextEditingController finalFreq2Controller = TextEditingController();
  TextEditingController finalBack1Controller = TextEditingController();
  TextEditingController finalBackCam1Controller = TextEditingController();
  TextEditingController finalBack2Controller = TextEditingController();
  TextEditingController finalBackCam2Controller = TextEditingController();
  TextEditingController finalBack3Controller = TextEditingController();
  TextEditingController finalBackCam3Controller = TextEditingController();
  TextEditingController finalBack4Controller = TextEditingController();
  TextEditingController finalBackCam4Controller = TextEditingController();
  TextEditingController finalBack5Controller = TextEditingController();
  TextEditingController finalBackCam5Controller = TextEditingController();
  TextEditingController finalAccep2Controller = TextEditingController();
  TextEditingController finalRemarkController = TextEditingController();

/** Dimension Measurement */
  TextEditingController dimFreq1Controller = TextEditingController();
  TextEditingController dimLWController = TextEditingController();
  TextEditingController dimAccep1Controller = TextEditingController();

  TextEditingController dimFreq2Controller = TextEditingController();
  TextEditingController dimMHController = TextEditingController();
  TextEditingController dimAccep2Controller = TextEditingController();

  TextEditingController dimFreq3Controller = TextEditingController();
  TextEditingController dimDDController = TextEditingController();
  TextEditingController dimAccep3Controller = TextEditingController();

  TextEditingController dimFreq4Controller = TextEditingController();
  TextEditingController dimCGController = TextEditingController();
  TextEditingController dimAccep4Controller = TextEditingController();

  TextEditingController dimFreq5Controller = TextEditingController();
  TextEditingController dimJBController = TextEditingController();
  TextEditingController dimAccep5Controller = TextEditingController();
  TextEditingController dimRemarkController = TextEditingController();

  /** Packaging */
  TextEditingController packFreq1Controller = TextEditingController();
  TextEditingController packPLController = TextEditingController();
  TextEditingController packAccep1Controller = TextEditingController();

  TextEditingController packFreq2Controller = TextEditingController();
  TextEditingController packCBController = TextEditingController();
  TextEditingController packAccep2Controller = TextEditingController();

  TextEditingController packFreq3Controller = TextEditingController();
  TextEditingController packBCController = TextEditingController();
  TextEditingController packAccep3Controller = TextEditingController();

  TextEditingController packFreq4Controller = TextEditingController();
  TextEditingController packWPController = TextEditingController();
  TextEditingController packAccep4Controller = TextEditingController();
  TextEditingController packRemarkController = TextEditingController();

  TextEditingController referencePdfController = TextEditingController();

  bool menu = false, user = false, face = false, home = false;
  bool _isLoading = false;
  String setPage = 'trimming', pic = '', site = '', personid = '';
  String invoiceDate = '';
  String date = '';
  String selectedShift = "Day Shift";
  bool? isCycleTimeTrue;
  bool? isBacksheetCuttingTrue;
  String sendStatus = '';
  String status = '',
      prelamId = '',
      approvalStatus = "Approved",
      WorkLocation = '',
      designation = '',
      token = '',
      department = '';

  final _dio = Dio();

  Response.Response? _response;
  List data = [];
  List shiftList = [
    {"key": 'Day Shift', "value": 'Day Shift'},
    {"key": 'Night Shift', "value": 'Night Shift'},
  ];
  List<int>? referencePdfFileBytes;
  String dateOfPostLam = '';

  List<ImageMetadata> _capturedImages = [];

  @override
  void initState() {
    super.initState();
    setState(() {
      // 1. Auto Edge Trimming
      autoTrimFreq1Controller.text = "5 pieces per shift";
      autoTrimAccep1Controller.text =
          "Excess layer from the glass edge should be removed,Uneven Trimming not allowed";
      autoTrimFreq2Controller.text = "Once per shift";
      autoTrimAccep2Controller.text = "Worn out not allowed";

      // 90Â° Visual inspection
      _90visFreq1Controller.text = "5 pieces per shift";
      _90visAccep1Controller.text =
          "As per visual inspection criteria GSPL/PLV/001";

      /**  Framing  ***/
      framGlueFreqController.text = "1 set per shift";
      framShortFreqController.text = "Once per shift";
      framLongFreqController.text = "Once per shift";
      framAnodFreqController.text = "Once per shift";

      framGlueAccepController.text =
          "Should be uniform,Back sealing should be proper";
      framShortAccepController.text = "55Â±10 gm";
      framLongAccepController.text = "120Â±20 gm";
      framAnodAccepController.text = "â¥15 micron";

      /**  Junction Box Assembly  ***/
      JbaJBFreq1Controller.text = "Once per shift";
      JbaJBFreq2Controller.text = "Once per shift";
      JbaJBFreq3Controller.text = "Once per shift";
      JbaJBFreq4Controller.text = "Once per shift";

      JbaJBAccepController.text = "As per Production order & module drawing";
      JbaSgAccepController.text = "18Â±3 gm";
      JbaSitAccepController.text = "1400Â±50Â°C";
      JbaSQAccepController.text =
          "Welding area should be fully covered & checked by twizzer,no yellowing allowed";

      /**  JB Potting  ***/
      JBPoFreq1Controller.text = "Once per shift";
      JBPoFreq2Controller.text = "Once per shift";
      JBPoFreq3Controller.text = "Once every 6h";

      JBPoAccep1Controller.text = "5Â±.5:1";
      JBPoAccep2Controller.text = "20Â±3 gm";
      JBPoAccep3Controller.text =
          "Should be changed after 6 hours or when found issue of damage or extra amount dispensing.";

      /**  Curing  ***/
      curFreq1Controller.text = "Once per shift";
      curFreq2Controller.text = "Once per shift";
      curFreq3Controller.text = "Once per shift";

      curAccep1Controller.text = "25Â±3â";
      curAccep2Controller.text = "â¥50%";
      curAccep3Controller.text = "â¥4 hours";

      /**  Buffing  ***/
      bufFreq1Controller.text = "5 pieces per shift";
      bufAccep1Controller.text = "Should not be sharp & No worn out";

      /**  Cleaning  ***/
      cleFreq1Controller.text = "5 pieces per shift";
      cleAccep1Controller.text =
          "As per visual inspection criteria GSPL/PLV/001";

      /**  Flash Tester  ***/
      flaFreq1Controller.text = "Once per shift";
      flaFreq2Controller.text = "Once per shift";
      flaFreq3Controller.text = "Once 24h";
      flaFreq4Controller.text = "Once every 4h";
      flaFreq5Controller.text = "Once Two weeks";

      flaAmbAccep1Controller.text = "25Â±3â";
      flaAmbAccep2Controller.text = "25Â±2â";
      flaAmbAccep3Controller.text =
          "Sunsimulator must be calibrated at the start of the shift with Golden/Silver module(GSPL/QA/S/10)";
      flaAmbAccep4Controller.text = "As per GSPL/QA/S/10";
      flaAmbAccep5Controller.text = "Should be same as orignal EL picture";

      /**  Hipot Test  ***/
      hipFreq1Controller.text = "5 pieces per shift";
      hipFreq2Controller.text = "5 pieces per shift";
      hipFreq3Controller.text = "5 pieces per shift";
      hipFreq4Controller.text = "Once per shift";

      hipAccep1Controller.text = "â¤50ÂµA";
      hipAccep2Controller.text = ">40Mâ¦.m2";
      hipAccep3Controller.text = "(0-100) mâ¦";
      hipAccep4Controller.text = "As per GSPL/QA/S/12";

      /**  Post EL Test  ***/
      postFreq1Controller.text = "Once per shift";
      postFreq2Controller.text = "5 pieces per shift";
      postFreq3Controller.text = "5 pieces per shift";

      postAccep1Controller.text = "As per Voc & Isc";
      postAccep2Controller.text =
          "EL image should fullfil the EL Acceptance Criteria GSPL/PEL/001";
      postAccep3Controller.text =
          "Visual image should  fullfil the visual acceptance criteria as per GSPL/PELV/002";

      /**  RFID ***/
      rfidFreq1Controller.text = "Once per shift";
      rfidFreq2Controller.text = "Once per shift";
      rfidAccep1Controller.text = "As per Process card";
      rfidAccep2Controller.text = "As per BOM and Process card";

      /**  Final Visual Inspection ***/
      finalFreq1Controller.text = "5 pieces per shift";
      finalFreq2Controller.text = "5 pieces per shift";
      finalAccep1Controller.text =
          "As per visual inspection criteria GSPL/PLV/001";
      finalAccep2Controller.text =
          "Air bubble,Tilt,Misprint,folded label not acceptable";

      /**  Dimension measurement  ***/
      dimFreq1Controller.text = "Once per shift";
      dimFreq2Controller.text = "Once per shift";
      dimFreq3Controller.text = "Once per shift";
      dimFreq4Controller.text = "Once per shift";
      dimFreq5Controller.text = "Once per shift";

      dimAccep1Controller.text = "As per Module drawing (Â±1mm)";
      dimAccep2Controller.text = "As per Module drawing (Â±1mm)";
      dimAccep3Controller.text = "â¤3mm";
      dimAccep4Controller.text = "As per visual Inspection criteria";
      dimAccep5Controller.text = "As per Process card";

      /**  Packaging  ***/
      packFreq1Controller.text = "Once per shift";
      packFreq2Controller.text = "Once per shift";
      packFreq3Controller.text = "Once per shift";
      packFreq4Controller.text = "Once per shift";
      packAccep1Controller.text = "As per GSPL/FQC/WI/001";
      packAccep2Controller.text = "As per GSPL/FQC/WI/001";
      packAccep3Controller.text = "Damage,dull printing,wet boxes not allowed";
      packAccep4Controller.text = "Should not be less than module dimension";

      /**  -------------- End all Frequency and Acceptance Criteria ----------- */
    });
    store();
  }

  Future createData() async {
    if (sendStatus == "Pending") {
      setApprovalStatuss(prelamId != '' && prelamId != null
          ? prelamId
          : widget.id != '' && widget.id != null
              ? widget.id
              : '');
    }
    var data = [
      {
        "PreLamDetailId": prelamId != ''
            ? prelamId
            : widget.id != '' && widget.id != null
                ? widget.id
                : '',
        "Type": "PostLam Baliyali",
        "CurrentUser": personid,
        "Status": sendStatus,
        "DocNo": "GSPL/IPQC/IPC/003",
        "RevNo": "1.0 dated 12.08.2023",
        "Date": dateOfPostLam,
        "WorkLocation": WorkLocation,
        "Shift": selectedShift,
        "Line": lineController.text,
        "PONo": poController.text
      },
      [
        {
          "Stage": "Auto Edge Trimming",
          "CheckPoint": {
            "Trimming Quality1": trimQuality1Controller.text,
            "Trimming Quality2": trimQuality2Controller.text,
            "Trimming Quality3": trimQuality3Controller.text,
            "Trimming Quality4": trimQuality4Controller.text,
            "Trimming Quality5": trimQuality5Controller.text,
            "Trimming Blade life cycle5": trimBladeController.text,
          },
          "AcceptanceCriteria": {
            "Trimming Quality": autoTrimAccep1Controller.text,
            "Trimming Blade life cycle5": autoTrimAccep2Controller.text,
          },
          "Frequency": {
            "Trimming Quality": autoTrimFreq1Controller.text,
            "Trimming Blade life cycle5": autoTrimFreq2Controller.text,
          },
          "Remark": autoTrimRemarkController.text,
        },
        /** Visual Inspection */
        {
          "Stage": "90Â° Visual inspection",
          "CheckPoint": {
            "Visual Inspection1": _90vis1Controller.text,
            "Visual Inspection2": _90vis2Controller.text,
            "Visual Inspection3": _90vis3Controller.text,
            "Visual Inspection4": _90vis4Controller.text,
            "Visual Inspection5": _90vis5Controller.text,
          },
          "AcceptanceCriteria": {
            "Visual Inspection": _90visAccep1Controller.text,
          },
          "Frequency": {
            "Visual Inspection": _90visFreq1Controller.text,
          },
          "Remark": _90visRemarkController.text,
        },
        {
          "Stage": "Framing",
          "CheckPoint": {
            "Glue uniformity & continuity in frame groove":
                framGlueUniController.text,
            "Short Side Glue Weight": framShortSideController.text,
            "Long Side Glue Weight": framLongSideController.text,
            "Anodizing Thickness": framAnodController.text,
          },
          "AcceptanceCriteria": {
            "Glue uniformity & continuity in frame groove":
                framGlueAccepController.text,
            "Short Side Glue Weight": framShortAccepController.text,
            "Long Side Glue Weight": framLongAccepController.text,
            "Anodizing Thickness": framAnodAccepController.text,
          },
          "Frequency": {
            "Glue uniformity & continuity in frame groove":
                framGlueFreqController.text,
            "Short Side Glue Weight": framShortFreqController.text,
            "Long Side Glue Weight": framLongFreqController.text,
            "Anodizing Thickness": framAnodFreqController.text,
          },
          "Remark": framRemarkController.text,
        },
        {
          "Stage": "Junction Box Assembly",
          "CheckPoint": {
            "Junction Box(Connector Appereance & Cable Length)":
                JbaJBController.text,
            "Silicon Glue Weight on the bottom (g)": JbaSgController.text,
            "Soldering Iron Temperature": JbaSitController.text,
            "Soldering Quality": JbaSQController.text,
          },
          "AcceptanceCriteria": {
            "Junction Box(Connector Appereance & Cable Length)":
                JbaJBAccepController.text,
            "Silicon Glue Weight on the bottom (g)": JbaSgAccepController.text,
            "Soldering Iron Temperature": JbaSitAccepController.text,
            "Soldering Quality": JbaSQAccepController.text,
          },
          "Frequency": {
            "Junction Box(Connector Appereance & Cable Length)":
                JbaJBFreq1Controller.text,
            "Silicon Glue Weight on the bottom (g)": JbaJBFreq2Controller.text,
            "Soldering Iron Temperature": JbaJBFreq3Controller.text,
            "Soldering Quality": JbaJBFreq4Controller.text,
          },
          "Remark": JbaJBRemarkController.text,
        },
        {
          "Stage": "JB Potting",
          "CheckPoint": {
            "A/B Glue Ratio": JBPoABController.text,
            "Potting material weight": JBPoPMController.text,
            "Nozzle Changing": JBPoNCController.text,
          },
          "AcceptanceCriteria": {
            "A/B Glue Ratio": JBPoAccep1Controller.text,
            "Potting material weight": JBPoAccep2Controller.text,
            "Nozzle Changing": JBPoAccep3Controller.text,
          },
          "Frequency": {
            "A/B Glue Ratio": JBPoFreq1Controller.text,
            "Potting material weight": JBPoFreq2Controller.text,
            "Nozzle Changing": JBPoFreq3Controller.text,
          },
          "Remark": JBPoRemarkController.text,
        },
        {
          "Stage": "Curing",
          "CheckPoint": {
            "Temperature": curTemController.text,
            "Humidity": curHumController.text,
            "Curing Time(h)": curCTController.text,
          },
          "AcceptanceCriteria": {
            "Temperature": curAccep1Controller.text,
            "Humidity": curAccep2Controller.text,
            "Curing Time(h)": curAccep2Controller.text,
          },
          "Frequency": {
            "Temperature": curFreq1Controller.text,
            "Humidity": curFreq2Controller.text,
            "Curing Time(h)": curFreq3Controller.text,
          },
          "Remark": curRemarkController.text,
        },
        {
          "Stage": "Buffing",
          "CheckPoint": {
            "Corner Edge,Buffing belt condition1": bufTem1Controller.text,
            "Corner Edge,Buffing belt condition2": bufTem2Controller.text,
            "Corner Edge,Buffing belt condition3": bufTem3Controller.text,
            "Corner Edge,Buffing belt condition4": bufTem4Controller.text,
            "Corner Edge,Buffing belt condition5": bufTem5Controller.text,
          },
          "AcceptanceCriteria": {
            "Corner Edge,Buffing belt condition": bufAccep1Controller.text,
          },
          "Frequency": {
            "Corner Edge,Buffing belt condition": bufFreq1Controller.text,
          },
          "Remark": bufRemarkController.text,
        },
        {
          "Stage": "Cleaning",
          "CheckPoint": {
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 1":
                cleTem1Controller.text,
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 2":
                cleTem2Controller.text,
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 3":
                cleTem3Controller.text,
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 4":
                cleTem4Controller.text,
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 5":
                cleTem5Controller.text,
          },
          "AcceptanceCriteria": {
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)":
                cleAccep1Controller.text,
          },
          "Frequency": {
            "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)":
                cleFreq1Controller.text,
          },
          "Remark": cleRemarkController.text,
        },
        {
          "Stage": "Flash Tester",
          "CheckPoint": {
            "Ambient Temp.": flaAmbController.text,
            "Module Temp.": flaMTController.text,
            "Sunsimulator Calibration": flaSunController.text,
            "Validation": flaValController.text,
            "Silver Reference Module EL Check": flaSilController.text,
          },
          "AcceptanceCriteria": {
            "Ambient Temp.": flaAmbAccep1Controller.text,
            "Module Temp.": flaAmbAccep2Controller.text,
            "Sunsimulator Calibration": flaAmbAccep3Controller.text,
            "Validation": flaAmbAccep4Controller.text,
            "Silver Reference Module EL Check": flaAmbAccep5Controller.text,
          },
          "Frequency": {
            "Ambient Temp.": flaFreq1Controller.text,
            "Module Temp.": flaFreq2Controller.text,
            "Sunsimulator Calibration": flaFreq3Controller.text,
            "Validation": flaFreq4Controller.text,
            "Silver Reference Module EL Check": flaFreq5Controller.text,
          },
          "Remark": flaRemarkController.text,
        },
        {
          "Stage": "Hipot Test",
          "CheckPoint": {
            "DCW1": hipDCW1Controller.text,
            "DCW2": hipDCW2Controller.text,
            "DCW3": hipDCW3Controller.text,
            "DCW4": hipDCW4Controller.text,
            "DCW5": hipDCW5Controller.text,
            "IR1": hipIR1Controller.text,
            "IR2": hipIR2Controller.text,
            "IR3": hipIR3Controller.text,
            "IR4": hipIR4Controller.text,
            "IR5": hipIR5Controller.text,
            "Ground Continuity1": hipGC1Controller.text,
            "Ground Continuity2": hipGC2Controller.text,
            "Ground Continuity3": hipGC3Controller.text,
            "Ground Continuity4": hipGC4Controller.text,
            "Ground Continuity5": hipGC5Controller.text,
            "Verification of Process Parameter": hipVPController.text,
          },
          "AcceptanceCriteria": {
            "DCW": hipAccep1Controller.text,
            "IR": hipAccep2Controller.text,
            "Ground Continuity": hipAccep3Controller.text,
            "Verification of Process Parameter": hipAccep4Controller.text,
          },
          "Frequency": {
            "DCW": hipFreq1Controller.text,
            "IR": hipFreq2Controller.text,
            "Ground Continuity": hipFreq3Controller.text,
            "Verification of Process Parameter": hipFreq4Controller.text,
          },
          "Remark": hipRemarkController.text,
        },
        {
          "Stage": "Post EL Test",
          "CheckPoint": {
            "Voltage & Current Verification in DC power supply":
                postVPController.text,
            "EL Inspection1": postEL1Controller.text,
            "EL Inspection2": postEL2Controller.text,
            "EL Inspection3": postEL3Controller.text,
            "EL Inspection4": postEL4Controller.text,
            "EL Inspection5": postEL5Controller.text,
            "Visual inspection1": postVI1Controller.text,
            "Visual inspection2": postVI2Controller.text,
            "Visual inspection3": postVI3Controller.text,
            "Visual inspection4": postVI4Controller.text,
            "Visual inspection5": postVI5Controller.text,
          },
          "AcceptanceCriteria": {
            "Voltage & Current Verification in DC power supply":
                postAccep1Controller.text,
            "EL Inspection1": postAccep2Controller.text,
            "Visual inspection1": postAccep3Controller.text,
          },
          "Frequency": {
            "Voltage & Current Verification in DC power supply":
                postFreq1Controller.text,
            "EL Inspection1": postFreq2Controller.text,
            "Visual inspection1": postFreq3Controller.text,
          },
          "Remark": postRemarkController.text,
        },
        {
          "Stage": "RFID",
          "CheckPoint": {
            "RFID Position": rfidPosController.text,
            "Cell & Module Make & Manufacturing Month Verification":
                rfidCellMController.text,
          },
          "AcceptanceCriteria": {
            "RFID Position": rfidAccep1Controller.text,
            "Cell & Module Make & Manufacturing Month Verification":
                rfidAccep2Controller.text,
          },
          "Frequency": {
            "RFID Position": rfidFreq1Controller.text,
            "Cell & Module Make & Manufacturing Month Verification":
                rfidFreq2Controller.text,
          },
          "Remark": rfidRemarkController.text,
        },
        {
          "Stage": "Final Visual Inspection",
          "CheckPoint": {
            "Visual Inspection1": finalVI1Controller.text,
            "Visual Inspection2": finalVI2Controller.text,
            "Visual Inspection3": finalVI3Controller.text,
            "Visual Inspection4": finalVI4Controller.text,
            "Visual Inspection5": finalVI5Controller.text,
            "Backlabel1": finalBack1Controller.text,
            "Backlabel2": finalBack2Controller.text,
            "Backlabel3": finalBack3Controller.text,
            "Backlabel4": finalBack4Controller.text,
            "Backlabel5": finalBack5Controller.text,
          },
          "AcceptanceCriteria": {
            "Visual Inspection": finalAccep1Controller.text,
            "Backlabel": finalAccep2Controller.text,
          },
          "Frequency": {
            "Visual Inspection": finalAccep1Controller.text,
            "Backlabel": finalAccep2Controller.text,
          },
          "Remark": finalRemarkController.text,
        },
        {
          "Stage": "Dimension measurement",
          "CheckPoint": {
            "L*W and Module Profile": dimLWController.text,
            "Mounting Hole X & Y Pitch": dimMHController.text,
            "Diagonal Difference": dimDDController.text,
            "Corner Gap": dimCGController.text,
            "JB Cable length": dimJBController.text,
          },
          "AcceptanceCriteria": {
            "L*W and Module Profile": dimAccep1Controller.text,
            "Mounting Hole X & Y Pitch": dimAccep2Controller.text,
            "Diagonal Difference": dimAccep3Controller.text,
            "Corner Gap": dimAccep4Controller.text,
            "JB Cable length": dimAccep5Controller.text,
          },
          "Frequency": {
            "L*W and Module Profile": dimFreq1Controller.text,
            "Mounting Hole X & Y Pitch": dimFreq2Controller.text,
            "Diagonal Difference": dimFreq3Controller.text,
            "Corner Gap": dimFreq4Controller.text,
            "JB Cable length": dimFreq5Controller.text,
          },
          "Remark": dimRemarkController.text,
        },
        {
          "Stage": "Packaging",
          "CheckPoint": {
            "Packaging Label": packPLController.text,
            "Content in Box": packCBController.text,
            "Box Condition": packBCController.text,
            "Wooden Pallet dimension": packWPController.text,
          },
          "AcceptanceCriteria": {
            "Packaging Label": packAccep1Controller.text,
            "Content in Box": packAccep2Controller.text,
            "Box Condition": packAccep3Controller.text,
            "Wooden Pallet dimension": packAccep4Controller.text,
          },
          "Frequency": {
            "Packaging Label": packFreq1Controller.text,
            "Content in Box": packFreq2Controller.text,
            "Box Condition": packFreq3Controller.text,
            "Wooden Pallet dimension": packFreq4Controller.text,
          },
          "Remark": packRemarkController.text,
        },
      ]
    ];
    print('Payloadssss');
    print(data);

    setState(() {
      _isLoading = true;
    });
    FocusScope.of(context).unfocus();
    final prefs = await SharedPreferences.getInstance();
    site = prefs.getString('site')!;

    final url = ("${site!}IPQC/AddPreLam");

    var response = await http.post(
      Uri.parse(url),
      body: json.encode(data),
      headers: {
        'Content-Type': 'application/json; charset=UTF-8',
      },
    );
    if (response.statusCode == 200) {
      var objData = json.decode(response.body);
      setState(() {
        prelamId = objData['UUID'];

        _isLoading = false;
      });

      print(objData['UUID']);
      if (objData['success'] == false) {
        Toast.show(objData['message'],
            duration: Toast.lengthLong,
            gravity: Toast.center,
            backgroundColor: AppColors.redColor);
      } else {
        if (_capturedImages.isNotEmpty) {
          uploadImages(prelamId);
        }
        if (sendStatus == 'Pending') {
          // uploadPDF((referencePdfFileBytes ?? []));
          Toast.show("PreLam Test Completed.",
              duration: Toast.lengthLong,
              gravity: Toast.center,
              backgroundColor: AppColors.blueColor);
          Navigator.of(context).pushReplacement(MaterialPageRoute(
              builder: (BuildContext context) => IpqcTestList()));
        } else {
          Toast.show("Data has been saved.",
              duration: Toast.lengthLong,
              gravity: Toast.center,
              backgroundColor: AppColors.blueColor);
        }
      }
    } else {
      Toast.show("Error In Server",
          duration: Toast.lengthLong, gravity: Toast.center);
    }
  }

  /*** Camera Method */
  // Future<void> _openCamera(
  //   TextEditingController controller,
  //   String imageKey,
  //   String type,
  //   String stage,
  // ) async {
  //   if (controller.text.startsWith('http')) {
  //     // If it's already a URL, don't try to re-upload
  //     return;
  //   }
  //   try {
  //     final ImagePicker _picker = ImagePicker();

  //     // Open the camera and capture an image
  //     XFile? image = await _picker.pickImage(source: ImageSource.camera);

  //     if (image != null) {
  //       final String currentDateTime =
  //           DateFormat('yyyy-MM-dd HH:mm:ss').format(DateTime.now());

  //       setState(() {
  //         controller.text = image.path; // Display image path in the field

  //         // Add to the list with type and stage
  //         _capturedImages.add(
  //           ImageMetadata(
  //             imageKey: imageKey,
  //             imagePath: image.path,
  //             timestamp: currentDateTime,
  //             type: type,
  //             stage: stage,
  //           ),
  //         );
  //       });

  //       print("â Image Captured and Stored: $imageKey, $currentDateTime");
  //     } else {
  //       ScaffoldMessenger.of(context).showSnackBar(
  //         const SnackBar(content: Text('Camera operation canceled')),
  //       );
  //     }
  //   } catch (e) {
  //     ScaffoldMessenger.of(context).showSnackBar(
  //       SnackBar(content: Text('Error capturing image: $e')),
  //     );
  //   }
  // }
  // Future<void> _openCamera(
  //   TextEditingController controller,
  //   String imageKey,
  //   String type,
  //   String stage,
  // ) async {
  //   if (controller.text.startsWith('http')) {
  //     // If it's already a URL, don't try to re-upload
  //     return;
  //   }
  //   try {
  //     final ImagePicker _picker = ImagePicker();

  //     // Open the camera and capture an image
  //     XFile? image = await _picker.pickImage(source: ImageSource.camera);

  //     if (image != null) {
  //       final String currentDateTime =
  //           DateFormat('yyyy-MM-dd HH:mm:ss').format(DateTime.now());

  //       setState(() {
  //         controller.text = image.path; // Display image path in the field

  //         // Check if the key already exists in the list
  //         int existingIndex = _capturedImages.indexWhere(
  //           (img) => img.imageKey == imageKey,
  //         );

  //         if (existingIndex != -1) {
  //           // Replace the existing entry with the new one
  //           _capturedImages[existingIndex] = ImageMetadata(
  //             imageKey: imageKey,
  //             imagePath: image.path,
  //             timestamp: currentDateTime,
  //             type: type,
  //             stage: stage,
  //           );
  //           print("ð Image Updated: $imageKey, $currentDateTime");
  //         } else {
  //           // Add a new entry if it doesn't exist
  //           _capturedImages.add(
  //             ImageMetadata(
  //               imageKey: imageKey,
  //               imagePath: image.path,
  //               timestamp: currentDateTime,
  //               type: type,
  //               stage: stage,
  //             ),
  //           );
  //           print("â Image Captured and Stored: $imageKey, $currentDateTime");
  //         }
  //       });
  //     } else {
  //       ScaffoldMessenger.of(context).showSnackBar(
  //         const SnackBar(content: Text('Camera operation canceled')),
  //       );
  //     }
  //   } catch (e) {
  //     ScaffoldMessenger.of(context).showSnackBar(
  //       SnackBar(content: Text('Error capturing image: $e')),
  //     );
  //   }
  // }
  Future<void> _openCamera(
    TextEditingController controller,
    String imageKey,
    String type,
    String stage,
  ) async {
    if (controller.text.startsWith('http')) {
      // If it's already a URL, don't try to re-upload
      return;
    }
    try {
      final ImagePicker _picker = ImagePicker();

      // Open the camera and capture an image
      XFile? image = await _picker.pickImage(source: ImageSource.camera);

      if (image != null) {
        final String currentDateTime =
            DateFormat('yyyy-MM-dd HH:mm:ss').format(DateTime.now());

        // Compress the image
        final compressedImage = await _compressImage(File(image.path));

        setState(() {
          controller.text =
              compressedImage.path; // Display compressed image path

          // Check if the key already exists in the list
          int existingIndex = _capturedImages.indexWhere(
            (img) => img.imageKey == imageKey,
          );

          if (existingIndex != -1) {
            // Replace the existing entry with the new one
            _capturedImages[existingIndex] = ImageMetadata(
              imageKey: imageKey,
              imagePath: compressedImage.path,
              timestamp: currentDateTime,
              type: type,
              stage: stage,
            );
            print("ð Image Updated: $imageKey, $currentDateTime");
          } else {
            // Add a new entry if it doesn't exist
            _capturedImages.add(
              ImageMetadata(
                imageKey: imageKey,
                imagePath: compressedImage.path,
                timestamp: currentDateTime,
                type: type,
                stage: stage,
              ),
            );
            print("â Image Captured and Stored: $imageKey, $currentDateTime");
          }
        });
      } else {
        ScaffoldMessenger.of(context).showSnackBar(
          const SnackBar(content: Text('Camera operation canceled')),
        );
      }
    } catch (e) {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text('Error capturing image: $e')),
      );
    }
  }

  Future<XFile> _compressImage(File file) async {
    final compressedImage = await FlutterImageCompress.compressAndGetFile(
      file.absolute.path, // Original file path
      '${file.parent.path}/compressed_${file.uri.pathSegments.last}', // Compressed file path
      quality: 50, // Compression quality (0-100)
    );

    if (compressedImage == null) {
      throw Exception("Image compression failed");
    }

    return compressedImage;
  }

/*** API Intregration for Camera */
  Future<void> uploadImages(String prelamId) async {
    try {
      bool hasLocalImages =
          _capturedImages.any((image) => !image.imagePath.startsWith('http'));

      if (!hasLocalImages) {
        print("â ï¸ No new images to upload. Skipping upload call.");
        Toast.show(
          "No new images to upload.",
          duration: Toast.lengthShort,
          gravity: Toast.center,
        );
        return;
      }
      var formData = FormData();

      // Add the PreLamDetailId (UUID)
      formData.fields.add(MapEntry('PreLamDetailId', prelamId));

      // Add images with their metadata
      for (var image in _capturedImages) {
        if (image.imagePath.startsWith('http')) {
          // Skip images already uploaded
          print("â­ï¸ Skipping already uploaded image: ${image.imagePath}");
          continue;
        }
        final bytes = await File(image.imagePath).readAsBytes();
        final fileName =
            '${image.imageKey}_${DateTime.now().microsecondsSinceEpoch}.jpg';

        // Add image binary
        formData.files.add(
          MapEntry(
            image.imageKey,
            MultipartFile.fromBytes(
              bytes,
              filename: fileName,
              contentType: MediaType('image', 'jpeg'),
            ),
          ),
        );

        // Add image metadata
        formData.fields
            .add(MapEntry('${image.imageKey}_timestamp', image.timestamp));
        formData.fields.add(MapEntry('${image.imageKey}_type', image.type));
        formData.fields.add(MapEntry('${image.imageKey}_stage', image.stage));
      }

      // Debug payload
      print("ð Payload Details:");
      print("Fields:");
      for (var field in formData.fields) {
        print("  ${field.key}: ${field.value}");
      }

      print("Files:");
      for (var file in formData.files) {
        print("  ${file.key}: ${file.value.filename}");
      }

      final url = '${site}IPQC/PreLamUploadImage';
      var response = await _dio.post(
        url,
        data: formData,
        options: Options(
          contentType: 'multipart/form-data',
          followRedirects: false,
          validateStatus: (status) => true,
        ),
      );

      print(response.statusCode);

      if (response.statusCode == 200) {
        Toast.show("Images uploaded successfully.",
            duration: Toast.lengthLong,
            gravity: Toast.center,
            backgroundColor: AppColors.blueColor);

        setState(() {
          _capturedImages.clear(); // Clear the array after successful upload
        });
      } else {
        throw Exception('Failed to upload images');
      }
    } catch (err) {
      print("â Error uploading images: $err");
      Toast.show("Error uploading images.",
          duration: Toast.lengthLong, gravity: Toast.center);
    }
  }

  void store() async {
    final prefs = await SharedPreferences.getInstance();
    setState(() {
      pic = prefs.getString('pic')!;
      personid = prefs.getString('personid')!;
      site = prefs.getString('site')!;
      designation = prefs.getString('designation')!;
      department = prefs.getString('department')!;
      token = prefs.getString('token')!;
      WorkLocation = prefs.getString('workLocation')!;
    });
    _get();
  }

  // Future _get() async {
  //   final prefs = await SharedPreferences.getInstance();
  //   setState(() {
  //     if (widget.id != '' && widget.id != null) {
  //       _isLoading = true;
  //     }
  //     site = prefs.getString('site')!;
  //   });
  //   final AllSolarData = ('${site!}IPQC/GetSpecificPreLam');
  //   final allSolarData = await http.post(
  //     Uri.parse(AllSolarData),
  //     body: jsonEncode(
  //         <String, String>{"JobCardDetailId": widget.id ?? '', "token": token}),
  //     headers: {
  //       'Content-Type': 'application/json; charset=UTF-8',
  //     },
  //   );

  //   setState(() {
  //     _isLoading = false;
  //   });
  //   var resBody = json.decode(allSolarData.body);
  //   if (mounted) {
  //     setState(() {
  //       if (resBody != '') {
  //         status = resBody['response']['Status'] ?? '';
  //         dateOfPostLam = resBody['response']['Date'] ?? '';
  //         dateController.text = resBody['response']['Date'] != ''
  //             ? DateFormat("EEE MMM dd, yyyy").format(
  //                 DateTime.parse(resBody['response']['Date'].toString()))
  //             : '';
  //         selectedShift = resBody['response']['Shift'] ?? '';
  //         lineController.text = resBody['response']['Line'] ?? '';
  //         poController.text = resBody['response']['PONo'] ?? '';

  //         referencePdfController.text = resBody['response']['PreLamPdf'] ?? '';
  //       }
  //     });
  //   }
  // }

  Future setApprovalStatus() async {
    setState(() {
      _isLoading = true;
    });
    FocusScope.of(context).unfocus();
    final url = ("${site!}IPQC/UpdatePreLamStatus");

    var params = {
      "Type": "Postlam Baliyali",
      "token": token,
      "CurrentUser": personid,
      "ApprovalStatus": approvalStatus,
      "JobCardDetailId": widget.id ?? ""
    };

    var response = await http.post(
      Uri.parse(url),
      body: json.encode(params),
      headers: {
        'Content-Type': 'application/json; charset=UTF-8',
      },
    );

    if (response.statusCode == 200) {
      setState(() {
        _isLoading = false;
      });
      var objData = json.decode(response.body);
      if (objData['success'] == false) {
        Toast.show("Please Try Again.",
            duration: Toast.lengthLong,
            gravity: Toast.center,
            backgroundColor: AppColors.redColor);
      } else {
        Toast.show("Post Lam Baliyali Test $approvalStatus .",
            duration: Toast.lengthLong,
            gravity: Toast.center,
            backgroundColor: AppColors.blueColor);
        Navigator.of(context).pushReplacement(MaterialPageRoute(
            builder: (BuildContext context) => IpqcTestList()));
      }
    } else {
      Toast.show("Error In Server",
          duration: Toast.lengthLong, gravity: Toast.center);
    }
  }

  Future setApprovalStatuss(prelamId) async {
    setState(() {
      _isLoading = true;
    });
    FocusScope.of(context).unfocus();
    final url = ("${site!}IPQC/UpdatePreLamStatus");

    var params = {
      "Type": "Postlam Baliyali",
      "token": token,
      "CurrentUser": personid,
      "ApprovalStatus": "Pending",
      "JobCardDetailId": prelamId ?? ""
    };

    var response = await http.post(
      Uri.parse(url),
      body: json.encode(params),
      headers: {
        'Content-Type': 'application/json; charset=UTF-8',
      },
    );

    if (response.statusCode == 200) {
      setState(() {
        _isLoading = false;
      });
      var objData = json.decode(response.body);
      if (objData['success'] == false) {
        Toast.show("Please Try Again.",
            duration: Toast.lengthLong,
            gravity: Toast.center,
            backgroundColor: AppColors.redColor);
      } else {
        Toast.show("Post Lam Baliyali Test Complete .",
            duration: Toast.lengthLong,
            gravity: Toast.center,
            backgroundColor: AppColors.blueColor);
        Navigator.of(context).pushReplacement(MaterialPageRoute(
            builder: (BuildContext context) => IpqcTestList()));
      }
    } else {
      Toast.show("Error In Server",
          duration: Toast.lengthLong, gravity: Toast.center);
    }
  }

  // Future<void> _pickReferencePDF() async {
  //   FilePickerResult? result = await FilePicker.platform.pickFiles(
  //     type: FileType.custom,
  //     allowedExtensions: ['pdf'],
  //   );

  //   if (result != null) {
  //     File pdffile = File(result.files.single.path!);
  //     setState(() {
  //       referencePdfFileBytes = pdffile.readAsBytesSync();
  //       referencePdfController.text = result.files.single.name;
  //     });
  //   } else {
  //     // User canceled the file picker
  //   }
  // }

  Future<void> _get() async {
    final prefs = await SharedPreferences.getInstance();

    setState(() {
      if (widget.id != '' && widget.id != null) {
        _isLoading = true;
      }
      site = prefs.getString('site')!;
    });

    final allSolarData = await http.post(
      Uri.parse('${site!}IPQC/GetSpecificPreLam'),
      body: jsonEncode(
          <String, String>{"JobCardDetailId": widget.id ?? '', "token": token}),
      headers: {
        'Content-Type': 'application/json; charset=UTF-8',
      },
    );

    setState(() {
      _isLoading = false;
    });

    var resBody = json.decode(allSolarData.body);

    if (mounted) {
      setState(() {
        if (resBody['response'] != null) {
          // Basic Information
          status = resBody['response']['Status'] ?? '';
          dateOfPostLam = resBody['response']['Date'] ?? '';
          dateController.text = resBody['response']['Date'] != ''
              ? DateFormat("EEE MMM dd, yyyy")
                  .format(DateTime.parse(resBody['response']['Date']))
              : '';
          selectedShift = resBody['response']['Shift'] ?? '';
          lineController.text = resBody['response']['Line'] ?? '';
          poController.text = resBody['response']['PONo'] ?? '';

          // Auto Edge Trimming
          final autoedge =
              resBody['response']['AutoEdgeTrimmingCheckPoint'] ?? {};
          trimQuality1Controller.text = autoedge['Trimming Quality1'] ?? '';
          trimQuality2Controller.text = autoedge['Trimming Quality2'] ?? '';
          trimQuality3Controller.text = autoedge['Trimming Quality3'] ?? '';
          trimQuality4Controller.text = autoedge['Trimming Quality4'] ?? '';
          trimQuality5Controller.text = autoedge['Trimming Quality5'] ?? '';
          trimBladeController.text =
              autoedge['Trimming Blade life cycle5'] ?? '';

          autoTrimRemarkController.text =
              resBody['response']['AutoEdgeTrimmingRemark'] ?? '';

          // 90 visual
          final vis =
              resBody['response']['90Â°VisualinspectionCheckPoint'] ?? {};
          _90vis1Controller.text = vis['Visual Inspection1'] ?? '';
          _90vis2Controller.text = vis['Visual Inspection2'] ?? '';
          _90vis3Controller.text = vis['Visual Inspection3'] ?? '';
          _90vis4Controller.text = vis['Visual Inspection4'] ?? '';
          _90vis5Controller.text = vis['Visual Inspection5'] ?? '';

          _90visRemarkController.text =
              resBody['response']['90Â°VisualinspectionRemark'] ?? '';

          // Framming
          final fram = resBody['response']['FramingCheckPoint'] ?? {};
          framGlueUniController.text =
              fram['Glue uniformity & continuity in frame groove'] ?? '';
          framShortSideController.text = fram['Short Side Glue Weight'] ?? '';
          framLongSideController.text = fram['Long Side Glue Weight'] ?? '';
          framAnodController.text = fram['Anodizing Thickness'] ?? '';

          framRemarkController.text =
              resBody['response']['FramingRemark'] ?? '';

          // Junction Box Assembly
          final junc =
              resBody['response']['JunctionBoxAssemblyCheckPoint'] ?? {};
          JbaJBController.text =
              junc['Junction Box(Connector Appereance & Cable Length)'] ?? '';
          JbaSgController.text =
              junc['Silicon Glue Weight on the bottom (g)'] ?? '';
          JbaSitController.text = junc['Soldering Iron Temperature'] ?? '';
          JbaSQController.text = junc['Soldering Quality'] ?? '';

          JbaJBRemarkController.text =
              resBody['response']['JunctionBoxAssemblyRemark'] ?? '';

          // JB Potting
          final JBPOtting = resBody['response']['JBPottingCheckPoint'] ?? {};
          JBPoABController.text = JBPOtting['A/B Glue Ratio'] ?? '';
          JBPoPMController.text = JBPOtting['Potting material weight'] ?? '';
          JBPoNCController.text = JBPOtting['Nozzle Changing'] ?? '';

          JBPoRemarkController.text =
              resBody['response']['JBPottingRemark'] ?? '';

          // Curing
          final cur = resBody['response']['CuringCheckPoint'] ?? {};
          curTemController.text = cur['Temperature'] ?? '';
          curHumController.text = cur['Humidity'] ?? '';
          curCTController.text = cur['Curing Time(h)'] ?? '';

          curRemarkController.text = resBody['response']['CuringRemark'] ?? '';

          // Buffing
          final buff = resBody['response']['BuffingCheckPoint'] ?? {};
          bufTem1Controller.text =
              buff['Corner Edge,Buffing belt condition1'] ?? '';
          bufTem2Controller.text =
              buff['Corner Edge,Buffing belt condition2'] ?? '';
          bufTem3Controller.text =
              buff['Corner Edge,Buffing belt condition3'] ?? '';
          bufTem4Controller.text =
              buff['Corner Edge,Buffing belt condition4'] ?? '';
          bufTem5Controller.text =
              buff['Corner Edge,Buffing belt condition5'] ?? '';

          bufRemarkController.text = resBody['response']['BuffingRemark'] ?? '';

          // Cleaning
          final clean = resBody['response']['CleaningCheckPoint'] ?? {};
          cleTem1Controller.text = clean[
                  'Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 1'] ??
              '';
          cleTem2Controller.text = clean[
                  'Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 2'] ??
              '';
          cleTem3Controller.text = clean[
                  'Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 3'] ??
              '';
          cleTem4Controller.text = clean[
                  'Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 4'] ??
              '';
          cleTem5Controller.text = clean[
                  'Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) 5'] ??
              '';

          cleRemarkController.text =
              resBody['response']['CleaningRemark'] ?? '';

          // Flash Tester
          final flash = resBody['response']['FlashTesterCheckPoint'] ?? {};
          flaAmbController.text = flash['Ambient Temp.'] ?? '';
          flaMTController.text = flash['Module Temp.'] ?? '';
          flaSunController.text = flash['Sunsimulator Calibration'] ?? '';
          flaValController.text = flash['Validation'] ?? '';
          flaSilController.text =
              flash['Silver Reference Module EL Check'] ?? '';

          flaRemarkController.text =
              resBody['response']['FlashTesterRemark'] ?? '';

          // Hipot
          final hipot = resBody['response']['HipotTestCheckPoint'] ?? {};
          hipDCW1Controller.text = hipot['DCW1'] ?? '';
          hipDCW2Controller.text = hipot['DCW2'] ?? '';
          hipDCW3Controller.text = hipot['DCW3'] ?? '';
          hipDCW4Controller.text = hipot['DCW4'] ?? '';
          hipDCW5Controller.text = hipot['DCW5'] ?? '';
          hipIR1Controller.text = hipot['IR1'] ?? '';
          hipIR2Controller.text = hipot['IR2'] ?? '';
          hipIR3Controller.text = hipot['IR3'] ?? '';
          hipIR4Controller.text = hipot['IR4'] ?? '';
          hipIR5Controller.text = hipot['IR5'] ?? '';
          hipGC1Controller.text = hipot['Ground Continuity1'] ?? '';
          hipGC2Controller.text = hipot['Ground Continuity2'] ?? '';
          hipGC3Controller.text = hipot['Ground Continuity3'] ?? '';
          hipGC4Controller.text = hipot['Ground Continuity4'] ?? '';
          hipGC5Controller.text = hipot['Ground Continuity5'] ?? '';
          hipVPController.text =
              hipot['Verification of Process Parameter'] ?? '';

          hipRemarkController.text =
              resBody['response']['HipotTestRemark'] ?? '';

          // Post EL Test
          final postEL = resBody['response']['PostELTestCheckPoint'] ?? {};
          postVPController.text =
              postEL['Voltage & Current Verification in DC power supply'] ?? '';
          postEL1Controller.text = postEL['EL Inspection1'] ?? '';
          postEL2Controller.text = postEL['EL Inspection2'] ?? '';
          postEL3Controller.text = postEL['EL Inspection3'] ?? '';
          postEL4Controller.text = postEL['EL Inspection4'] ?? '';
          postEL5Controller.text = postEL['EL Inspection5'] ?? '';
          postVI1Controller.text = postEL['Visual inspection1'] ?? '';
          postVI2Controller.text = postEL['Visual inspection2'] ?? '';
          postVI3Controller.text = postEL['Visual inspection3'] ?? '';
          postVI4Controller.text = postEL['Visual inspection4'] ?? '';
          postVI5Controller.text = postEL['Visual inspection5'] ?? '';

          postRemarkController.text =
              resBody['response']['PostELTestRemark'] ?? '';

          // RFID
          final rfid = resBody['response']['RFIDCheckPoint'] ?? {};
          rfidPosController.text = rfid['RFID Position'] ?? '';
          rfidCellMController.text =
              rfid['Cell & Module Make & Manufacturing Month Verification'] ??
                  '';
          rfidRemarkController.text = resBody['response']['RFIDRemark'] ?? '';

          // Final Visual Inspection
          final finalV =
              resBody['response']['FinalVisualInspectionCheckPoint'] ?? {};
          finalVI1Controller.text = finalV['Visual Inspection1'] ?? '';
          finalVI2Controller.text = finalV['Visual Inspection2'] ?? '';
          finalVI3Controller.text = finalV['Visual Inspection3'] ?? '';
          finalVI4Controller.text = finalV['Visual Inspection4'] ?? '';
          finalVI5Controller.text = finalV['Visual Inspection5'] ?? '';
          finalBack1Controller.text = finalV['Backlabel1'] ?? '';
          finalBack2Controller.text = finalV['Backlabel2'] ?? '';
          finalBack3Controller.text = finalV['Backlabel3'] ?? '';
          finalBack4Controller.text = finalV['Backlabel4'] ?? '';
          finalBack5Controller.text = finalV['Backlabel5'] ?? '';

          finalRemarkController.text =
              resBody['response']['FinalVisualInspectionRemark'] ?? '';

          // Dimension Measurement
          final dimensionData =
              resBody['response']['DimensionmeasurementCheckPoint'] ?? {};
          dimLWController.text = dimensionData['L*W and Module Profile'] ?? '';
          dimMHController.text =
              dimensionData['Mounting Hole X & Y Pitch'] ?? '';
          dimDDController.text = dimensionData['Diagonal Difference'] ?? '';
          dimCGController.text = dimensionData['Corner Gap'] ?? '';
          dimJBController.text = dimensionData['JB Cable length'] ?? '';
          dimRemarkController.text =
              resBody['response']['DimensionmeasurementRemark'] ?? '';

          //Packaging
          final packaging = resBody['response']['PackagingCheckPoint'] ?? {};
          packPLController.text = packaging['Packaging Label'] ?? '';
          packCBController.text = packaging['Content in Box'] ?? '';
          packBCController.text = packaging['Box Condition'] ?? '';
          packWPController.text = packaging['Wooden Pallet dimension'] ?? '';
          packRemarkController.text =
              resBody['response']['PackagingRemark'] ?? '';
          referencePdfController.text = resBody['response']['PreLamPdf'] ?? '';

          // Continue with other sections following the same pattern...

          // Image Data Handling
          final imageDetails =
              resBody['response']['ImageDetails'] as List<dynamic>? ?? [];
          _capturedImages.clear();

          for (var imageDetail in imageDetails) {
            _capturedImages.add(
              ImageMetadata(
                imageKey: imageDetail['ImageType'] ?? '',
                imagePath: imageDetail['ImageURL'] ?? '',
                timestamp: imageDetail['Timestamp'] ?? '',
                type: imageDetail['ImageType'] ?? '',
                stage: 'API Response',
              ),
            );
          }

          // Update image controllers
          _updateImageControllers();
        }
      });
    }
  }

  void _updateImageControllers() {
    print("_capturedImages");
    print(_capturedImages);
    for (var image in _capturedImages) {
      switch (image.imageKey) {
        case 'AutoEdge_Image1':
          autotrimCam1Controller.text = image.imagePath ?? '';
          break;
        case 'AutoEdge_Image2':
          autotrimCam2Controller.text = image.imagePath ?? '';
          break;
        case 'AutoEdge_Image3':
          autotrimCam3Controller.text = image.imagePath ?? '';
          break;
        case 'AutoEdge_Image4':
          autotrimCam4Controller.text = image.imagePath ?? '';
          break;

        case 'AutoEdge_Image5':
          autotrimCam5Controller.text = image.imagePath ?? '';
          break;

        case '90_Visual_inspection_Image1':
          _90visCam1Controller.text = image.imagePath ?? '';
          break;
        case '90_Visual_inspection_Image2':
          _90visCam2Controller.text = image.imagePath ?? '';
          break;
        case '90_Visual_inspection_Image3':
          _90visCam3Controller.text = image.imagePath ?? '';
          break;
        case '90_Visual_inspection_Image4':
          _90visCam4Controller.text = image.imagePath ?? '';
          break;
        case '90_Visual_inspection_Image5':
          _90visCam5Controller.text = image.imagePath ?? '';
          break;

        case 'Cleaning_Image1':
          cleTemCam1Controller.text = image.imagePath ?? '';
          break;
        case 'Cleaning_Image2':
          cleTemCam2Controller.text = image.imagePath ?? '';
          break;
        case 'Cleaning_Image3':
          cleTemCam3Controller.text = image.imagePath ?? '';
          break;
        case 'Cleaning_Image4':
          cleTemCam4Controller.text = image.imagePath ?? '';
          break;
        case 'Cleaning_Image5':
          cleTemCam5Controller.text = image.imagePath ?? '';
          break;
        case 'DCW_Image1':
          hipDCWCam1Controller.text = image.imagePath ?? '';
          break;
        case 'DCW_Image2':
          hipDCWCam2Controller.text = image.imagePath ?? '';
          break;
        case 'DCW_Image3':
          hipDCWCam3Controller.text = image.imagePath ?? '';
          break;
        case 'DCW_Image4':
          hipDCWCam4Controller.text = image.imagePath ?? '';
          break;
        case 'DCW_Image5':
          hipDCWCam5Controller.text = image.imagePath ?? '';
          break;
        case 'IR_Image1':
          hipIRCam1Controller.text = image.imagePath ?? '';
          break;
        case 'IR_Image2':
          hipIRCam2Controller.text = image.imagePath ?? '';
          break;
        case 'IR_Image3':
          hipIRCam3Controller.text = image.imagePath ?? '';
          break;
        case 'IR_Image4':
          hipIRCam4Controller.text = image.imagePath ?? '';
          break;
        case 'IR_Image5':
          hipIRCam5Controller.text = image.imagePath ?? '';
          break;
        case 'Ground_Continuity_Image1':
          hipGCCam1Controller.text = image.imagePath ?? '';
          break;
        case 'Ground_Continuity_Image2':
          hipGCCam2Controller.text = image.imagePath ?? '';
          break;
        case 'Ground_Continuity_Image3':
          hipGCCam3Controller.text = image.imagePath ?? '';
          break;
        case 'Ground_Continuity_Image4':
          hipGCCam4Controller.text = image.imagePath ?? '';
          break;
        case 'Ground_Continuity_Image5':
          hipGCCam5Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image1':
          postELCam1Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image2':
          postELCam2Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image3':
          postELCam3Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image4':
          postELCam4Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image5':
          postELCam5Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image6':
          postVICam1Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image7':
          postVICam2Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image8':
          postVICam3Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image9':
          postVICam4Controller.text = image.imagePath ?? '';
          break;
        case 'Post_EL_Test_Image10':
          postVICam5Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image1':
          finalVICam1Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image2':
          finalVICam2Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image3':
          finalVICam3Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image4':
          finalVICam4Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image5':
          finalVICam5Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image6':
          finalBackCam1Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image7':
          finalBackCam2Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image8':
          finalBackCam3Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image9':
          finalBackCam4Controller.text = image.imagePath ?? '';
          break;
        case 'Final_Visual_Inspection_Image10':
          finalBackCam5Controller.text = image.imagePath ?? '';
          break;
      }
    }
  }

  // uploadPDF(List<int> referenceBytes) async {
  //   setState(() {
  //     _isLoading = true;
  //   });
  //   final prefs = await SharedPreferences.getInstance();
  //   site = prefs.getString('site')!;

  //   var currentdate = DateTime.now().microsecondsSinceEpoch;
  //   var formData = FormData.fromMap({
  //     "JobCardDetailId": prelamId,
  //     "PreLamPdf": MultipartFile.fromBytes(
  //       referenceBytes,
  //       filename: ('${referencePdfController.text}$currentdate.pdf'),
  //       contentType: MediaType("application", 'pdf'),
  //     ),
  //   });
  //   _response = await _dio.post(('${site!}IPQC/UploadPreLamPdf'), // Prod

  //       options: Options(
  //         contentType: 'multipart/form-data',
  //         followRedirects: false,
  //         validateStatus: (status) => true,
  //       ),
  //       data: formData);

  //   try {
  //     if (_response?.statusCode == 200) {
  //       setState(() {
  //         _isLoading = false;
  //       });

  //       Toast.show("Post Lam Test Completed.",
  //           duration: Toast.lengthLong,
  //           gravity: Toast.center,
  //           backgroundColor: AppColors.blueColor);
  //       Navigator.of(context).pushReplacement(MaterialPageRoute(
  //           builder: (BuildContext context) => IpqcTestList()));
  //     } else {
  //       Toast.show("Error In Server",
  //           duration: Toast.lengthLong, gravity: Toast.center);
  //     }
  //   } catch (err) {
  //     print("Error");
  //   }
  // }

  Widget _getFAB() {
    return Padding(
      padding: const EdgeInsets.only(bottom: 70),
      child: FloatingActionButton(
        onPressed: () {
          if (status != 'Pending') {
            setState(() {
              sendStatus = 'Inprogress';
            });
            createData();
          }
        },
        child: ClipOval(
          child: Image.asset(
            AppAssets.save,
            height: 70,
            width: 60,
          ),
        ),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    ToastContext().init(context);
    return GestureDetector(
      onTap: () {
        FocusScopeNode currentFocus = FocusScope.of(context);
        if (!currentFocus.hasPrimaryFocus) {
          currentFocus.unfocus();
        }
      },
      child: LayoutBuilder(
          builder: (BuildContext context, BoxConstraints viewportConstraints) {
        return Scaffold(
          resizeToAvoidBottomInset: true,
          backgroundColor: AppColors.white,
          appBar: GautamAppBar(
            organization: "organizationtype",
            isBackRequired: true,
            memberId: personid,
            imgPath: "ImagePath",
            memberPic: pic,
            logo: "logo",
            onTap: () {
              Navigator.push(context, MaterialPageRoute(builder: (context) {
                return widget.id != "" && widget.id != null
                    ? IpqcTestList()
                    : IpqcPage();
              }));
            },
          ),
          body: _isLoading
              ? AppLoader()
              : Container(
                  padding: EdgeInsets.symmetric(horizontal: 5),
                  child: setPage == "trimming"
                      ? Stack(
                          alignment: Alignment.center,
                          fit: StackFit.expand,
                          children: [
                            SingleChildScrollView(
                              child: Form(
                                key: _postLamFormKey,
                                autovalidateMode:
                                    AutovalidateMode.onUserInteraction,
                                child: Column(
                                  mainAxisAlignment: MainAxisAlignment.center,
                                  crossAxisAlignment: CrossAxisAlignment.start,
                                  children: <Widget>[
                                    Container(
                                      alignment: Alignment.center,
                                      child: Column(
                                        mainAxisAlignment:
                                            MainAxisAlignment.center,
                                        crossAxisAlignment:
                                            CrossAxisAlignment.center,
                                        children: [
                                          Container(
                                            alignment: Alignment.center,
                                            child: Column(
                                              mainAxisAlignment:
                                                  MainAxisAlignment.center,
                                              crossAxisAlignment:
                                                  CrossAxisAlignment.center,
                                              children: [
                                                Image.asset(
                                                  AppAssets.imgLogo,
                                                  height: 100,
                                                  width: 230,
                                                ),
                                              ],
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                    const Center(
                                      child: Padding(
                                        padding: EdgeInsets.only(top: 10),
                                        child: Text(
                                          "Incoming Production Quality Plan",
                                          style: TextStyle(
                                            fontSize: 27,
                                            color: AppColors.black,
                                            fontFamily: appFontFamily,
                                            fontWeight: FontWeight.w700,
                                          ),
                                        ),
                                      ),
                                    ),
                                    const Center(
                                      child: Text(
                                        "(Post Lam IPQC Checklist)",
                                        style: TextStyle(
                                          fontSize: 20,
                                          color: AppColors.black,
                                          fontFamily: appFontFamily,
                                          fontWeight: FontWeight.w700,
                                        ),
                                      ),
                                    ),
                                    const SizedBox(
                                      height: 35,
                                    ),
                                    Row(
                                      children: [
                                        Text(
                                          'Document No : ',
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                        const SizedBox(
                                          width: 8,
                                        ),
                                        Text(
                                          'GSPL/IPQC/IP/003',
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                      ],
                                    ),
                                    SizedBox(
                                      height: 8,
                                    ),
                                    Row(
                                      children: [
                                        Text(
                                          'Rev.No. / Rev. Date : ',
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                        const SizedBox(
                                          width: 8,
                                        ),
                                        Text(
                                          'Ver 1.0/01.12.2024',
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                      ],
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Date",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    const SizedBox(
                                      height: 4,
                                    ),
                                    TextFormField(
                                        controller: dateController,
                                        keyboardType: TextInputType.text,
                                        textInputAction: TextInputAction.next,
                                        decoration: AppStyles
                                            .textFieldInputDecoration
                                            .copyWith(
                                                hintText: "Please Enter Date",
                                                counterText: '',
                                                fillColor: Color.fromARGB(
                                                    255, 215, 243, 207),
                                                suffixIcon: Image.asset(
                                                  AppAssets.icCalenderBlue,
                                                  color: AppColors.primaryColor,
                                                )),
                                        style: AppStyles.textInputTextStyle,
                                        readOnly: status == 'Pending' &&
                                                designation != "QC"
                                            ? true
                                            : false,
                                        onTap: () async {
                                          if (status != 'Pending') {
                                            DateTime date = DateTime(2021);
                                            FocusScope.of(context)
                                                .requestFocus(FocusNode());
                                            date = (await showDatePicker(
                                                context: context,
                                                initialDate: DateTime.now(),
                                                firstDate: DateTime(2024),
                                                lastDate: DateTime.now()))!;
                                            dateController.text =
                                                DateFormat("EEE MMM dd, yyyy")
                                                    .format(DateTime.parse(
                                                        date.toString()));
                                            setState(() {
                                              dateOfPostLam =
                                                  DateFormat("yyyy-MM-dd")
                                                      .format(
                                                DateTime.parse(date.toString()),
                                              );
                                            });
                                          }
                                        },
                                        validator: MultiValidator([
                                          RequiredValidator(
                                              errorText: "Please Enter Date")
                                        ])),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Shift",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    const SizedBox(
                                      height: 4,
                                    ),
                                    DropdownButtonFormField<String>(
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                              hintText: "Please Select Shift",
                                              counterText: '',
                                              contentPadding:
                                                  EdgeInsets.all(10)),
                                      borderRadius: BorderRadius.circular(20),
                                      items: shiftList
                                          .map((label) => DropdownMenuItem(
                                                value:
                                                    label['value'].toString(),
                                                child: Text(label['key'],
                                                    style: AppStyles
                                                        .textInputTextStyle),
                                              ))
                                          .toList(),
                                      onChanged: designation != "QC" &&
                                              status == "Pending"
                                          ? null
                                          : (val) {
                                              setState(() {
                                                selectedShift = val!;
                                              });
                                            },
                                      value: selectedShift != ''
                                          ? selectedShift
                                          : null,
                                      validator: (value) {
                                        if (value == null || value.isEmpty) {
                                          return 'Please select a Shift';
                                        }
                                        return null; // Return null if the validation is successful
                                      },
                                    ),
                                    SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Line",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: lineController,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText: "Please Enter Line",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Enter Line",
                                          ),
                                        ],
                                      ),
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Po.No",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: poController,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText: "Please Enter Po.No",
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Enter Po.No",
                                          ),
                                        ],
                                      ),
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    /************Trimming**************************************** */
                                    const Center(
                                      child: Text(
                                        "Auto Edge Trimming",
                                        style: TextStyle(
                                          fontSize: 20,
                                          color: AppColors.primaryColor,
                                          fontFamily: appFontFamily,
                                          fontWeight: FontWeight.w700,
                                        ),
                                      ),
                                    ),
                                    const SizedBox(
                                      height: 35,
                                    ),
                                    Text(
                                      "Frequency",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: autoTrimFreq1Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText: "5 Pieces per Shift",
                                        counterText: '',
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: true,
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Trimming Quality",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: trimQuality1Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Please Enter Trimming Quality",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText:
                                                "Please Enter Trimming Quality",
                                          ),
                                        ],
                                      ),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    Text(
                                      "Picture Trimming Quality 1",
                                      style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold),
                                    ),
                                    TextFormField(
                                      controller: autotrimCam1Controller,
                                      decoration: InputDecoration(
                                        hintText:
                                            "Please Capture a Trimming Quality Picture",
                                        counterText: '',
                                        contentPadding:
                                            const EdgeInsets.all(10),
                                        suffixIcon: IconButton(
                                          onPressed: () async {
                                            if (status != 'Pending') {
                                              await _openCamera(
                                                  autotrimCam1Controller,
                                                  'AutoEdge_Image1',
                                                  /** image name */
                                                  'Trimming_Quality',
                                                  /*** Type  */
                                                  'Auto Edge Trimming' /** Stage */
                                                  );
                                            }
                                          },
                                          icon: const Icon(Icons.camera_alt),
                                        ),
                                        border: const OutlineInputBorder(),
                                      ),
                                      readOnly: true,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Click Picture ",
                                          ),
                                        ],
                                      ),
                                      enabled: !(widget.id != null &&
                                          widget.id != '' &&
                                          autotrimCam1Controller.text
                                              .isNotEmpty), // Disable the entire field if conditions are met
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    TextFormField(
                                      controller: trimQuality2Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Please Enter Trimming Quality",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText:
                                                "Please Enter Trimming Quality",
                                          ),
                                        ],
                                      ),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    Text(
                                      "Picture Trimming Quality 2",
                                      style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold),
                                    ),
                                    TextFormField(
                                      controller: autotrimCam2Controller,
                                      decoration: InputDecoration(
                                        hintText:
                                            "Please Capture a Trimming Quality Picture",
                                        counterText: '',
                                        contentPadding:
                                            const EdgeInsets.all(10),
                                        suffixIcon: IconButton(
                                          onPressed: () async {
                                            if (status != 'Pending') {
                                              await _openCamera(
                                                  autotrimCam2Controller,
                                                  'AutoEdge_Image2',
                                                  /** image name */
                                                  'Trimming_Quality',
                                                  /*** Type  */
                                                  'Auto Edge Trimming' /** Stage */
                                                  );
                                            }
                                          },
                                          icon: const Icon(Icons.camera_alt),
                                        ),
                                        border: const OutlineInputBorder(),
                                      ),
                                      readOnly: true,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Click Picture ",
                                          ),
                                        ],
                                      ),
                                      enabled: !(widget.id != null &&
                                          widget.id != '' &&
                                          autotrimCam2Controller
                                              .text.isNotEmpty),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    TextFormField(
                                      controller: trimQuality3Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Please Enter Trimming Quality",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText:
                                                "Please Enter Trimming Quality",
                                          ),
                                        ],
                                      ),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    Text(
                                      "Picture Trimming Quality 3",
                                      style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold),
                                    ),
                                    TextFormField(
                                      controller: autotrimCam3Controller,
                                      decoration: InputDecoration(
                                        hintText:
                                            "Please Capture a Trimming Quality Picture",
                                        counterText: '',
                                        contentPadding:
                                            const EdgeInsets.all(10),
                                        suffixIcon: IconButton(
                                          onPressed: () async {
                                            if (status != 'Pending') {
                                              await _openCamera(
                                                  autotrimCam3Controller,
                                                  'AutoEdge_Image3',
                                                  /** image name */
                                                  'Trimming_Quality',
                                                  /*** Type  */
                                                  'Auto Edge Trimming' /** Stage */
                                                  );
                                            }
                                          },
                                          icon: const Icon(Icons.camera_alt),
                                        ),
                                        border: const OutlineInputBorder(),
                                      ),
                                      readOnly: true,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Click Picture ",
                                          ),
                                        ],
                                      ),
                                      enabled: !(widget.id != null &&
                                          widget.id != '' &&
                                          autotrimCam3Controller
                                              .text.isNotEmpty),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    TextFormField(
                                      controller: trimQuality4Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Please Enter Trimming Quality",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText:
                                                "Please Enter Trimming Quality",
                                          ),
                                        ],
                                      ),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    Text(
                                      "Picture Trimming Quality 4",
                                      style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold),
                                    ),
                                    TextFormField(
                                      controller: autotrimCam4Controller,
                                      decoration: InputDecoration(
                                        hintText:
                                            "Please Capture a Trimming Quality Picture",
                                        counterText: '',
                                        contentPadding:
                                            const EdgeInsets.all(10),
                                        suffixIcon: IconButton(
                                          onPressed: () async {
                                            if (status != 'Pending') {
                                              await _openCamera(
                                                  autotrimCam4Controller,
                                                  'AutoEdge_Image4',
                                                  /** image name */
                                                  'Trimming_Quality',
                                                  /*** Type  */
                                                  'Auto Edge Trimming' /** Stage */
                                                  );
                                            }
                                          },
                                          icon: const Icon(Icons.camera_alt),
                                        ),
                                        border: const OutlineInputBorder(),
                                      ),
                                      readOnly: true,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Click Picture ",
                                          ),
                                        ],
                                      ),
                                      enabled: !(widget.id != null &&
                                          widget.id != '' &&
                                          autotrimCam4Controller
                                              .text.isNotEmpty),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    TextFormField(
                                      controller: trimQuality5Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Please Enter Trimming Quality",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText:
                                                "Please Enter Trimming Quality",
                                          ),
                                        ],
                                      ),
                                    ),
                                    const SizedBox(
                                      height: 10,
                                    ),
                                    Text(
                                      "Picture Trimming Quality 5",
                                      style: TextStyle(
                                          fontSize: 16,
                                          fontWeight: FontWeight.bold),
                                    ),
                                    TextFormField(
                                      controller: autotrimCam5Controller,
                                      decoration: InputDecoration(
                                        hintText:
                                            "Please Capture a Trimming Quality Picture",
                                        counterText: '',
                                        contentPadding:
                                            const EdgeInsets.all(10),
                                        suffixIcon: IconButton(
                                          onPressed: () async {
                                            if (status != 'Pending') {
                                              await _openCamera(
                                                  autotrimCam5Controller,
                                                  'AutoEdge_Image5',
                                                  /** image name */
                                                  'Trimming_Quality',
                                                  /*** Type  */
                                                  'Auto Edge Trimming' /** Stage */
                                                  );
                                            }
                                          },
                                          icon: const Icon(Icons.camera_alt),
                                        ),
                                        border: const OutlineInputBorder(),
                                      ),
                                      readOnly: true,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText: "Please Click Picture ",
                                          ),
                                        ],
                                      ),
                                      enabled: !(widget.id != null &&
                                          widget.id != '' &&
                                          autotrimCam5Controller
                                              .text.isNotEmpty),
                                    ),
                                    SizedBox(
                                      height: 10,
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Acceptance Criteria",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: autoTrimAccep1Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Excess layer from the glass edge should be removed,Uneven Trimming not allowed",
                                        counterText: '',
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: true,
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Container(
                                      margin:
                                          EdgeInsets.symmetric(vertical: 10.0),
                                      child: Divider(
                                        color: Colors.black,
                                        height: 2.0,
                                        thickness: 2.0,
                                      ),
                                    ),
                                    Text(
                                      "Frequency",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 15,
                                    ),
                                    TextFormField(
                                      controller: autoTrimFreq2Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText: "Once per month",
                                        counterText: '',
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: true,
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Trimming Blade life cycle",
                                      // "Physical verification of union trimming & Blade replacing frequency",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: trimBladeController,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText:
                                            "Please Enter Trimming Blade life cycle",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      validator: MultiValidator(
                                        [
                                          RequiredValidator(
                                            errorText:
                                                "Please Enter Trimming Blade life cycle",
                                          ),
                                        ],
                                      ),
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Acceptance Criteria",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 15,
                                    ),
                                    TextFormField(
                                      controller: autoTrimAccep2Controller,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText: "Worn out not allowed",
                                        counterText: '',
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: true,
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Text(
                                      "Remark",
                                      style:
                                          AppStyles.textfieldCaptionTextStyle,
                                    ),
                                    SizedBox(
                                      height: 5,
                                    ),
                                    TextFormField(
                                      controller: autoTrimRemarkController,
                                      keyboardType: TextInputType.text,
                                      textInputAction: TextInputAction.next,
                                      decoration: AppStyles
                                          .textFieldInputDecoration
                                          .copyWith(
                                        hintText: "Remark ",
                                        counterText: '',
                                        fillColor:
                                            Color.fromARGB(255, 215, 243, 207),
                                      ),
                                      style: AppStyles.textInputTextStyle,
                                      readOnly: status == 'Pending' &&
                                              designation != "QC"
                                          ? true
                                          : false,
                                      // validator: MultiValidator(
                                      //   [
                                      //     RequiredValidator(
                                      //       errorText: "Please Enter  Remark",
                                      //     ),
                                      //   ],
                                      // ),
                                    ),
                                    const SizedBox(
                                      height: 15,
                                    ),
                                    Padding(
                                        padding:
                                            EdgeInsets.fromLTRB(0, 10, 0, 0)),
                                    _isLoading
                                        ? Center(
                                            child: CircularProgressIndicator())
                                        : AppButton(
                                            textStyle: const TextStyle(
                                              fontWeight: FontWeight.w700,
                                              color: AppColors.white,
                                              fontSize: 16,
                                            ),
                                            onTap: () {
                                              AppHelper.hideKeyboard(context);
                                              // if (status != 'Pending') {
                                              //   setState(() {
                                              //     sendStatus = 'Inprogress';
                                              //   });
                                              //   // createData();
                                              // }
                                              _postLamFormKey
                                                  .currentState!.save;
                                              if (_postLamFormKey.currentState!
                                                  .validate()) {
                                                if (status != 'Pending') {
                                                  setState(() {
                                                    sendStatus = 'Inprogress';
                                                    // setPage =
                                                    //     'postlamvisualinspection';
                                                  });
                                                  createData();
                                                }
                                                //  createData();
                                                setState(() {
                                                  setPage =
                                                      'postlamvisualinspection';
                                                });
                                              }
                                            },
                                            label: "Next",
                                            organization: '',
                                          ),
                                    const SizedBox(
                                      height: 18,
                                    ),
                                    Container(
                                      alignment: Alignment.center,
                                      child: const Column(
                                        mainAxisAlignment:
                                            MainAxisAlignment.center,
                                        crossAxisAlignment:
                                            CrossAxisAlignment.center,
                                        children: [
                                          Text(
                                            "Powered By Gautam Solar Pvt. Ltd.",
                                            style: TextStyle(
                                              fontSize: 14,
                                              fontFamily: appFontFamily,
                                              color: AppColors.greyColor,
                                              fontWeight: FontWeight.w400,
                                            ),
                                          ),
                                          SizedBox(
                                            height: 10,
                                          ),
                                        ],
                                      ),
                                    ),
                                  ],
                                ),
                              ),
                            ),
                          ],
                        )
                      : setPage == "postlamvisualinspection"
                          /************Post Lam Visual Inspection****************** */
                          ? Stack(
                              alignment: Alignment.center,
                              fit: StackFit.expand,
                              children: [
                                SingleChildScrollView(
                                  child: Form(
                                    key: _postLamFormKey,
                                    autovalidateMode:
                                        AutovalidateMode.onUserInteraction,
                                    child: Column(
                                      mainAxisAlignment:
                                          MainAxisAlignment.center,
                                      crossAxisAlignment:
                                          CrossAxisAlignment.start,
                                      children: <Widget>[
                                        Container(
                                          alignment: Alignment.center,
                                          child: Column(
                                            mainAxisAlignment:
                                                MainAxisAlignment.center,
                                            crossAxisAlignment:
                                                CrossAxisAlignment.center,
                                            children: [
                                              Image.asset(
                                                AppAssets.imgLogo,
                                                height: 100,
                                                width: 230,
                                              ),
                                            ],
                                          ),
                                        ),
                                        const Center(
                                            child: Padding(
                                                padding:
                                                    EdgeInsets.only(top: 10),
                                                child: Text(
                                                    "Incoming Production Quality Control",
                                                    style: TextStyle(
                                                        fontSize: 27,
                                                        color: AppColors.black,
                                                        fontFamily:
                                                            appFontFamily,
                                                        fontWeight:
                                                            FontWeight.w700)))),
                                        const Center(
                                            child: Text(
                                                "(Post Lam IPQC Checklist)",
                                                style: TextStyle(
                                                    fontSize: 20,
                                                    color: AppColors.black,
                                                    fontFamily: appFontFamily,
                                                    fontWeight:
                                                        FontWeight.w700))),
                                        const SizedBox(
                                          height: 35,
                                        ),
                                        Row(
                                          children: [
                                            Text(
                                              'Document No : ',
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            const SizedBox(
                                              width: 8,
                                            ),
                                            Text(
                                              'GSPL/IPQC/IPC/003',
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                          ],
                                        ),
                                        SizedBox(
                                          height: 8,
                                        ),
                                        Row(
                                          children: [
                                            Text(
                                              'Rev.No. / Rev. Date : ',
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            const SizedBox(
                                              width: 8,
                                            ),
                                            Text(
                                              'Ver.2.0 / 20-03-2024',
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                          ],
                                        ),
                                        const SizedBox(
                                          height: 15,
                                        ),
                                        const Center(
                                            child: Text("90Â° Visual Inspection",
                                                style: TextStyle(
                                                    fontSize: 20,
                                                    color: Color.fromARGB(
                                                        255, 13, 160, 0),
                                                    fontFamily: appFontFamily,
                                                    fontWeight:
                                                        FontWeight.w700))),
                                        const SizedBox(
                                          height: 20,
                                        ),
                                        Text(
                                          "Frequency",
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90visFreq1Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText: "5 pieces per Shift",
                                            counterText: '',
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: true,
                                        ),
                                        const SizedBox(
                                          height: 15,
                                        ),
                                        Text(
                                          "90Â° Visual inspection",
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90vis1Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText:
                                                "Please Enter 90Â° Visual inspection",
                                            counterText: '',
                                            fillColor: Color.fromARGB(
                                                255, 215, 243, 207),
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: status == 'Pending' &&
                                                  designation != "QC"
                                              ? true
                                              : false,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Enter 90Â° Visual inspection",
                                              ),
                                            ],
                                          ),
                                        ),
                                        SizedBox(
                                          height: 10,
                                        ),
                                        Text(
                                          "Picture Visual Inspection 1",
                                          style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold),
                                        ),
                                        TextFormField(
                                          controller: _90visCam1Controller,
                                          decoration: InputDecoration(
                                            hintText:
                                                "Please Capture a Visual Inspection Picture",
                                            counterText: '',
                                            contentPadding:
                                                const EdgeInsets.all(10),
                                            suffixIcon: IconButton(
                                              onPressed: () async {
                                                if (status != 'Pending') {
                                                  await _openCamera(
                                                      _90visCam1Controller,
                                                      '90_Visual_inspection_Image1',
                                                      /** image name */
                                                      'Visual Inspection',
                                                      /*** Type  */
                                                      '90Â° Visual Inspection' /** Stage */
                                                      );
                                                }
                                              },
                                              icon:
                                                  const Icon(Icons.camera_alt),
                                            ),
                                            border: const OutlineInputBorder(),
                                          ),
                                          readOnly: true,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Click Picture ",
                                              ),
                                            ],
                                          ),
                                          enabled: !(widget.id != null &&
                                              widget.id != '' &&
                                              _90visCam1Controller
                                                  .text.isNotEmpty),
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90vis2Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText:
                                                "Please Enter 90Â° Visual inspection",
                                            counterText: '',
                                            fillColor: Color.fromARGB(
                                                255, 215, 243, 207),
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: status == 'Pending' &&
                                                  designation != "QC"
                                              ? true
                                              : false,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Enter 90Â° Visual inspection",
                                              ),
                                            ],
                                          ),
                                        ),
                                        SizedBox(
                                          height: 10,
                                        ),
                                        Text(
                                          "Picture Visual Inspection 2",
                                          style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold),
                                        ),
                                        TextFormField(
                                          controller: _90visCam2Controller,
                                          decoration: InputDecoration(
                                            hintText:
                                                "Please Capture a Visual Inspection Picture",
                                            counterText: '',
                                            contentPadding:
                                                const EdgeInsets.all(10),
                                            suffixIcon: IconButton(
                                              onPressed: () async {
                                                if (status != 'Pending') {
                                                  await _openCamera(
                                                      _90visCam2Controller,
                                                      '90_Visual_inspection_Image2',
                                                      /** image name */
                                                      'Visual Inspection',
                                                      /*** Type  */
                                                      '90Â° Visual Inspection' /** Stage */
                                                      );
                                                }
                                              },
                                              icon:
                                                  const Icon(Icons.camera_alt),
                                            ),
                                            border: const OutlineInputBorder(),
                                          ),
                                          readOnly: true,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Click Picture ",
                                              ),
                                            ],
                                          ),
                                          enabled: !(widget.id != null &&
                                              widget.id != '' &&
                                              _90visCam2Controller
                                                  .text.isNotEmpty),
                                        ),
                                        SizedBox(
                                          height: 10,
                                        ),
                                        TextFormField(
                                          controller: _90vis3Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText:
                                                "Please Enter 90Â° Visual inspection",
                                            counterText: '',
                                            fillColor: Color.fromARGB(
                                                255, 215, 243, 207),
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: status == 'Pending' &&
                                                  designation != "QC"
                                              ? true
                                              : false,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Enter 90Â° Visual inspection",
                                              ),
                                            ],
                                          ),
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        Text(
                                          "Picture Visual Inspection 3",
                                          style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold),
                                        ),
                                        TextFormField(
                                          controller: _90visCam3Controller,
                                          decoration: InputDecoration(
                                            hintText:
                                                "Please Capture a Visual Inspection Picture",
                                            counterText: '',
                                            contentPadding:
                                                const EdgeInsets.all(10),
                                            suffixIcon: IconButton(
                                              onPressed: () async {
                                                if (status != 'Pending') {
                                                  await _openCamera(
                                                      _90visCam3Controller,
                                                      '90_Visual_inspection_Image3',
                                                      /** image name */
                                                      'Visual Inspection',
                                                      /*** Type  */
                                                      '90Â° Visual Inspection' /** Stage */
                                                      );
                                                }
                                              },
                                              icon:
                                                  const Icon(Icons.camera_alt),
                                            ),
                                            border: const OutlineInputBorder(),
                                          ),
                                          readOnly: true,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Click Picture ",
                                              ),
                                            ],
                                          ),
                                          enabled: !(widget.id != null &&
                                              widget.id != '' &&
                                              _90visCam3Controller
                                                  .text.isNotEmpty),
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90vis4Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText:
                                                "Please Enter 90Â° Visual inspection",
                                            counterText: '',
                                            fillColor: Color.fromARGB(
                                                255, 215, 243, 207),
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: status == 'Pending' &&
                                                  designation != "QC"
                                              ? true
                                              : false,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Enter 90Â° Visual inspection",
                                              ),
                                            ],
                                          ),
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        Text(
                                          "Picture Visual Inspection 4",
                                          style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold),
                                        ),
                                        TextFormField(
                                          controller: _90visCam4Controller,
                                          decoration: InputDecoration(
                                            hintText:
                                                "Please Capture a Visual Inspection Picture",
                                            counterText: '',
                                            contentPadding:
                                                const EdgeInsets.all(10),
                                            suffixIcon: IconButton(
                                              onPressed: () async {
                                                if (status != 'Pending') {
                                                  await _openCamera(
                                                      _90visCam4Controller,
                                                      '90_Visual_inspection_Image4',
                                                      /** image name */
                                                      'Visual Inspection',
                                                      /*** Type  */
                                                      '90Â° Visual Inspection' /** Stage */
                                                      );
                                                }
                                              },
                                              icon:
                                                  const Icon(Icons.camera_alt),
                                            ),
                                            border: const OutlineInputBorder(),
                                          ),
                                          readOnly: true,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Click Picture ",
                                              ),
                                            ],
                                          ),
                                          enabled: !(widget.id != null &&
                                              widget.id != '' &&
                                              _90visCam4Controller
                                                  .text.isNotEmpty),
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90vis5Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText:
                                                "Please Enter 90Â° Visual inspection",
                                            counterText: '',
                                            fillColor: Color.fromARGB(
                                                255, 215, 243, 207),
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: status == 'Pending' &&
                                                  designation != "QC"
                                              ? true
                                              : false,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Enter 90Â° Visual inspection",
                                              ),
                                            ],
                                          ),
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        Text(
                                          "Picture Visual Inspection 5",
                                          style: TextStyle(
                                              fontSize: 16,
                                              fontWeight: FontWeight.bold),
                                        ),
                                        TextFormField(
                                          controller: _90visCam5Controller,
                                          decoration: InputDecoration(
                                            hintText:
                                                "Please Capture a Visual Inspection Picture",
                                            counterText: '',
                                            contentPadding:
                                                const EdgeInsets.all(10),
                                            suffixIcon: IconButton(
                                              onPressed: () async {
                                                if (status != 'Pending') {
                                                  await _openCamera(
                                                      _90visCam5Controller,
                                                      '90_Visual_inspection_Image5',
                                                      /** image name */
                                                      'Visual Inspection',
                                                      /*** Type  */
                                                      '90Â° Visual Inspection' /** Stage */
                                                      );
                                                }
                                              },
                                              icon:
                                                  const Icon(Icons.camera_alt),
                                            ),
                                            border: const OutlineInputBorder(),
                                          ),
                                          readOnly: true,
                                          validator: MultiValidator(
                                            [
                                              RequiredValidator(
                                                errorText:
                                                    "Please Click Picture ",
                                              ),
                                            ],
                                          ),
                                          enabled: !(widget.id != null &&
                                              widget.id != '' &&
                                              _90visCam5Controller
                                                  .text.isNotEmpty),
                                        ),
                                        const SizedBox(
                                          height: 15,
                                        ),
                                        Text(
                                          "Acceptance Crieteria",
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90visAccep1Controller,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText:
                                                "As per visual inspection criteria GSPL/PLV/001",
                                            counterText: '',
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: true,
                                        ),
                                        const SizedBox(
                                          height: 15,
                                        ),
                                        Container(
                                          margin: EdgeInsets.symmetric(
                                              vertical: 10.0),
                                          child: Divider(
                                            color: Colors.black,
                                            height: 2.0,
                                            thickness: 2.0,
                                          ),
                                        ),
                                        const SizedBox(
                                          height: 15,
                                        ),
                                        Text(
                                          "Remark",
                                          style: AppStyles
                                              .textfieldCaptionTextStyle,
                                        ),
                                        SizedBox(
                                          height: 5,
                                        ),
                                        TextFormField(
                                          controller: _90visRemarkController,
                                          keyboardType: TextInputType.text,
                                          textInputAction: TextInputAction.next,
                                          decoration: AppStyles
                                              .textFieldInputDecoration
                                              .copyWith(
                                            hintText: "Remark ",
                                            counterText: '',
                                            fillColor: Color.fromARGB(
                                                255, 215, 243, 207),
                                          ),
                                          style: AppStyles.textInputTextStyle,
                                          readOnly: status == 'Pending' &&
                                                  designation != "QC"
                                              ? true
                                              : false,
                                          // validator: MultiValidator(
                                          //   [
                                          //     RequiredValidator(
                                          //       errorText:
                                          //           "Please Enter  Remark",
                                          //     ),
                                          //   ],
                                          // ),
                                        ),
                                        const SizedBox(
                                          height: 15,
                                        ),
                                        Padding(
                                            padding: EdgeInsets.fromLTRB(
                                                0, 10, 0, 0)),
                                        _isLoading
                                            ? Center(
                                                child:
                                                    CircularProgressIndicator())
                                            : AppButton(
                                                textStyle: const TextStyle(
                                                  fontWeight: FontWeight.w700,
                                                  color: AppColors.white,
                                                  fontSize: 16,
                                                ),
                                                onTap: () {
                                                  AppHelper.hideKeyboard(
                                                      context);
                                                  // if (status != 'Pending') {
                                                  //   setState(() {
                                                  //     sendStatus = 'Inprogress';
                                                  //   });
                                                  //   // createData();
                                                  // }
                                                  _postLamFormKey
                                                      .currentState!.save;
                                                  if (_postLamFormKey
                                                      .currentState!
                                                      .validate()) {
                                                    if (status != 'Pending') {
                                                      setState(() {
                                                        sendStatus =
                                                            'Inprogress';
                                                        // setPage = "framing";
                                                      });
                                                      createData();
                                                    }
                                                    // createData();
                                                    setState(() {
                                                      setPage = "framing";
                                                    });
                                                  }
                                                },
                                                label: "Next",
                                                organization: '',
                                              ),
                                        const SizedBox(
                                          height: 18,
                                        ),
                                        Center(
                                          child: Padding(
                                            padding: const EdgeInsets.all(8.0),
                                            child: InkWell(
                                              onTap: () {
                                                setState(() {
                                                  setPage = "trimming";
                                                });
                                              },
                                              child: const Text(
                                                "BACK",
                                                style: TextStyle(
                                                    fontFamily: appFontFamily,
                                                    fontSize: 16,
                                                    fontWeight: FontWeight.w500,
                                                    color: AppColors.redColor),
                                              ),
                                            ),
                                          ),
                                        ),
                                        const SizedBox(
                                          height: 25,
                                        ),
                                        Container(
                                          alignment: Alignment.center,
                                          child: const Column(
                                            mainAxisAlignment:
                                                MainAxisAlignment.center,
                                            crossAxisAlignment:
                                                CrossAxisAlignment.center,
                                            children: [
                                              Text(
                                                "Powered By Gautam Solar Pvt. Ltd.",
                                                style: TextStyle(
                                                  fontSize: 14,
                                                  fontFamily: appFontFamily,
                                                  color: AppColors.greyColor,
                                                  fontWeight: FontWeight.w400,
                                                ),
                                              ),
                                              SizedBox(
                                                height: 10,
                                              ),
                                            ],
                                          ),
                                        ),
                                      ],
                                    ),
                                  ),
                                ),
                              ],
                            )
                          : setPage == "framing"
                              /******************Framing********************* */
                              ? Stack(
                                  alignment: Alignment.center,
                                  fit: StackFit.expand,
                                  children: [
                                    SingleChildScrollView(
                                      child: Form(
                                        key: _postLamFormKey,
                                        autovalidateMode:
                                            AutovalidateMode.onUserInteraction,
                                        child: Column(
                                          mainAxisAlignment:
                                              MainAxisAlignment.center,
                                          crossAxisAlignment:
                                              CrossAxisAlignment.start,
                                          children: <Widget>[
                                            Container(
                                              alignment: Alignment.center,
                                              child: Column(
                                                mainAxisAlignment:
                                                    MainAxisAlignment.center,
                                                crossAxisAlignment:
                                                    CrossAxisAlignment.center,
                                                children: [
                                                  Image.asset(
                                                    AppAssets.imgLogo,
                                                    height: 100,
                                                    width: 230,
                                                  ),
                                                ],
                                              ),
                                            ),
                                            const Center(
                                                child: Padding(
                                                    padding: EdgeInsets.only(
                                                        top: 10),
                                                    child: Text(
                                                        "Incoming Production Quality Control",
                                                        style: TextStyle(
                                                            fontSize: 27,
                                                            color:
                                                                AppColors.black,
                                                            fontFamily:
                                                                appFontFamily,
                                                            fontWeight:
                                                                FontWeight
                                                                    .w700)))),
                                            const Center(
                                                child: Text(
                                                    "(Post Lam IPQC Checklist)",
                                                    style: TextStyle(
                                                        fontSize: 20,
                                                        color: AppColors.black,
                                                        fontFamily:
                                                            appFontFamily,
                                                        fontWeight:
                                                            FontWeight.w700))),
                                            const SizedBox(
                                              height: 35,
                                            ),
                                            Row(
                                              children: [
                                                Text(
                                                  'Document No : ',
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                const SizedBox(
                                                  width: 8,
                                                ),
                                                Text(
                                                  'GSPL/IPQC/IPC/003',
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                              ],
                                            ),
                                            SizedBox(
                                              height: 8,
                                            ),
                                            Row(
                                              children: [
                                                Text(
                                                  'Rev.No. / Rev. Date : ',
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                const SizedBox(
                                                  width: 8,
                                                ),
                                                Text(
                                                  'Ver.2.0 / 20-03-2024',
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                              ],
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            const Center(
                                                child: Text("Framing",
                                                    style: TextStyle(
                                                        fontSize: 20,
                                                        color: Color.fromARGB(
                                                            255, 13, 160, 0),
                                                        fontFamily:
                                                            appFontFamily,
                                                        fontWeight:
                                                            FontWeight.w700))),
                                            const SizedBox(
                                              height: 20,
                                            ),
                                            Text(
                                              "Frequency",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framGlueFreqController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "1 set per shift",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Glue uniformity & continuity in frame groove",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller: framGlueUniController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText:
                                                    "Please Enter Glue uniformity & continuity in frame groove",
                                                counterText: '',
                                                fillColor: Color.fromARGB(
                                                    255, 215, 243, 207),
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: status == 'Pending' &&
                                                      designation != "QC"
                                                  ? true
                                                  : false,
                                              validator: MultiValidator(
                                                [
                                                  RequiredValidator(
                                                    errorText:
                                                        "Please Enter Glue uniformity & continuity in frame groove ",
                                                  ),
                                                ],
                                              ),
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Acceptance Crieteria",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framGlueAccepController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText:
                                                    "Should be uniform,Back sealing should be proper",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Container(
                                              margin: EdgeInsets.symmetric(
                                                  vertical: 10.0),
                                              child: Divider(
                                                color: Colors.black,
                                                height: 2.0,
                                                thickness: 2.0,
                                              ),
                                            ),
                                            Text(
                                              "Frequency",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framShortFreqController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "Once per shift",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Short Side Glue Weight",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framShortSideController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText:
                                                    "Please Enter Short Side Glue Weight",
                                                counterText: '',
                                                fillColor: Color.fromARGB(
                                                    255, 215, 243, 207),
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: status == 'Pending' &&
                                                      designation != "QC"
                                                  ? true
                                                  : false,
                                              validator: MultiValidator(
                                                [
                                                  RequiredValidator(
                                                    errorText:
                                                        "Please Enter Short Side Glue Weight ",
                                                  ),
                                                ],
                                              ),
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Acceptance Crieteria",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framShortAccepController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "55Â±10 gm",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Container(
                                              margin: EdgeInsets.symmetric(
                                                  vertical: 10.0),
                                              child: Divider(
                                                color: Colors.black,
                                                height: 2.0,
                                                thickness: 2.0,
                                              ),
                                            ),
                                            Text(
                                              "Frequency",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framLongFreqController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "Once per shift",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Long Side Glue Weight",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framLongSideController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText:
                                                    "Please Enter Long Side Glue Weight",
                                                counterText: '',
                                                fillColor: Color.fromARGB(
                                                    255, 215, 243, 207),
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: status == 'Pending' &&
                                                      designation != "QC"
                                                  ? true
                                                  : false,
                                              validator: MultiValidator(
                                                [
                                                  RequiredValidator(
                                                    errorText:
                                                        "Please Enter Long Side Glue Weight ",
                                                  ),
                                                ],
                                              ),
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Acceptance Crieteria",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framLongAccepController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "120Â±20 gm",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Container(
                                              margin: EdgeInsets.symmetric(
                                                  vertical: 10.0),
                                              child: Divider(
                                                color: Colors.black,
                                                height: 2.0,
                                                thickness: 2.0,
                                              ),
                                            ),
                                            Text(
                                              "Frequency",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framAnodFreqController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "Once per shift",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Anodizing Thickness",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller: framAnodController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText:
                                                    "Please Enter Anodizing Thickness",
                                                counterText: '',
                                                fillColor: Color.fromARGB(
                                                    255, 215, 243, 207),
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: status == 'Pending' &&
                                                      designation != "QC"
                                                  ? true
                                                  : false,
                                              validator: MultiValidator(
                                                [
                                                  RequiredValidator(
                                                    errorText:
                                                        "Please Enter Anodizing Thickness ",
                                                  ),
                                                ],
                                              ),
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Text(
                                              "Acceptance Crieteria",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller:
                                                  framAnodAccepController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "â¥15 micron",
                                                counterText: '',
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: true,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Container(
                                              margin: EdgeInsets.symmetric(
                                                  vertical: 10.0),
                                              child: Divider(
                                                color: Colors.black,
                                                height: 2.0,
                                                thickness: 2.0,
                                              ),
                                            ),
                                            Text(
                                              "Remark",
                                              style: AppStyles
                                                  .textfieldCaptionTextStyle,
                                            ),
                                            SizedBox(
                                              height: 5,
                                            ),
                                            TextFormField(
                                              controller: framRemarkController,
                                              keyboardType: TextInputType.text,
                                              textInputAction:
                                                  TextInputAction.next,
                                              decoration: AppStyles
                                                  .textFieldInputDecoration
                                                  .copyWith(
                                                hintText: "Remark ",
                                                counterText: '',
                                                fillColor: Color.fromARGB(
                                                    255, 215, 243, 207),
                                              ),
                                              style:
                                                  AppStyles.textInputTextStyle,
                                              readOnly: status == 'Pending' &&
                                                      designation != "QC"
                                                  ? true
                                                  : false,
                                              // validator: MultiValidator(
                                              //   [
                                              //     RequiredValidator(
                                              //       errorText:
                                              //           "Please Enter  Remark",
                                              //     ),
                                              //   ],
                                              // ),
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            const SizedBox(
                                              height: 15,
                                            ),
                                            Padding(
                                                padding: EdgeInsets.fromLTRB(
                                                    0, 10, 0, 0)),
                                            _isLoading
                                                ? Center(
                                                    child:
                                                        CircularProgressIndicator())
                                                : AppButton(
                                                    textStyle: const TextStyle(
                                                      fontWeight:
                                                          FontWeight.w700,
                                                      color: AppColors.white,
                                                      fontSize: 16,
                                                    ),
                                                    onTap: () {
                                                      AppHelper.hideKeyboard(
                                                          context);
                                                      // if (status != 'Pending') {
                                                      //   setState(() {
                                                      //     sendStatus =
                                                      //         'Inprogress';
                                                      //   });
                                                      //   // createData();
                                                      // }
                                                      _postLamFormKey
                                                          .currentState!.save;
                                                      if (_postLamFormKey
                                                          .currentState!
                                                          .validate()) {
                                                        if (status !=
                                                            'Pending') {
                                                          setState(() {
                                                            sendStatus =
                                                                'Inprogress';
                                                            // setPage =
                                                            //     'junctionbox';
                                                          });
                                                          createData();
                                                        }
                                                        // createData();

                                                        setState(() {
                                                          setPage =
                                                              'junctionbox';
                                                        });
                                                      }
                                                    },
                                                    label: "Next",
                                                    organization: '',
                                                  ),
                                            const SizedBox(
                                              height: 18,
                                            ),
                                            Center(
                                              child: Padding(
                                                padding:
                                                    const EdgeInsets.all(8.0),
                                                child: InkWell(
                                                  onTap: () {
                                                    setState(() {
                                                      setPage =
                                                          "postlamvisualinspection";
                                                    });
                                                  },
                                                  child: const Text(
                                                    "BACK",
                                                    style: TextStyle(
                                                        fontFamily:
                                                            appFontFamily,
                                                        fontSize: 16,
                                                        fontWeight:
                                                            FontWeight.w500,
                                                        color:
                                                            AppColors.redColor),
                                                  ),
                                                ),
                                              ),
                                            ),
                                            const SizedBox(
                                              height: 25,
                                            ),
                                            Container(
                                              alignment: Alignment.center,
                                              child: const Column(
                                                mainAxisAlignment:
                                                    MainAxisAlignment.center,
                                                crossAxisAlignment:
                                                    CrossAxisAlignment.center,
                                                children: [
                                                  Text(
                                                    "Powered By Gautam Solar Pvt. Ltd.",
                                                    style: TextStyle(
                                                      fontSize: 14,
                                                      fontFamily: appFontFamily,
                                                      color:
                                                          AppColors.greyColor,
                                                      fontWeight:
                                                          FontWeight.w400,
                                                    ),
                                                  ),
                                                  SizedBox(
                                                    height: 10,
                                                  ),
                                                ],
                                              ),
                                            ),
                                          ],
                                        ),
                                      ),
                                    ),
                                  ],
                                )
                              /*******************Junction Box Assembly************ */
                              : setPage == "junctionbox"
                                  ? Stack(
                                      alignment: Alignment.center,
                                      fit: StackFit.expand,
                                      children: [
                                        SingleChildScrollView(
                                          child: Form(
                                            key: _postLamFormKey,
                                            autovalidateMode: AutovalidateMode
                                                .onUserInteraction,
                                            child: Column(
                                              mainAxisAlignment:
                                                  MainAxisAlignment.center,
                                              crossAxisAlignment:
                                                  CrossAxisAlignment.start,
                                              children: <Widget>[
                                                Container(
                                                  alignment: Alignment.center,
                                                  child: Column(
                                                    mainAxisAlignment:
                                                        MainAxisAlignment
                                                            .center,
                                                    crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .center,
                                                    children: [
                                                      Image.asset(
                                                        AppAssets.imgLogo,
                                                        height: 100,
                                                        width: 230,
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                const Center(
                                                    child: Padding(
                                                        padding:
                                                            EdgeInsets.only(
                                                                top: 10),
                                                        child: Text(
                                                            "Incoming Process Quality Control",
                                                            style: TextStyle(
                                                                fontSize: 27,
                                                                color: AppColors
                                                                    .black,
                                                                fontFamily:
                                                                    appFontFamily,
                                                                fontWeight:
                                                                    FontWeight
                                                                        .w700)))),
                                                const Center(
                                                    child: Text(
                                                        "(Post Lam IPQC Checklist)",
                                                        style: TextStyle(
                                                            fontSize: 20,
                                                            color:
                                                                AppColors.black,
                                                            fontFamily:
                                                                appFontFamily,
                                                            fontWeight:
                                                                FontWeight
                                                                    .w700))),
                                                const SizedBox(
                                                  height: 35,
                                                ),
                                                Row(
                                                  children: [
                                                    Text(
                                                      'Document No : ',
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    const SizedBox(
                                                      width: 8,
                                                    ),
                                                    Text(
                                                      'GSPL/IPQC/IPC/003',
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                  ],
                                                ),
                                                SizedBox(
                                                  height: 8,
                                                ),
                                                Row(
                                                  children: [
                                                    Text(
                                                      'Rev.No. / Rev. Date : ',
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    const SizedBox(
                                                      width: 8,
                                                    ),
                                                    Text(
                                                      'Ver.2.0 / 20-03-2024',
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                  ],
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                const Center(
                                                    child: Text(
                                                        "Junction Box Assembly",
                                                        style: TextStyle(
                                                            fontSize: 20,
                                                            color:
                                                                Color.fromARGB(
                                                                    255,
                                                                    13,
                                                                    160,
                                                                    0),
                                                            fontFamily:
                                                                appFontFamily,
                                                            fontWeight:
                                                                FontWeight
                                                                    .w700))),
                                                const SizedBox(
                                                  height: 20,
                                                ),
                                                Text(
                                                  "Frequency",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaJBFreq1Controller,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "Once per shift",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Junction Box(Connector Appereance & Cable Length)",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller: JbaJBController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText:
                                                        "Please Enter Junction Box(Connector Appereance & Cable Length)",
                                                    counterText: '',
                                                    fillColor: Color.fromARGB(
                                                        255, 215, 243, 207),
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: status ==
                                                              'Pending' &&
                                                          designation != "QC"
                                                      ? true
                                                      : false,
                                                  validator: MultiValidator(
                                                    [
                                                      RequiredValidator(
                                                        errorText:
                                                            "Please Enter Junction Box(Connector Appereance & Cable Length) ",
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Acceptance Crieteria",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaJBAccepController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText:
                                                        "As per Production order & module drawing",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Container(
                                                  margin: EdgeInsets.symmetric(
                                                      vertical: 10.0),
                                                  child: Divider(
                                                    color: Colors.black,
                                                    height: 2.0,
                                                    thickness: 2.0,
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 20,
                                                ),
                                                Text(
                                                  "Frequency",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaJBFreq2Controller,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "Once per shift",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Silicon Glue Weight on the bottom (g)",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller: JbaSgController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText:
                                                        "Please Enter Silicon Glue Weight on the bottom (g)",
                                                    counterText: '',
                                                    fillColor: Color.fromARGB(
                                                        255, 215, 243, 207),
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: status ==
                                                              'Pending' &&
                                                          designation != "QC"
                                                      ? true
                                                      : false,
                                                  validator: MultiValidator(
                                                    [
                                                      RequiredValidator(
                                                        errorText:
                                                            "Please Enter Silicon Glue Weight on the bottom (g) ",
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Acceptance Crieteria",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaSgAccepController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "18Â±3 gm",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Container(
                                                  margin: EdgeInsets.symmetric(
                                                      vertical: 10.0),
                                                  child: Divider(
                                                    color: Colors.black,
                                                    height: 2.0,
                                                    thickness: 2.0,
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 20,
                                                ),
                                                Text(
                                                  "Frequency",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaJBFreq3Controller,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "Once per shift",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Soldering Iron Temperature",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller: JbaSitController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText:
                                                        "Please Enter Soldering Iron Temperature",
                                                    counterText: '',
                                                    fillColor: Color.fromARGB(
                                                        255, 215, 243, 207),
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: status ==
                                                              'Pending' &&
                                                          designation != "QC"
                                                      ? true
                                                      : false,
                                                  validator: MultiValidator(
                                                    [
                                                      RequiredValidator(
                                                        errorText:
                                                            "Please Enter Soldering Iron Temperature ",
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Acceptance Crieteria",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaSitAccepController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "400Â±50Â°C",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Container(
                                                  margin: EdgeInsets.symmetric(
                                                      vertical: 10.0),
                                                  child: Divider(
                                                    color: Colors.black,
                                                    height: 2.0,
                                                    thickness: 2.0,
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 20,
                                                ),
                                                Text(
                                                  "Frequency",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaJBFreq4Controller,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "Once per shift",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Soldering Quality",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller: JbaSQController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText:
                                                        "Please Enter Soldering Quality",
                                                    counterText: '',
                                                    fillColor: Color.fromARGB(
                                                        255, 215, 243, 207),
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: status ==
                                                              'Pending' &&
                                                          designation != "QC"
                                                      ? true
                                                      : false,
                                                  validator: MultiValidator(
                                                    [
                                                      RequiredValidator(
                                                        errorText:
                                                            "Please Enter Soldering Quality ",
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Text(
                                                  "Acceptance Crieteria",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaSQAccepController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText:
                                                        "Welding area should be fully covered & checked by twizzer,no yellowing allowed",
                                                    counterText: '',
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: true,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Container(
                                                  margin: EdgeInsets.symmetric(
                                                      vertical: 10.0),
                                                  child: Divider(
                                                    color: Colors.black,
                                                    height: 2.0,
                                                    thickness: 2.0,
                                                  ),
                                                ),
                                                Text(
                                                  "Remark",
                                                  style: AppStyles
                                                      .textfieldCaptionTextStyle,
                                                ),
                                                SizedBox(
                                                  height: 5,
                                                ),
                                                TextFormField(
                                                  controller:
                                                      JbaJBRemarkController,
                                                  keyboardType:
                                                      TextInputType.text,
                                                  textInputAction:
                                                      TextInputAction.next,
                                                  decoration: AppStyles
                                                      .textFieldInputDecoration
                                                      .copyWith(
                                                    hintText: "Remark ",
                                                    counterText: '',
                                                    fillColor: Color.fromARGB(
                                                        255, 215, 243, 207),
                                                  ),
                                                  style: AppStyles
                                                      .textInputTextStyle,
                                                  readOnly: status ==
                                                              'Pending' &&
                                                          designation != "QC"
                                                      ? true
                                                      : false,
                                                  // validator: MultiValidator(
                                                  //   [
                                                  //     RequiredValidator(
                                                  //       errorText:
                                                  //           "Please Enter  Remark",
                                                  //     ),
                                                  //   ],
                                                  // ),
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                const SizedBox(
                                                  height: 15,
                                                ),
                                                Padding(
                                                    padding:
                                                        EdgeInsets.fromLTRB(
                                                            0, 10, 0, 0)),
                                                _isLoading
                                                    ? Center(
                                                        child:
                                                            CircularProgressIndicator())
                                                    : AppButton(
                                                        textStyle:
                                                            const TextStyle(
                                                          fontWeight:
                                                              FontWeight.w700,
                                                          color:
                                                              AppColors.white,
                                                          fontSize: 16,
                                                        ),
                                                        onTap: () {
                                                          AppHelper
                                                              .hideKeyboard(
                                                                  context);
                                                          // if (status !=
                                                          //     'Pending') {
                                                          //   setState(() {
                                                          //     sendStatus =
                                                          //         'Inprogress';
                                                          //   });
                                                          //   // createData();
                                                          // }

                                                          _postLamFormKey
                                                              .currentState!
                                                              .save;
                                                          if (_postLamFormKey
                                                              .currentState!
                                                              .validate()) {
                                                            if (status !=
                                                                'Pending') {
                                                              setState(() {
                                                                sendStatus =
                                                                    'Inprogress';
                                                                // setPage =
                                                                //     'jbpotting';
                                                              });
                                                              createData();
                                                            }
                                                            // createData();
                                                            setState(() {
                                                              setPage =
                                                                  'jbpotting';
                                                            });
                                                          }
                                                        },
                                                        label: "Next",
                                                        organization: '',
                                                      ),
                                                const SizedBox(
                                                  height: 18,
                                                ),
                                                Center(
                                                  child: Padding(
                                                    padding:
                                                        const EdgeInsets.all(
                                                            8.0),
                                                    child: InkWell(
                                                      onTap: () {
                                                        setState(() {
                                                          setPage = "framing";
                                                        });
                                                      },
                                                      child: const Text(
                                                        "BACK",
                                                        style: TextStyle(
                                                            fontFamily:
                                                                appFontFamily,
                                                            fontSize: 16,
                                                            fontWeight:
                                                                FontWeight.w500,
                                                            color: AppColors
                                                                .redColor),
                                                      ),
                                                    ),
                                                  ),
                                                ),
                                                const SizedBox(
                                                  height: 25,
                                                ),
                                                Container(
                                                  alignment: Alignment.center,
                                                  child: const Column(
                                                    mainAxisAlignment:
                                                        MainAxisAlignment
                                                            .center,
                                                    crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .center,
                                                    children: [
                                                      Text(
                                                        "Powered By Gautam Solar Pvt. Ltd.",
                                                        style: TextStyle(
                                                          fontSize: 14,
                                                          fontFamily:
                                                              appFontFamily,
                                                          color: AppColors
                                                              .greyColor,
                                                          fontWeight:
                                                              FontWeight.w400,
                                                        ),
                                                      ),
                                                      SizedBox(
                                                        height: 10,
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                              ],
                                            ),
                                          ),
                                        ),
                                      ],
                                    )

                                  /*******************Junction Box Assembly************ */
                                  : setPage == "jbpotting"
                                      ? Stack(
                                          alignment: Alignment.center,
                                          fit: StackFit.expand,
                                          children: [
                                            SingleChildScrollView(
                                              child: Form(
                                                key: _postLamFormKey,
                                                autovalidateMode:
                                                    AutovalidateMode
                                                        .onUserInteraction,
                                                child: Column(
                                                  mainAxisAlignment:
                                                      MainAxisAlignment.center,
                                                  crossAxisAlignment:
                                                      CrossAxisAlignment.start,
                                                  children: <Widget>[
                                                    Container(
                                                      alignment:
                                                          Alignment.center,
                                                      child: Column(
                                                        mainAxisAlignment:
                                                            MainAxisAlignment
                                                                .center,
                                                        crossAxisAlignment:
                                                            CrossAxisAlignment
                                                                .center,
                                                        children: [
                                                          Image.asset(
                                                            AppAssets.imgLogo,
                                                            height: 100,
                                                            width: 230,
                                                          ),
                                                        ],
                                                      ),
                                                    ),
                                                    const Center(
                                                        child: Padding(
                                                            padding:
                                                                EdgeInsets.only(
                                                                    top: 10),
                                                            child: Text(
                                                                "Incoming Process Quality Control",
                                                                style: TextStyle(
                                                                    fontSize:
                                                                        27,
                                                                    color: AppColors
                                                                        .black,
                                                                    fontFamily:
                                                                        appFontFamily,
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .w700)))),
                                                    const Center(
                                                        child: Text(
                                                            "(Post Lam IPQC Checklist)",
                                                            style: TextStyle(
                                                                fontSize: 20,
                                                                color: AppColors
                                                                    .black,
                                                                fontFamily:
                                                                    appFontFamily,
                                                                fontWeight:
                                                                    FontWeight
                                                                        .w700))),
                                                    const SizedBox(
                                                      height: 35,
                                                    ),
                                                    Row(
                                                      children: [
                                                        Text(
                                                          'Document No : ',
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        const SizedBox(
                                                          width: 8,
                                                        ),
                                                        Text(
                                                          'GSPL/IPQC/IPC/003',
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                      ],
                                                    ),
                                                    SizedBox(
                                                      height: 8,
                                                    ),
                                                    Row(
                                                      children: [
                                                        Text(
                                                          'Rev.No. / Rev. Date : ',
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        const SizedBox(
                                                          width: 8,
                                                        ),
                                                        Text(
                                                          'Ver.2.0 / 20-03-2024',
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                      ],
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    const Center(
                                                        child: Text(
                                                            "JB Potting",
                                                            style: TextStyle(
                                                                fontSize: 20,
                                                                color: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        13,
                                                                        160,
                                                                        0),
                                                                fontFamily:
                                                                    appFontFamily,
                                                                fontWeight:
                                                                    FontWeight
                                                                        .w700))),
                                                    const SizedBox(
                                                      height: 20,
                                                    ),
                                                    Text(
                                                      "Frequency",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoFreq1Controller,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Once per shift",
                                                        counterText: '',
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly: true,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Text(
                                                      "A/B Glue Ratio",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoABController,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Please Enter A/B Glue Ratio",
                                                        counterText: '',
                                                        fillColor:
                                                            Color.fromARGB(255,
                                                                215, 243, 207),
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly:
                                                          status == 'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                      validator: MultiValidator(
                                                        [
                                                          RequiredValidator(
                                                            errorText:
                                                                "Please Enter A/B Glue Ratio ",
                                                          ),
                                                        ],
                                                      ),
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Text(
                                                      "Acceptance Crieteria",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoAccep1Controller,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText: "5Â±.5:1",
                                                        counterText: '',
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly: true,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Container(
                                                      margin:
                                                          EdgeInsets.symmetric(
                                                              vertical: 10.0),
                                                      child: Divider(
                                                        color: Colors.black,
                                                        height: 2.0,
                                                        thickness: 2.0,
                                                      ),
                                                    ),
                                                    const SizedBox(
                                                      height: 20,
                                                    ),
                                                    Text(
                                                      "Frequency",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoFreq2Controller,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Once per shift",
                                                        counterText: '',
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly: true,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Text(
                                                      "Potting material weight",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoPMController,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Please Enter Potting material weight",
                                                        counterText: '',
                                                        fillColor:
                                                            Color.fromARGB(255,
                                                                215, 243, 207),
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly:
                                                          status == 'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                      validator: MultiValidator(
                                                        [
                                                          RequiredValidator(
                                                            errorText:
                                                                "Please Enter  Potting material weight ",
                                                          ),
                                                        ],
                                                      ),
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Text(
                                                      "Acceptance Crieteria",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoAccep2Controller,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText: "20Â±3 gm",
                                                        counterText: '',
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly: true,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Container(
                                                      margin:
                                                          EdgeInsets.symmetric(
                                                              vertical: 10.0),
                                                      child: Divider(
                                                        color: Colors.black,
                                                        height: 2.0,
                                                        thickness: 2.0,
                                                      ),
                                                    ),
                                                    const SizedBox(
                                                      height: 20,
                                                    ),
                                                    Text(
                                                      "Frequency",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoFreq3Controller,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Once every 6h ",
                                                        counterText: '',
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly: true,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Text(
                                                      "Nozzle Changing",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoNCController,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Please Enter Nozzle Changing",
                                                        counterText: '',
                                                        fillColor:
                                                            Color.fromARGB(255,
                                                                215, 243, 207),
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly:
                                                          status == 'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                      validator: MultiValidator(
                                                        [
                                                          RequiredValidator(
                                                            errorText:
                                                                "Please Enter Nozzle Changing ",
                                                          ),
                                                        ],
                                                      ),
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Text(
                                                      "Acceptance Crieteria",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoAccep3Controller,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText:
                                                            "Should be changed after 6 hours or when found issue of damage or extra amount dispensing.",
                                                        counterText: '',
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly: true,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Container(
                                                      margin:
                                                          EdgeInsets.symmetric(
                                                              vertical: 10.0),
                                                      child: Divider(
                                                        color: Colors.black,
                                                        height: 2.0,
                                                        thickness: 2.0,
                                                      ),
                                                    ),
                                                    Text(
                                                      "Remark",
                                                      style: AppStyles
                                                          .textfieldCaptionTextStyle,
                                                    ),
                                                    SizedBox(
                                                      height: 5,
                                                    ),
                                                    TextFormField(
                                                      controller:
                                                          JBPoRemarkController,
                                                      keyboardType:
                                                          TextInputType.text,
                                                      textInputAction:
                                                          TextInputAction.next,
                                                      decoration: AppStyles
                                                          .textFieldInputDecoration
                                                          .copyWith(
                                                        hintText: "Remark ",
                                                        counterText: '',
                                                        fillColor:
                                                            Color.fromARGB(255,
                                                                215, 243, 207),
                                                      ),
                                                      style: AppStyles
                                                          .textInputTextStyle,
                                                      readOnly:
                                                          status == 'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                      // validator: MultiValidator(
                                                      //   [
                                                      //     RequiredValidator(
                                                      //       errorText:
                                                      //           "Please Enter  Remark",
                                                      //     ),
                                                      //   ],
                                                      // ),
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    const SizedBox(
                                                      height: 15,
                                                    ),
                                                    Padding(
                                                        padding:
                                                            EdgeInsets.fromLTRB(
                                                                0, 10, 0, 0)),
                                                    _isLoading
                                                        ? Center(
                                                            child:
                                                                CircularProgressIndicator())
                                                        : AppButton(
                                                            textStyle:
                                                                const TextStyle(
                                                              fontWeight:
                                                                  FontWeight
                                                                      .w700,
                                                              color: AppColors
                                                                  .white,
                                                              fontSize: 16,
                                                            ),
                                                            onTap: () {
                                                              AppHelper
                                                                  .hideKeyboard(
                                                                      context);
                                                              // if (status !=
                                                              //     'Pending') {
                                                              //   setState(() {
                                                              //     sendStatus =
                                                              //         'Inprogress';
                                                              //   });
                                                              //   // createData();
                                                              // }
                                                              _postLamFormKey
                                                                  .currentState!
                                                                  .save;
                                                              if (_postLamFormKey
                                                                  .currentState!
                                                                  .validate()) {
                                                                if (status !=
                                                                    'Pending') {
                                                                  setState(() {
                                                                    sendStatus =
                                                                        'Inprogress';
                                                                    // setPage =
                                                                    //     'curing';
                                                                  });
                                                                  createData();
                                                                }
                                                                // createData();
                                                                setState(() {
                                                                  setPage =
                                                                      'curing';
                                                                });
                                                              }
                                                            },
                                                            label: "Next",
                                                            organization: '',
                                                          ),
                                                    const SizedBox(
                                                      height: 18,
                                                    ),
                                                    Center(
                                                      child: Padding(
                                                        padding:
                                                            const EdgeInsets
                                                                .all(8.0),
                                                        child: InkWell(
                                                          onTap: () {
                                                            setState(() {
                                                              setPage =
                                                                  "junctionbox";
                                                            });
                                                          },
                                                          child: const Text(
                                                            "BACK",
                                                            style: TextStyle(
                                                                fontFamily:
                                                                    appFontFamily,
                                                                fontSize: 16,
                                                                fontWeight:
                                                                    FontWeight
                                                                        .w500,
                                                                color: AppColors
                                                                    .redColor),
                                                          ),
                                                        ),
                                                      ),
                                                    ),
                                                    const SizedBox(
                                                      height: 25,
                                                    ),
                                                    Container(
                                                      alignment:
                                                          Alignment.center,
                                                      child: const Column(
                                                        mainAxisAlignment:
                                                            MainAxisAlignment
                                                                .center,
                                                        crossAxisAlignment:
                                                            CrossAxisAlignment
                                                                .center,
                                                        children: [
                                                          Text(
                                                            "Powered By Gautam Solar Pvt. Ltd.",
                                                            style: TextStyle(
                                                              fontSize: 14,
                                                              fontFamily:
                                                                  appFontFamily,
                                                              color: AppColors
                                                                  .greyColor,
                                                              fontWeight:
                                                                  FontWeight
                                                                      .w400,
                                                            ),
                                                          ),
                                                          SizedBox(
                                                            height: 10,
                                                          ),
                                                        ],
                                                      ),
                                                    ),
                                                  ],
                                                ),
                                              ),
                                            ),
                                          ],
                                        )

                                      /***************Curing********************* */
                                      : setPage == "curing"
                                          ? Stack(
                                              alignment: Alignment.center,
                                              fit: StackFit.expand,
                                              children: [
                                                SingleChildScrollView(
                                                  child: Form(
                                                    key: _postLamFormKey,
                                                    autovalidateMode:
                                                        AutovalidateMode
                                                            .onUserInteraction,
                                                    child: Column(
                                                      mainAxisAlignment:
                                                          MainAxisAlignment
                                                              .center,
                                                      crossAxisAlignment:
                                                          CrossAxisAlignment
                                                              .start,
                                                      children: <Widget>[
                                                        Container(
                                                          alignment:
                                                              Alignment.center,
                                                          child: Column(
                                                            mainAxisAlignment:
                                                                MainAxisAlignment
                                                                    .center,
                                                            crossAxisAlignment:
                                                                CrossAxisAlignment
                                                                    .center,
                                                            children: [
                                                              Image.asset(
                                                                AppAssets
                                                                    .imgLogo,
                                                                height: 100,
                                                                width: 230,
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                        const Center(
                                                            child: Padding(
                                                                padding: EdgeInsets
                                                                    .only(
                                                                        top:
                                                                            10),
                                                                child: Text(
                                                                    "Incoming Process Quality Control",
                                                                    style: TextStyle(
                                                                        fontSize:
                                                                            27,
                                                                        color: AppColors
                                                                            .black,
                                                                        fontFamily:
                                                                            appFontFamily,
                                                                        fontWeight:
                                                                            FontWeight.w700)))),
                                                        const Center(
                                                            child: Text(
                                                                "(Post Lam IPQC Checklist)",
                                                                style: TextStyle(
                                                                    fontSize:
                                                                        20,
                                                                    color: AppColors
                                                                        .black,
                                                                    fontFamily:
                                                                        appFontFamily,
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .w700))),
                                                        const SizedBox(
                                                          height: 35,
                                                        ),
                                                        Row(
                                                          children: [
                                                            Text(
                                                              'Document No : ',
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                            const SizedBox(
                                                              width: 8,
                                                            ),
                                                            Text(
                                                              'GSPL/IPQC/IPC/003',
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                          ],
                                                        ),
                                                        SizedBox(
                                                          height: 8,
                                                        ),
                                                        Row(
                                                          children: [
                                                            Text(
                                                              'Rev.No. / Rev. Date : ',
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                            const SizedBox(
                                                              width: 8,
                                                            ),
                                                            Text(
                                                              'Ver.2.0 / 20-03-2024',
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                          ],
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        const Center(
                                                            child: Text(
                                                                "Curing",
                                                                style: TextStyle(
                                                                    fontSize:
                                                                        20,
                                                                    color: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            13,
                                                                            160,
                                                                            0),
                                                                    fontFamily:
                                                                        appFontFamily,
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .w700))),
                                                        const SizedBox(
                                                          height: 20,
                                                        ),
                                                        Text(
                                                          "Frequency",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curFreq1Controller,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "Once a Shift",
                                                            counterText: '',
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: true,
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Temperature",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curTemController,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "Please Enter Temperature",
                                                            counterText: '',
                                                            fillColor:
                                                                Color.fromARGB(
                                                                    255,
                                                                    215,
                                                                    243,
                                                                    207),
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: status ==
                                                                      'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                          validator:
                                                              MultiValidator(
                                                            [
                                                              RequiredValidator(
                                                                errorText:
                                                                    "Please Enter Temperature ",
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Acceptance Crieteria",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curAccep1Controller,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText: "25Â±3â",
                                                            counterText: '',
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: true,
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Container(
                                                          margin: EdgeInsets
                                                              .symmetric(
                                                                  vertical:
                                                                      10.0),
                                                          child: Divider(
                                                            color: Colors.black,
                                                            height: 2.0,
                                                            thickness: 2.0,
                                                          ),
                                                        ),
                                                        Text(
                                                          "Frequency",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curFreq2Controller,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "Once a Shift",
                                                            counterText: '',
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: true,
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Humidity",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curHumController,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "Please Enter Humidity",
                                                            counterText: '',
                                                            fillColor:
                                                                Color.fromARGB(
                                                                    255,
                                                                    215,
                                                                    243,
                                                                    207),
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: status ==
                                                                      'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                          validator:
                                                              MultiValidator(
                                                            [
                                                              RequiredValidator(
                                                                errorText:
                                                                    "Please Enter Humidity ",
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Acceptance Crieteria",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curAccep2Controller,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText: "â¥50%",
                                                            counterText: '',
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: true,
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Container(
                                                          margin: EdgeInsets
                                                              .symmetric(
                                                                  vertical:
                                                                      10.0),
                                                          child: Divider(
                                                            color: Colors.black,
                                                            height: 2.0,
                                                            thickness: 2.0,
                                                          ),
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Frequency",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curFreq3Controller,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "Once a Shift",
                                                            counterText: '',
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: true,
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Curing Time(h)",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curCTController,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "Please Enter Curing Time(h)",
                                                            counterText: '',
                                                            fillColor:
                                                                Color.fromARGB(
                                                                    255,
                                                                    215,
                                                                    243,
                                                                    207),
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: status ==
                                                                      'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                          validator:
                                                              MultiValidator(
                                                            [
                                                              RequiredValidator(
                                                                errorText:
                                                                    "Please Enter Curing Time(h) ",
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Acceptance Crieteria",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curAccep3Controller,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText:
                                                                "â¥4 hours",
                                                            counterText: '',
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: true,
                                                        ),
                                                        Container(
                                                          margin: EdgeInsets
                                                              .symmetric(
                                                                  vertical:
                                                                      10.0),
                                                          child: Divider(
                                                            color: Colors.black,
                                                            height: 2.0,
                                                            thickness: 2.0,
                                                          ),
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Text(
                                                          "Remark",
                                                          style: AppStyles
                                                              .textfieldCaptionTextStyle,
                                                        ),
                                                        SizedBox(
                                                          height: 5,
                                                        ),
                                                        TextFormField(
                                                          controller:
                                                              curRemarkController,
                                                          keyboardType:
                                                              TextInputType
                                                                  .text,
                                                          textInputAction:
                                                              TextInputAction
                                                                  .next,
                                                          decoration: AppStyles
                                                              .textFieldInputDecoration
                                                              .copyWith(
                                                            hintText: "Remark ",
                                                            counterText: '',
                                                            fillColor:
                                                                Color.fromARGB(
                                                                    255,
                                                                    215,
                                                                    243,
                                                                    207),
                                                          ),
                                                          style: AppStyles
                                                              .textInputTextStyle,
                                                          readOnly: status ==
                                                                      'Pending' &&
                                                                  designation !=
                                                                      "QC"
                                                              ? true
                                                              : false,
                                                          // validator:
                                                          //     MultiValidator(
                                                          //   [
                                                          //     RequiredValidator(
                                                          //       errorText:
                                                          //           "Please Enter  Remark",
                                                          //     ),
                                                          //   ],
                                                          // ),
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        const SizedBox(
                                                          height: 15,
                                                        ),
                                                        Padding(
                                                            padding: EdgeInsets
                                                                .fromLTRB(0, 10,
                                                                    0, 0)),
                                                        _isLoading
                                                            ? Center(
                                                                child:
                                                                    CircularProgressIndicator())
                                                            : AppButton(
                                                                textStyle:
                                                                    const TextStyle(
                                                                  fontWeight:
                                                                      FontWeight
                                                                          .w700,
                                                                  color:
                                                                      AppColors
                                                                          .white,
                                                                  fontSize: 16,
                                                                ),
                                                                onTap: () {
                                                                  AppHelper
                                                                      .hideKeyboard(
                                                                          context);
                                                                  // if (status !=
                                                                  //     'Pending') {
                                                                  //   setState(
                                                                  //       () {
                                                                  //     sendStatus =
                                                                  //         'Inprogress';
                                                                  //   });
                                                                  //   // createData();
                                                                  // }

                                                                  _postLamFormKey
                                                                      .currentState!
                                                                      .save;
                                                                  if (_postLamFormKey
                                                                      .currentState!
                                                                      .validate()) {
                                                                    if (status !=
                                                                        'Pending') {
                                                                      setState(
                                                                          () {
                                                                        sendStatus =
                                                                            'Inprogress';
                                                                        // setPage =
                                                                        //     'buffing';
                                                                      });
                                                                      createData();
                                                                    }
                                                                    // createData();
                                                                    setState(
                                                                        () {
                                                                      setPage =
                                                                          'buffing';
                                                                    });
                                                                  }
                                                                },
                                                                label: "Next",
                                                                organization:
                                                                    '',
                                                              ),
                                                        const SizedBox(
                                                          height: 18,
                                                        ),
                                                        Center(
                                                          child: Padding(
                                                            padding:
                                                                const EdgeInsets
                                                                    .all(8.0),
                                                            child: InkWell(
                                                              onTap: () {
                                                                setState(() {
                                                                  setPage =
                                                                      "jbpotting";
                                                                });
                                                              },
                                                              child: const Text(
                                                                "BACK",
                                                                style: TextStyle(
                                                                    fontFamily:
                                                                        appFontFamily,
                                                                    fontSize:
                                                                        16,
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .w500,
                                                                    color: AppColors
                                                                        .redColor),
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                        const SizedBox(
                                                          height: 25,
                                                        ),
                                                        Container(
                                                          alignment:
                                                              Alignment.center,
                                                          child: const Column(
                                                            mainAxisAlignment:
                                                                MainAxisAlignment
                                                                    .center,
                                                            crossAxisAlignment:
                                                                CrossAxisAlignment
                                                                    .center,
                                                            children: [
                                                              Text(
                                                                "Powered By Gautam Solar Pvt. Ltd.",
                                                                style:
                                                                    TextStyle(
                                                                  fontSize: 14,
                                                                  fontFamily:
                                                                      appFontFamily,
                                                                  color: AppColors
                                                                      .greyColor,
                                                                  fontWeight:
                                                                      FontWeight
                                                                          .w400,
                                                                ),
                                                              ),
                                                              SizedBox(
                                                                height: 10,
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                      ],
                                                    ),
                                                  ),
                                                ),
                                              ],
                                            )
                                          /******************Bufffing */
                                          : setPage == "buffing"
                                              ? Stack(
                                                  alignment: Alignment.center,
                                                  fit: StackFit.expand,
                                                  children: [
                                                    SingleChildScrollView(
                                                      child: Form(
                                                        key: _postLamFormKey,
                                                        autovalidateMode:
                                                            AutovalidateMode
                                                                .onUserInteraction,
                                                        child: Column(
                                                          mainAxisAlignment:
                                                              MainAxisAlignment
                                                                  .center,
                                                          crossAxisAlignment:
                                                              CrossAxisAlignment
                                                                  .start,
                                                          children: <Widget>[
                                                            Container(
                                                              alignment:
                                                                  Alignment
                                                                      .center,
                                                              child: Column(
                                                                mainAxisAlignment:
                                                                    MainAxisAlignment
                                                                        .center,
                                                                crossAxisAlignment:
                                                                    CrossAxisAlignment
                                                                        .center,
                                                                children: [
                                                                  Image.asset(
                                                                    AppAssets
                                                                        .imgLogo,
                                                                    height: 100,
                                                                    width: 230,
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            const Center(
                                                                child: Padding(
                                                                    padding: EdgeInsets
                                                                        .only(
                                                                            top:
                                                                                10),
                                                                    child: Text(
                                                                        "Incoming Process Quality Control",
                                                                        style: TextStyle(
                                                                            fontSize:
                                                                                27,
                                                                            color: AppColors
                                                                                .black,
                                                                            fontFamily:
                                                                                appFontFamily,
                                                                            fontWeight:
                                                                                FontWeight.w700)))),
                                                            const Center(
                                                                child: Text(
                                                                    "(Post Lam IPQC Checklist)",
                                                                    style: TextStyle(
                                                                        fontSize:
                                                                            20,
                                                                        color: AppColors
                                                                            .black,
                                                                        fontFamily:
                                                                            appFontFamily,
                                                                        fontWeight:
                                                                            FontWeight.w700))),
                                                            const SizedBox(
                                                              height: 35,
                                                            ),
                                                            Row(
                                                              children: [
                                                                Text(
                                                                  'Document No : ',
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                                const SizedBox(
                                                                  width: 8,
                                                                ),
                                                                Text(
                                                                  'GSPL/IPQC/IPC/003',
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                              ],
                                                            ),
                                                            SizedBox(
                                                              height: 8,
                                                            ),
                                                            Row(
                                                              children: [
                                                                Text(
                                                                  'Rev.No. / Rev. Date : ',
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                                const SizedBox(
                                                                  width: 8,
                                                                ),
                                                                Text(
                                                                  'Ver.2.0 / 20-03-2024',
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                              ],
                                                            ),
                                                            const SizedBox(
                                                              height: 15,
                                                            ),
                                                            const Center(
                                                                child: Text(
                                                                    "Buffing",
                                                                    style: TextStyle(
                                                                        fontSize:
                                                                            20,
                                                                        color: Color.fromARGB(
                                                                            255,
                                                                            13,
                                                                            160,
                                                                            0),
                                                                        fontFamily:
                                                                            appFontFamily,
                                                                        fontWeight:
                                                                            FontWeight.w700))),
                                                            const SizedBox(
                                                              height: 20,
                                                            ),
                                                            // Buffing Availability of WI
                                                            Text(
                                                              "Frequency",
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufFreq1Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "5 pieces per shift",
                                                                counterText: '',
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: true,
                                                            ),
                                                            const SizedBox(
                                                              height: 15,
                                                            ),
                                                            Text(
                                                              "Corner Edge,Buffing belt condition With Serial No",
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufTem1Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Please Enter Corner Edge,Buffing belt condition",
                                                                counterText: '',
                                                                fillColor: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        215,
                                                                        243,
                                                                        207),
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: status ==
                                                                          'Pending' &&
                                                                      designation !=
                                                                          "QC"
                                                                  ? true
                                                                  : false,
                                                              validator:
                                                                  MultiValidator(
                                                                [
                                                                  RequiredValidator(
                                                                    errorText:
                                                                        "Please Enter Corner Edge,Buffing belt condition ",
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufTem2Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Please Enter Corner Edge,Buffing belt condition",
                                                                counterText: '',
                                                                fillColor: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        215,
                                                                        243,
                                                                        207),
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: status ==
                                                                          'Pending' &&
                                                                      designation !=
                                                                          "QC"
                                                                  ? true
                                                                  : false,
                                                              validator:
                                                                  MultiValidator(
                                                                [
                                                                  RequiredValidator(
                                                                    errorText:
                                                                        "Please Enter Corner Edge,Buffing belt condition ",
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufTem3Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Please Enter Corner Edge,Buffing belt condition",
                                                                counterText: '',
                                                                fillColor: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        215,
                                                                        243,
                                                                        207),
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: status ==
                                                                          'Pending' &&
                                                                      designation !=
                                                                          "QC"
                                                                  ? true
                                                                  : false,
                                                              validator:
                                                                  MultiValidator(
                                                                [
                                                                  RequiredValidator(
                                                                    errorText:
                                                                        "Please Enter Corner Edge,Buffing belt condition ",
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufTem4Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Please Enter Corner Edge,Buffing belt condition",
                                                                counterText: '',
                                                                fillColor: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        215,
                                                                        243,
                                                                        207),
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: status ==
                                                                          'Pending' &&
                                                                      designation !=
                                                                          "QC"
                                                                  ? true
                                                                  : false,
                                                              validator:
                                                                  MultiValidator(
                                                                [
                                                                  RequiredValidator(
                                                                    errorText:
                                                                        "Please Enter Corner Edge,Buffing belt condition ",
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufTem5Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Please Enter Corner Edge,Buffing belt condition",
                                                                counterText: '',
                                                                fillColor: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        215,
                                                                        243,
                                                                        207),
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: status ==
                                                                          'Pending' &&
                                                                      designation !=
                                                                          "QC"
                                                                  ? true
                                                                  : false,
                                                              validator:
                                                                  MultiValidator(
                                                                [
                                                                  RequiredValidator(
                                                                    errorText:
                                                                        "Please Enter Corner Edge,Buffing belt condition ",
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                            const SizedBox(
                                                              height: 15,
                                                            ),
                                                            Text(
                                                              "Acceptance Crieteria",
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufAccep1Controller,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Should not be sharp & No worn out",
                                                                counterText: '',
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: true,
                                                            ),
                                                            const SizedBox(
                                                              height: 15,
                                                            ),
                                                            Container(
                                                              margin: EdgeInsets
                                                                  .symmetric(
                                                                      vertical:
                                                                          10.0),
                                                              child: Divider(
                                                                color: Colors
                                                                    .black,
                                                                height: 2.0,
                                                                thickness: 2.0,
                                                              ),
                                                            ),
                                                            const SizedBox(
                                                              height: 15,
                                                            ),
                                                            Text(
                                                              "Remark",
                                                              style: AppStyles
                                                                  .textfieldCaptionTextStyle,
                                                            ),
                                                            SizedBox(
                                                              height: 5,
                                                            ),
                                                            TextFormField(
                                                              controller:
                                                                  bufRemarkController,
                                                              keyboardType:
                                                                  TextInputType
                                                                      .text,
                                                              textInputAction:
                                                                  TextInputAction
                                                                      .next,
                                                              decoration: AppStyles
                                                                  .textFieldInputDecoration
                                                                  .copyWith(
                                                                hintText:
                                                                    "Remark ",
                                                                counterText: '',
                                                                fillColor: Color
                                                                    .fromARGB(
                                                                        255,
                                                                        215,
                                                                        243,
                                                                        207),
                                                              ),
                                                              style: AppStyles
                                                                  .textInputTextStyle,
                                                              readOnly: status ==
                                                                          'Pending' &&
                                                                      designation !=
                                                                          "QC"
                                                                  ? true
                                                                  : false,
                                                              // validator:
                                                              //     MultiValidator(
                                                              //   [
                                                              //     RequiredValidator(
                                                              //       errorText:
                                                              //           "Please Enter  Remark",
                                                              //     ),
                                                              //   ],
                                                              // ),
                                                            ),

                                                            const SizedBox(
                                                              height: 15,
                                                            ),

                                                            Padding(
                                                                padding:
                                                                    EdgeInsets
                                                                        .fromLTRB(
                                                                            0,
                                                                            10,
                                                                            0,
                                                                            0)),
                                                            _isLoading
                                                                ? Center(
                                                                    child:
                                                                        CircularProgressIndicator())
                                                                : AppButton(
                                                                    textStyle:
                                                                        const TextStyle(
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .w700,
                                                                      color: AppColors
                                                                          .white,
                                                                      fontSize:
                                                                          16,
                                                                    ),
                                                                    onTap: () {
                                                                      AppHelper
                                                                          .hideKeyboard(
                                                                              context);
                                                                      // if (status !=
                                                                      //     'Pending') {
                                                                      //   setState(
                                                                      //       () {
                                                                      //     sendStatus =
                                                                      //         'Inprogress';
                                                                      //   });
                                                                      //   // createData();
                                                                      // }

                                                                      _postLamFormKey
                                                                          .currentState!
                                                                          .save;
                                                                      if (_postLamFormKey
                                                                          .currentState!
                                                                          .validate()) {
                                                                        if (status !=
                                                                            'Pending') {
                                                                          setState(
                                                                              () {
                                                                            sendStatus =
                                                                                'Inprogress';
                                                                            // setPage =
                                                                            //     'cleaning';
                                                                          });
                                                                          createData();
                                                                        }
                                                                        // createData();
                                                                        setState(
                                                                            () {
                                                                          setPage =
                                                                              'cleaning';
                                                                        });
                                                                      }
                                                                    },
                                                                    label:
                                                                        "Next",
                                                                    organization:
                                                                        '',
                                                                  ),
                                                            const SizedBox(
                                                              height: 18,
                                                            ),
                                                            Center(
                                                              child: Padding(
                                                                padding:
                                                                    const EdgeInsets
                                                                        .all(
                                                                        8.0),
                                                                child: InkWell(
                                                                  onTap: () {
                                                                    setState(
                                                                        () {
                                                                      setPage =
                                                                          "curing";
                                                                    });
                                                                  },
                                                                  child:
                                                                      const Text(
                                                                    "BACK",
                                                                    style: TextStyle(
                                                                        fontFamily:
                                                                            appFontFamily,
                                                                        fontSize:
                                                                            16,
                                                                        fontWeight:
                                                                            FontWeight
                                                                                .w500,
                                                                        color: AppColors
                                                                            .redColor),
                                                                  ),
                                                                ),
                                                              ),
                                                            ),
                                                            const SizedBox(
                                                              height: 25,
                                                            ),
                                                            Container(
                                                              alignment:
                                                                  Alignment
                                                                      .center,
                                                              child:
                                                                  const Column(
                                                                mainAxisAlignment:
                                                                    MainAxisAlignment
                                                                        .center,
                                                                crossAxisAlignment:
                                                                    CrossAxisAlignment
                                                                        .center,
                                                                children: [
                                                                  Text(
                                                                    "Powered By Gautam Solar Pvt. Ltd.",
                                                                    style:
                                                                        TextStyle(
                                                                      fontSize:
                                                                          14,
                                                                      fontFamily:
                                                                          appFontFamily,
                                                                      color: AppColors
                                                                          .greyColor,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .w400,
                                                                    ),
                                                                  ),
                                                                  SizedBox(
                                                                    height: 10,
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ],
                                                        ),
                                                      ),
                                                    ),
                                                  ],
                                                )
                                              /*********          Cleaning        ********** */
                                              : setPage == "cleaning"
                                                  ? Stack(
                                                      alignment:
                                                          Alignment.center,
                                                      fit: StackFit.expand,
                                                      children: [
                                                        SingleChildScrollView(
                                                          child: Form(
                                                            key:
                                                                _postLamFormKey,
                                                            autovalidateMode:
                                                                AutovalidateMode
                                                                    .onUserInteraction,
                                                            child: Column(
                                                              mainAxisAlignment:
                                                                  MainAxisAlignment
                                                                      .center,
                                                              crossAxisAlignment:
                                                                  CrossAxisAlignment
                                                                      .start,
                                                              children: <Widget>[
                                                                Container(
                                                                  alignment:
                                                                      Alignment
                                                                          .center,
                                                                  child: Column(
                                                                    mainAxisAlignment:
                                                                        MainAxisAlignment
                                                                            .center,
                                                                    crossAxisAlignment:
                                                                        CrossAxisAlignment
                                                                            .center,
                                                                    children: [
                                                                      Image
                                                                          .asset(
                                                                        AppAssets
                                                                            .imgLogo,
                                                                        height:
                                                                            100,
                                                                        width:
                                                                            230,
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                const Center(
                                                                    child: Padding(
                                                                        padding: EdgeInsets.only(
                                                                            top:
                                                                                10),
                                                                        child: Text(
                                                                            "Incoming Process Quality Control",
                                                                            style: TextStyle(
                                                                                fontSize: 27,
                                                                                color: AppColors.black,
                                                                                fontFamily: appFontFamily,
                                                                                fontWeight: FontWeight.w700)))),
                                                                const Center(
                                                                    child: Text(
                                                                        "(Post Lam IPQC Checklist)",
                                                                        style: TextStyle(
                                                                            fontSize:
                                                                                20,
                                                                            color: AppColors
                                                                                .black,
                                                                            fontFamily:
                                                                                appFontFamily,
                                                                            fontWeight:
                                                                                FontWeight.w700))),
                                                                const SizedBox(
                                                                  height: 35,
                                                                ),
                                                                Row(
                                                                  children: [
                                                                    Text(
                                                                      'Document No : ',
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    const SizedBox(
                                                                      width: 8,
                                                                    ),
                                                                    Text(
                                                                      'GSPL/IPQC/IPC/003',
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                  ],
                                                                ),
                                                                SizedBox(
                                                                  height: 8,
                                                                ),
                                                                Row(
                                                                  children: [
                                                                    Text(
                                                                      'Rev.No. / Rev. Date : ',
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    const SizedBox(
                                                                      width: 8,
                                                                    ),
                                                                    Text(
                                                                      'Ver.2.0 / 20-03-2024',
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                  ],
                                                                ),
                                                                const SizedBox(
                                                                  height: 15,
                                                                ),
                                                                const Center(
                                                                    child: Text(
                                                                        "Cleaning",
                                                                        style: TextStyle(
                                                                            fontSize:
                                                                                20,
                                                                            color: Color.fromARGB(
                                                                                255,
                                                                                13,
                                                                                160,
                                                                                0),
                                                                            fontFamily:
                                                                                appFontFamily,
                                                                            fontWeight:
                                                                                FontWeight.w700))),
                                                                const SizedBox(
                                                                  height: 20,
                                                                ),
                                                                Text(
                                                                  "Frequency",
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleFreq1Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "5 pieces per shift",
                                                                    counterText:
                                                                        '',
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly:
                                                                      true,
                                                                ),
                                                                const SizedBox(
                                                                  height: 15,
                                                                ),
                                                                Text(
                                                                  "Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)",
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTem1Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "Please Enter Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)",
                                                                    counterText:
                                                                        '',
                                                                    fillColor: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly: status ==
                                                                              'Pending' &&
                                                                          designation !=
                                                                              "QC"
                                                                      ? true
                                                                      : false,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Enter  Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                Text(
                                                                  "Picture 1",
                                                                  style: TextStyle(
                                                                      fontSize:
                                                                          16,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .bold),
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTemCam1Controller,
                                                                  decoration:
                                                                      InputDecoration(
                                                                    hintText:
                                                                        "Please Capture a Module should be free from Tape Picture",
                                                                    counterText:
                                                                        '',
                                                                    contentPadding:
                                                                        const EdgeInsets
                                                                            .all(
                                                                            10),
                                                                    suffixIcon:
                                                                        IconButton(
                                                                      onPressed:
                                                                          () async {
                                                                        if (status !=
                                                                            'Pending') {
                                                                          await _openCamera(
                                                                              cleTemCam1Controller,
                                                                              'Cleaning_Image1',
                                                                              /** image name */
                                                                              'Module should be free from Tape',
                                                                              /*** Type  */
                                                                              'Cleaning' /** Stage */
                                                                              );
                                                                        }
                                                                      },
                                                                      icon: const Icon(
                                                                          Icons
                                                                              .camera_alt),
                                                                    ),
                                                                    border:
                                                                        const OutlineInputBorder(),
                                                                  ),
                                                                  readOnly:
                                                                      true,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Click Picture ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                  enabled: !(widget
                                                                              .id !=
                                                                          null &&
                                                                      widget.id !=
                                                                          '' &&
                                                                      cleTemCam1Controller
                                                                          .text
                                                                          .isNotEmpty),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTem2Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "Please Enter Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)",
                                                                    counterText:
                                                                        '',
                                                                    fillColor: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly: status ==
                                                                              'Pending' &&
                                                                          designation !=
                                                                              "QC"
                                                                      ? true
                                                                      : false,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Enter  Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                Text(
                                                                  "Picture 2",
                                                                  style: TextStyle(
                                                                      fontSize:
                                                                          16,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .bold),
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTemCam2Controller,
                                                                  decoration:
                                                                      InputDecoration(
                                                                    hintText:
                                                                        "Please Capture a Module should be free from Tape Picture",
                                                                    counterText:
                                                                        '',
                                                                    contentPadding:
                                                                        const EdgeInsets
                                                                            .all(
                                                                            10),
                                                                    suffixIcon:
                                                                        IconButton(
                                                                      onPressed:
                                                                          () async {
                                                                        if (status !=
                                                                            'Pending') {
                                                                          await _openCamera(
                                                                              cleTemCam2Controller,
                                                                              'Cleaning_Image2',
                                                                              /** image name */
                                                                              'Module should be free from Tape',
                                                                              /*** Type  */
                                                                              'Cleaning' /** Stage */
                                                                              );
                                                                        }
                                                                      },
                                                                      icon: const Icon(
                                                                          Icons
                                                                              .camera_alt),
                                                                    ),
                                                                    border:
                                                                        const OutlineInputBorder(),
                                                                  ),
                                                                  readOnly:
                                                                      true,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Click Picture ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                  enabled: !(widget
                                                                              .id !=
                                                                          null &&
                                                                      widget.id !=
                                                                          '' &&
                                                                      cleTemCam2Controller
                                                                          .text
                                                                          .isNotEmpty),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTem3Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "Please Enter Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)",
                                                                    counterText:
                                                                        '',
                                                                    fillColor: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly: status ==
                                                                              'Pending' &&
                                                                          designation !=
                                                                              "QC"
                                                                      ? true
                                                                      : false,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Enter  Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                Text(
                                                                  "Picture 3",
                                                                  style: TextStyle(
                                                                      fontSize:
                                                                          16,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .bold),
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTemCam3Controller,
                                                                  decoration:
                                                                      InputDecoration(
                                                                    hintText:
                                                                        "Please Capture a Module should be free from Tape Picture",
                                                                    counterText:
                                                                        '',
                                                                    contentPadding:
                                                                        const EdgeInsets
                                                                            .all(
                                                                            10),
                                                                    suffixIcon:
                                                                        IconButton(
                                                                      onPressed:
                                                                          () async {
                                                                        if (status !=
                                                                            'Pending') {
                                                                          await _openCamera(
                                                                              cleTemCam3Controller,
                                                                              'Cleaning_Image3',
                                                                              /** image name */
                                                                              'Module should be free from Tape',
                                                                              /*** Type  */
                                                                              'Cleaning' /** Stage */
                                                                              );
                                                                        }
                                                                      },
                                                                      icon: const Icon(
                                                                          Icons
                                                                              .camera_alt),
                                                                    ),
                                                                    border:
                                                                        const OutlineInputBorder(),
                                                                  ),
                                                                  readOnly:
                                                                      true,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Click Picture ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                  enabled: !(widget
                                                                              .id !=
                                                                          null &&
                                                                      widget.id !=
                                                                          '' &&
                                                                      cleTemCam3Controller
                                                                          .text
                                                                          .isNotEmpty),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTem4Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "Please Enter Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)",
                                                                    counterText:
                                                                        '',
                                                                    fillColor: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly: status ==
                                                                              'Pending' &&
                                                                          designation !=
                                                                              "QC"
                                                                      ? true
                                                                      : false,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Enter  Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                Text(
                                                                  "Picture 4",
                                                                  style: TextStyle(
                                                                      fontSize:
                                                                          16,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .bold),
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTemCam4Controller,
                                                                  decoration:
                                                                      InputDecoration(
                                                                    hintText:
                                                                        "Please Capture a Module should be free from Tape Picture",
                                                                    counterText:
                                                                        '',
                                                                    contentPadding:
                                                                        const EdgeInsets
                                                                            .all(
                                                                            10),
                                                                    suffixIcon:
                                                                        IconButton(
                                                                      onPressed:
                                                                          () async {
                                                                        if (status !=
                                                                            'Pending') {
                                                                          await _openCamera(
                                                                              cleTemCam4Controller,
                                                                              'Cleaning_Image4',
                                                                              /** image name */
                                                                              'Module should be free from Tape',
                                                                              /*** Type  */
                                                                              'Cleaning' /** Stage */
                                                                              );
                                                                        }
                                                                      },
                                                                      icon: const Icon(
                                                                          Icons
                                                                              .camera_alt),
                                                                    ),
                                                                    border:
                                                                        const OutlineInputBorder(),
                                                                  ),
                                                                  readOnly:
                                                                      true,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Click Picture ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                  enabled: !(widget
                                                                              .id !=
                                                                          null &&
                                                                      widget.id !=
                                                                          '' &&
                                                                      cleTemCam4Controller
                                                                          .text
                                                                          .isNotEmpty),
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTem5Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "Please Enter Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.)",
                                                                    counterText:
                                                                        '',
                                                                    fillColor: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly: status ==
                                                                              'Pending' &&
                                                                          designation !=
                                                                              "QC"
                                                                      ? true
                                                                      : false,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Enter  Module should be free from Tape,Dust,Dirt,EVA/Backsheet residue,Corner Burrs,Glue residue on (glass,backsheet,JB,Wire etc.) ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                                const SizedBox(
                                                                  height: 5,
                                                                ),
                                                                Text(
                                                                  "Picture 5",
                                                                  style: TextStyle(
                                                                      fontSize:
                                                                          16,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .bold),
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleTemCam5Controller,
                                                                  decoration:
                                                                      InputDecoration(
                                                                    hintText:
                                                                        "Please Capture a Module should be free from Tape Picture",
                                                                    counterText:
                                                                        '',
                                                                    contentPadding:
                                                                        const EdgeInsets
                                                                            .all(
                                                                            10),
                                                                    suffixIcon:
                                                                        IconButton(
                                                                      onPressed:
                                                                          () async {
                                                                        if (status !=
                                                                            'Pending') {
                                                                          await _openCamera(
                                                                              cleTemCam5Controller,
                                                                              'Cleaning_Image5',
                                                                              /** image name */
                                                                              'Module should be free from Tape',
                                                                              /*** Type  */
                                                                              'Cleaning' /** Stage */
                                                                              );
                                                                        }
                                                                      },
                                                                      icon: const Icon(
                                                                          Icons
                                                                              .camera_alt),
                                                                    ),
                                                                    border:
                                                                        const OutlineInputBorder(),
                                                                  ),
                                                                  readOnly:
                                                                      true,
                                                                  validator:
                                                                      MultiValidator(
                                                                    [
                                                                      RequiredValidator(
                                                                        errorText:
                                                                            "Please Click Picture ",
                                                                      ),
                                                                    ],
                                                                  ),
                                                                  enabled: !(widget
                                                                              .id !=
                                                                          null &&
                                                                      widget.id !=
                                                                          '' &&
                                                                      cleTemCam5Controller
                                                                          .text
                                                                          .isNotEmpty),
                                                                ),
                                                                const SizedBox(
                                                                  height: 15,
                                                                ),
                                                                Text(
                                                                  "Acceptance Crieteria",
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleAccep1Controller,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "As per visual inspection criteria GSPL/PLV/001",
                                                                    counterText:
                                                                        '',
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly:
                                                                      true,
                                                                ),
                                                                const SizedBox(
                                                                  height: 15,
                                                                ),
                                                                Container(
                                                                  margin: EdgeInsets
                                                                      .symmetric(
                                                                          vertical:
                                                                              10.0),
                                                                  child:
                                                                      Divider(
                                                                    color: Colors
                                                                        .black,
                                                                    height: 2.0,
                                                                    thickness:
                                                                        2.0,
                                                                  ),
                                                                ),
                                                                Text(
                                                                  "Remark",
                                                                  style: AppStyles
                                                                      .textfieldCaptionTextStyle,
                                                                ),
                                                                SizedBox(
                                                                  height: 5,
                                                                ),
                                                                TextFormField(
                                                                  controller:
                                                                      cleRemarkController,
                                                                  keyboardType:
                                                                      TextInputType
                                                                          .text,
                                                                  textInputAction:
                                                                      TextInputAction
                                                                          .next,
                                                                  decoration: AppStyles
                                                                      .textFieldInputDecoration
                                                                      .copyWith(
                                                                    hintText:
                                                                        "Remark ",
                                                                    counterText:
                                                                        '',
                                                                    fillColor: Color
                                                                        .fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                  ),
                                                                  style: AppStyles
                                                                      .textInputTextStyle,
                                                                  readOnly: status ==
                                                                              'Pending' &&
                                                                          designation !=
                                                                              "QC"
                                                                      ? true
                                                                      : false,
                                                                  // validator:
                                                                  //     MultiValidator(
                                                                  //   [
                                                                  //     RequiredValidator(
                                                                  //       errorText:
                                                                  //           "Please Enter  Remark",
                                                                  //     ),
                                                                  //   ],
                                                                  // ),
                                                                ),
                                                                const SizedBox(
                                                                  height: 15,
                                                                ),
                                                                Padding(
                                                                    padding: EdgeInsets
                                                                        .fromLTRB(
                                                                            0,
                                                                            10,
                                                                            0,
                                                                            0)),
                                                                _isLoading
                                                                    ? Center(
                                                                        child:
                                                                            CircularProgressIndicator())
                                                                    : AppButton(
                                                                        textStyle:
                                                                            const TextStyle(
                                                                          fontWeight:
                                                                              FontWeight.w700,
                                                                          color:
                                                                              AppColors.white,
                                                                          fontSize:
                                                                              16,
                                                                        ),
                                                                        onTap:
                                                                            () {
                                                                          AppHelper.hideKeyboard(
                                                                              context);
                                                                          // if (status !=
                                                                          //     'Pending') {
                                                                          //   setState(() {
                                                                          //     sendStatus = 'Inprogress';
                                                                          //   });
                                                                          //   createData();
                                                                          // }

                                                                          _postLamFormKey
                                                                              .currentState!
                                                                              .save;
                                                                          if (_postLamFormKey
                                                                              .currentState!
                                                                              .validate()) {
                                                                            if (status !=
                                                                                'Pending') {
                                                                              setState(() {
                                                                                sendStatus = 'Inprogress';
                                                                                // setPage = 'sunsimulator';
                                                                              });
                                                                              createData();
                                                                            }
                                                                            // createData();
                                                                            setState(() {
                                                                              setPage = 'sunsimulator';
                                                                            });
                                                                          }
                                                                        },
                                                                        label:
                                                                            "Next",
                                                                        organization:
                                                                            '',
                                                                      ),
                                                                const SizedBox(
                                                                  height: 18,
                                                                ),
                                                                Center(
                                                                  child:
                                                                      Padding(
                                                                    padding:
                                                                        const EdgeInsets
                                                                            .all(
                                                                            8.0),
                                                                    child:
                                                                        InkWell(
                                                                      onTap:
                                                                          () {
                                                                        setState(
                                                                            () {
                                                                          setPage =
                                                                              "buffing";
                                                                        });
                                                                      },
                                                                      child:
                                                                          const Text(
                                                                        "BACK",
                                                                        style: TextStyle(
                                                                            fontFamily:
                                                                                appFontFamily,
                                                                            fontSize:
                                                                                16,
                                                                            fontWeight:
                                                                                FontWeight.w500,
                                                                            color: AppColors.redColor),
                                                                      ),
                                                                    ),
                                                                  ),
                                                                ),
                                                                const SizedBox(
                                                                  height: 25,
                                                                ),
                                                                Container(
                                                                  alignment:
                                                                      Alignment
                                                                          .center,
                                                                  child:
                                                                      const Column(
                                                                    mainAxisAlignment:
                                                                        MainAxisAlignment
                                                                            .center,
                                                                    crossAxisAlignment:
                                                                        CrossAxisAlignment
                                                                            .center,
                                                                    children: [
                                                                      Text(
                                                                        "Powered By Gautam Solar Pvt. Ltd.",
                                                                        style:
                                                                            TextStyle(
                                                                          fontSize:
                                                                              14,
                                                                          fontFamily:
                                                                              appFontFamily,
                                                                          color:
                                                                              AppColors.greyColor,
                                                                          fontWeight:
                                                                              FontWeight.w400,
                                                                        ),
                                                                      ),
                                                                      SizedBox(
                                                                        height:
                                                                            10,
                                                                      ),
                                                                    ],
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                          ),
                                                        ),
                                                      ],
                                                    )

                                                  /***************Sun Simulator calibration ******************* */

                                                  : setPage == "sunsimulator"
                                                      ? Stack(
                                                          alignment:
                                                              Alignment.center,
                                                          fit: StackFit.expand,
                                                          children: [
                                                            SingleChildScrollView(
                                                              child: Form(
                                                                key:
                                                                    _postLamFormKey,
                                                                autovalidateMode:
                                                                    AutovalidateMode
                                                                        .onUserInteraction,
                                                                child: Column(
                                                                  mainAxisAlignment:
                                                                      MainAxisAlignment
                                                                          .center,
                                                                  crossAxisAlignment:
                                                                      CrossAxisAlignment
                                                                          .start,
                                                                  children: <Widget>[
                                                                    Container(
                                                                      alignment:
                                                                          Alignment
                                                                              .center,
                                                                      child:
                                                                          Column(
                                                                        mainAxisAlignment:
                                                                            MainAxisAlignment.center,
                                                                        crossAxisAlignment:
                                                                            CrossAxisAlignment.center,
                                                                        children: [
                                                                          Image
                                                                              .asset(
                                                                            AppAssets.imgLogo,
                                                                            height:
                                                                                100,
                                                                            width:
                                                                                230,
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    const Center(
                                                                        child: Padding(
                                                                            padding:
                                                                                EdgeInsets.only(top: 10),
                                                                            child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                    const Center(
                                                                        child: Text(
                                                                            "(Post Lam IPQC Checklist)",
                                                                            style: TextStyle(
                                                                                fontSize: 20,
                                                                                color: AppColors.black,
                                                                                fontFamily: appFontFamily,
                                                                                fontWeight: FontWeight.w700))),
                                                                    const SizedBox(
                                                                      height:
                                                                          35,
                                                                    ),
                                                                    Row(
                                                                      children: [
                                                                        Text(
                                                                          'Document No : ',
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        const SizedBox(
                                                                          width:
                                                                              8,
                                                                        ),
                                                                        Text(
                                                                          'GSPL/IPQC/IPC/003',
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    SizedBox(
                                                                      height: 8,
                                                                    ),
                                                                    Row(
                                                                      children: [
                                                                        Text(
                                                                          'Rev.No. / Rev. Date : ',
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        const SizedBox(
                                                                          width:
                                                                              8,
                                                                        ),
                                                                        Text(
                                                                          'Ver.2.0 / 20-03-2024',
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                      ],
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    const Center(
                                                                        child: Text(
                                                                            "Flash Tester",
                                                                            style: TextStyle(
                                                                                fontSize: 20,
                                                                                color: Color.fromARGB(255, 13, 160, 0),
                                                                                fontFamily: appFontFamily,
                                                                                fontWeight: FontWeight.w700))),
                                                                    const SizedBox(
                                                                      height:
                                                                          20,
                                                                    ),
                                                                    // Sun SImulator Availability of WI
                                                                    Text(
                                                                      "Frequency",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaFreq1Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Once per Shift",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Text(
                                                                      "Ambient Temp.",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaAmbController,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Please Enter Ambient Temp.",
                                                                        counterText:
                                                                            '',
                                                                        fillColor: Color.fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly: status == 'Pending' &&
                                                                              designation != "QC"
                                                                          ? true
                                                                          : false,
                                                                      validator:
                                                                          MultiValidator(
                                                                        [
                                                                          RequiredValidator(
                                                                            errorText:
                                                                                "Please Enter Ambient Temp ",
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Text(
                                                                      "Acceptance Crieteria",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaAmbAccep1Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "25Â±3â",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Container(
                                                                      margin: EdgeInsets.symmetric(
                                                                          vertical:
                                                                              10.0),
                                                                      child:
                                                                          Divider(
                                                                        color: Colors
                                                                            .black,
                                                                        height:
                                                                            2.0,
                                                                        thickness:
                                                                            2.0,
                                                                      ),
                                                                    ),
                                                                    // Sun Simulator Temerature
                                                                    Text(
                                                                      "Frequency",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaFreq2Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Once per shift",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Text(
                                                                      "Module Temp.",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaMTController,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Please Enter Module Temp.",
                                                                        counterText:
                                                                            '',
                                                                        fillColor: Color.fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly: status == 'Pending' &&
                                                                              designation != "QC"
                                                                          ? true
                                                                          : false,
                                                                      validator:
                                                                          MultiValidator(
                                                                        [
                                                                          RequiredValidator(
                                                                            errorText:
                                                                                "Please Enter  Module Temp ",
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),

                                                                    Text(
                                                                      "Acceptance Criteria",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaAmbAccep2Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "25Â±2â",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),

                                                                    Container(
                                                                      margin: EdgeInsets.symmetric(
                                                                          vertical:
                                                                              10.0),
                                                                      child:
                                                                          Divider(
                                                                        color: Colors
                                                                            .black,
                                                                        height:
                                                                            2.0,
                                                                        thickness:
                                                                            2.0,
                                                                      ),
                                                                    ),
                                                                    // Sun Simulator Irradance
                                                                    Text(
                                                                      "Frequency",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaFreq3Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Once 24h ",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    Text(
                                                                      "Sunsimulator Calibration",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaSunController,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Please Enter Sunsimulator Calibration  ",
                                                                        counterText:
                                                                            '',
                                                                        fillColor: Color.fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly: status == 'Pending' &&
                                                                              designation != "QC"
                                                                          ? true
                                                                          : false,
                                                                      validator:
                                                                          MultiValidator(
                                                                        [
                                                                          RequiredValidator(
                                                                            errorText:
                                                                                "Please Enter Sunsimulator Calibration ",
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),

                                                                    Text(
                                                                      "Acceptance Criteria",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaAmbAccep3Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Sunsimulator must be calibrated at the start of the shift with Golden/Silver module(GSPL/QA/S/10)",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),

                                                                    Container(
                                                                      margin: EdgeInsets.symmetric(
                                                                          vertical:
                                                                              10.0),
                                                                      child:
                                                                          Divider(
                                                                        color: Colors
                                                                            .black,
                                                                        height:
                                                                            2.0,
                                                                        thickness:
                                                                            2.0,
                                                                      ),
                                                                    ),
                                                                    Text(
                                                                      "Frequency",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaFreq4Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Once every 4h ",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    Text(
                                                                      "Validation",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaValController,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Please Enter Validation ",
                                                                        counterText:
                                                                            '',
                                                                        fillColor: Color.fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly: status == 'Pending' &&
                                                                              designation != "QC"
                                                                          ? true
                                                                          : false,
                                                                      validator:
                                                                          MultiValidator(
                                                                        [
                                                                          RequiredValidator(
                                                                            errorText:
                                                                                "Please Enter Validation ",
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),

                                                                    Text(
                                                                      "Acceptance Criteria",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaAmbAccep4Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "As per GSPL/QA/S/10",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Container(
                                                                      margin: EdgeInsets.symmetric(
                                                                          vertical:
                                                                              10.0),
                                                                      child:
                                                                          Divider(
                                                                        color: Colors
                                                                            .black,
                                                                        height:
                                                                            2.0,
                                                                        thickness:
                                                                            2.0,
                                                                      ),
                                                                    ),
                                                                    Text(
                                                                      "Frequency",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaFreq5Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Once two weeks ",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    Text(
                                                                      "Silver Reference Module EL Check",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaSilController,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Please Enter Silver Reference Module EL Check ",
                                                                        counterText:
                                                                            '',
                                                                        fillColor: Color.fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly: status == 'Pending' &&
                                                                              designation != "QC"
                                                                          ? true
                                                                          : false,
                                                                      validator:
                                                                          MultiValidator(
                                                                        [
                                                                          RequiredValidator(
                                                                            errorText:
                                                                                "Please Enter Silver Reference Module EL Check ",
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                    const SizedBox(
                                                                      height: 5,
                                                                    ),

                                                                    Text(
                                                                      "Acceptance Criteria",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaAmbAccep5Controller,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "As per GSPL/QA/S/10",
                                                                        counterText:
                                                                            '',
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly:
                                                                          true,
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Container(
                                                                      margin: EdgeInsets.symmetric(
                                                                          vertical:
                                                                              10.0),
                                                                      child:
                                                                          Divider(
                                                                        color: Colors
                                                                            .black,
                                                                        height:
                                                                            2.0,
                                                                        thickness:
                                                                            2.0,
                                                                      ),
                                                                    ),
                                                                    Text(
                                                                      "Remark",
                                                                      style: AppStyles
                                                                          .textfieldCaptionTextStyle,
                                                                    ),
                                                                    SizedBox(
                                                                      height: 5,
                                                                    ),
                                                                    TextFormField(
                                                                      controller:
                                                                          flaRemarkController,
                                                                      keyboardType:
                                                                          TextInputType
                                                                              .text,
                                                                      textInputAction:
                                                                          TextInputAction
                                                                              .next,
                                                                      decoration: AppStyles
                                                                          .textFieldInputDecoration
                                                                          .copyWith(
                                                                        hintText:
                                                                            "Remark ",
                                                                        counterText:
                                                                            '',
                                                                        fillColor: Color.fromARGB(
                                                                            255,
                                                                            215,
                                                                            243,
                                                                            207),
                                                                      ),
                                                                      style: AppStyles
                                                                          .textInputTextStyle,
                                                                      readOnly: status == 'Pending' &&
                                                                              designation != "QC"
                                                                          ? true
                                                                          : false,
                                                                      // validator:
                                                                      //     MultiValidator(
                                                                      //   [
                                                                      //     RequiredValidator(
                                                                      //       errorText:
                                                                      //           "Please Enter  Remark",
                                                                      //     ),
                                                                      //   ],
                                                                      // ),
                                                                    ),

                                                                    const SizedBox(
                                                                      height:
                                                                          15,
                                                                    ),
                                                                    Padding(
                                                                        padding: EdgeInsets.fromLTRB(
                                                                            0,
                                                                            10,
                                                                            0,
                                                                            0)),
                                                                    _isLoading
                                                                        ? Center(
                                                                            child:
                                                                                CircularProgressIndicator())
                                                                        : AppButton(
                                                                            textStyle:
                                                                                const TextStyle(
                                                                              fontWeight: FontWeight.w700,
                                                                              color: AppColors.white,
                                                                              fontSize: 16,
                                                                            ),
                                                                            onTap:
                                                                                () {
                                                                              AppHelper.hideKeyboard(context);
                                                                              // if (status != 'Pending') {
                                                                              //   setState(() {
                                                                              //     sendStatus = 'Inprogress';
                                                                              //   });
                                                                              //   // createData();
                                                                              // }

                                                                              _postLamFormKey.currentState!.save;
                                                                              if (_postLamFormKey.currentState!.validate()) {
                                                                                if (status != 'Pending') {
                                                                                  setState(() {
                                                                                    sendStatus = 'Inprogress';
                                                                                    // setPage = 'hipot';
                                                                                  });
                                                                                  createData();
                                                                                }
                                                                                // createData();
                                                                                setState(() {
                                                                                  setPage = 'hipot';
                                                                                });
                                                                              }
                                                                            },
                                                                            label:
                                                                                "Next",
                                                                            organization:
                                                                                '',
                                                                          ),

                                                                    const SizedBox(
                                                                      height:
                                                                          18,
                                                                    ),
                                                                    Center(
                                                                      child:
                                                                          Padding(
                                                                        padding: const EdgeInsets
                                                                            .all(
                                                                            8.0),
                                                                        child:
                                                                            InkWell(
                                                                          onTap:
                                                                              () {
                                                                            setState(() {
                                                                              setPage = "cleaning";
                                                                            });
                                                                          },
                                                                          child:
                                                                              const Text(
                                                                            "BACK",
                                                                            style: TextStyle(
                                                                                fontFamily: appFontFamily,
                                                                                fontSize: 16,
                                                                                fontWeight: FontWeight.w500,
                                                                                color: AppColors.redColor),
                                                                          ),
                                                                        ),
                                                                      ),
                                                                    ),
                                                                    const SizedBox(
                                                                      height:
                                                                          25,
                                                                    ),
                                                                    Container(
                                                                      alignment:
                                                                          Alignment
                                                                              .center,
                                                                      child:
                                                                          const Column(
                                                                        mainAxisAlignment:
                                                                            MainAxisAlignment.center,
                                                                        crossAxisAlignment:
                                                                            CrossAxisAlignment.center,
                                                                        children: [
                                                                          Text(
                                                                            "Powered By Gautam Solar Pvt. Ltd.",
                                                                            style:
                                                                                TextStyle(
                                                                              fontSize: 14,
                                                                              fontFamily: appFontFamily,
                                                                              color: AppColors.greyColor,
                                                                              fontWeight: FontWeight.w400,
                                                                            ),
                                                                          ),
                                                                          SizedBox(
                                                                            height:
                                                                                10,
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    ),
                                                                  ],
                                                                ),
                                                              ),
                                                            ),
                                                          ],
                                                        )
                                                      /*******************Hipot*************** */

                                                      : setPage == "hipot"
                                                          ? Stack(
                                                              alignment:
                                                                  Alignment
                                                                      .center,
                                                              fit: StackFit
                                                                  .expand,
                                                              children: [
                                                                SingleChildScrollView(
                                                                  child: Form(
                                                                    key:
                                                                        _postLamFormKey,
                                                                    autovalidateMode:
                                                                        AutovalidateMode
                                                                            .onUserInteraction,
                                                                    child:
                                                                        Column(
                                                                      mainAxisAlignment:
                                                                          MainAxisAlignment
                                                                              .center,
                                                                      crossAxisAlignment:
                                                                          CrossAxisAlignment
                                                                              .start,
                                                                      children: <Widget>[
                                                                        Container(
                                                                          alignment:
                                                                              Alignment.center,
                                                                          child:
                                                                              Column(
                                                                            mainAxisAlignment:
                                                                                MainAxisAlignment.center,
                                                                            crossAxisAlignment:
                                                                                CrossAxisAlignment.center,
                                                                            children: [
                                                                              Image.asset(
                                                                                AppAssets.imgLogo,
                                                                                height: 100,
                                                                                width: 230,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        const Center(
                                                                            child:
                                                                                Padding(padding: EdgeInsets.only(top: 10), child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                        const Center(
                                                                            child:
                                                                                Text("(Post Lam IPQC Checklist)", style: TextStyle(fontSize: 20, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                        const SizedBox(
                                                                          height:
                                                                              35,
                                                                        ),
                                                                        Row(
                                                                          children: [
                                                                            Text(
                                                                              'Document No : ',
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            const SizedBox(
                                                                              width: 8,
                                                                            ),
                                                                            Text(
                                                                              'GSPL/IPQC/IPC/003',
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              8,
                                                                        ),
                                                                        Row(
                                                                          children: [
                                                                            Text(
                                                                              'Rev.No. / Rev. Date : ',
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            const SizedBox(
                                                                              width: 8,
                                                                            ),
                                                                            Text(
                                                                              'Ver.2.0 / 20-03-2024',
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        const Center(
                                                                            child:
                                                                                Text("Hipot Test", style: TextStyle(fontSize: 20, color: Color.fromARGB(255, 13, 160, 0), fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                        const SizedBox(
                                                                          height:
                                                                              20,
                                                                        ),
                                                                        Text(
                                                                          "Frequency",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipFreq1Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "5 pieces per shift",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Text(
                                                                          "DCW",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCW1Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter DCW",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter DCW ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture 1",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCWCam1Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a DCW Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipDCWCam1Controller,
                                                                                      'DCW_Image1',
                                                                                      /** image name */
                                                                                      'DCW',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipDCWCam1Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCW2Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter DCW",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter DCW ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture 2",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCWCam2Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a DCW Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipDCWCam2Controller,
                                                                                      'DCW_Image2',
                                                                                      /** image name */
                                                                                      'DCW',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipDCWCam2Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCW3Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter DCW",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter DCW ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture 3",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCWCam3Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a DCW Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipDCWCam3Controller,
                                                                                      'DCW_Image3',
                                                                                      /** image name */
                                                                                      'DCW',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipDCWCam3Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCW4Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter DCW",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter DCW ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture 4",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCWCam4Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a DCW Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipDCWCam4Controller,
                                                                                      'DCW_Image4',
                                                                                      /** image name */
                                                                                      'DCW',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipDCWCam4Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCW5Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter DCW",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter DCW ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture 5",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipDCWCam5Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a DCW Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipDCWCam5Controller,
                                                                                      'DCW_Image5',
                                                                                      /** image name */
                                                                                      'DCW',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipDCWCam5Controller.text.isNotEmpty),
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Text(
                                                                          "Acceptance Crieteria",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipAccep1Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "â¤50ÂµA",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Container(
                                                                          margin:
                                                                              EdgeInsets.symmetric(vertical: 10.0),
                                                                          child:
                                                                              Divider(
                                                                            color:
                                                                                Colors.black,
                                                                            height:
                                                                                2.0,
                                                                            thickness:
                                                                                2.0,
                                                                          ),
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              20,
                                                                        ),
                                                                        Text(
                                                                          "Frequency",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipFreq2Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "5 pieces per shift",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Text(
                                                                          "IR",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIR1Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter IR",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter IR ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture IR 1",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIRCam1Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a IR Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipIRCam1Controller,
                                                                                      'IR_Image1',
                                                                                      /** image name */
                                                                                      'IR',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipIRCam1Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIR2Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter IR",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter IR ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture IR 2",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIRCam2Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a IR Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipIRCam2Controller,
                                                                                      'IR_Image2',
                                                                                      /** image name */
                                                                                      'IR',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipIRCam2Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIR3Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter IR",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter IR ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture IR 3",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIRCam3Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a IR Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipIRCam3Controller,
                                                                                      'IR_Image3',
                                                                                      /** image name */
                                                                                      'IR',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipIRCam3Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIR4Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter IR",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter IR ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture IR 4",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIRCam4Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a IR Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipIRCam4Controller,
                                                                                      'IR_Image4',
                                                                                      /** image name */
                                                                                      'IR',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipIR4Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIR5Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter IR",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter IR ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture IR 5",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipIRCam5Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a IR Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipIRCam5Controller,
                                                                                      'IR_Image5',
                                                                                      /** image name */
                                                                                      'IR',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipIR1Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Acceptance Crieteria",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipAccep2Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                ">40Mâ¦.m2",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Container(
                                                                          margin:
                                                                              EdgeInsets.symmetric(vertical: 10.0),
                                                                          child:
                                                                              Divider(
                                                                            color:
                                                                                Colors.black,
                                                                            height:
                                                                                2.0,
                                                                            thickness:
                                                                                2.0,
                                                                          ),
                                                                        ),
/****Ground Continuity */
                                                                        Text(
                                                                          "Frequency",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipFreq3Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "5 pieces per shift",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Text(
                                                                          "Ground Continuity",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGC1Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter Ground Continuity",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter Ground Continuity ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture Ground Continuity 1",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGCCam1Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a Ground Continuity Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipGCCam1Controller,
                                                                                      'Ground_Continuity_Image1',
                                                                                      /** image name */
                                                                                      'Ground_Continuity',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipGCCam1Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGC2Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter Ground Continuity",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter Ground Continuity ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture Ground Continuity 2",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGCCam2Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a Ground Continuity Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipGCCam2Controller,
                                                                                      'Ground_Continuity_Image2',
                                                                                      /** image name */
                                                                                      'Ground_Continuity',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipGCCam2Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGC3Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter Ground Continuity",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter Ground Continuity ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture Ground Continuity 3",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGCCam3Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a Ground Continuity Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipGCCam3Controller,
                                                                                      'Ground_Continuity_Image3',
                                                                                      /** image name */
                                                                                      'Ground_Continuity',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipGCCam3Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGC4Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter Ground Continuity",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter Ground Continuity ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture Ground Continuity 4",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGCCam4Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a Ground Continuity Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipGCCam4Controller,
                                                                                      'Ground_Continuity_Image4',
                                                                                      /** image name */
                                                                                      'Ground_Continuity',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipGCCam4Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGC5Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter Ground Continuity",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter Ground Continuity ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Picture Ground Continuity 5",
                                                                          style: TextStyle(
                                                                              fontSize: 16,
                                                                              fontWeight: FontWeight.bold),
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipGCCam5Controller,
                                                                          decoration:
                                                                              InputDecoration(
                                                                            hintText:
                                                                                "Please Capture a Ground Continuity Picture",
                                                                            counterText:
                                                                                '',
                                                                            contentPadding:
                                                                                const EdgeInsets.all(10),
                                                                            suffixIcon:
                                                                                IconButton(
                                                                              onPressed: () async {
                                                                                if (status != 'Pending') {
                                                                                  await _openCamera(
                                                                                      hipGCCam5Controller,
                                                                                      'Ground_Continuity_Image5',
                                                                                      /** image name */
                                                                                      'Ground_Continuity',
                                                                                      /*** Type  */
                                                                                      'Hipot Test' /** Stage */
                                                                                      );
                                                                                }
                                                                              },
                                                                              icon: const Icon(Icons.camera_alt),
                                                                            ),
                                                                            border:
                                                                                const OutlineInputBorder(),
                                                                          ),
                                                                          readOnly:
                                                                              true,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Click Picture ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                          enabled: !(widget.id != null &&
                                                                              widget.id != '' &&
                                                                              hipGCCam5Controller.text.isNotEmpty),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Acceptance Crieteria",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipAccep3Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "(0-100) mâ¦",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Container(
                                                                          margin:
                                                                              EdgeInsets.symmetric(vertical: 10.0),
                                                                          child:
                                                                              Divider(
                                                                            color:
                                                                                Colors.black,
                                                                            height:
                                                                                2.0,
                                                                            thickness:
                                                                                2.0,
                                                                          ),
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              20,
                                                                        ),
                                                                        Text(
                                                                          "Frequency",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipFreq4Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Once per shift",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Text(
                                                                          "Verification of Process Parameter",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipVPController,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Please Enter Verification of Process Parameter",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          validator:
                                                                              MultiValidator(
                                                                            [
                                                                              RequiredValidator(
                                                                                errorText: "Please Enter Verification of Process Parameter ",
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        Text(
                                                                          "Acceptance Crieteria",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipAccep4Controller,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "As per GSPL/QA/S/12",
                                                                            counterText:
                                                                                '',
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly:
                                                                              true,
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Container(
                                                                          margin:
                                                                              EdgeInsets.symmetric(vertical: 10.0),
                                                                          child:
                                                                              Divider(
                                                                            color:
                                                                                Colors.black,
                                                                            height:
                                                                                2.0,
                                                                            thickness:
                                                                                2.0,
                                                                          ),
                                                                        ),
                                                                        Text(
                                                                          "Remark",
                                                                          style:
                                                                              AppStyles.textfieldCaptionTextStyle,
                                                                        ),
                                                                        SizedBox(
                                                                          height:
                                                                              5,
                                                                        ),
                                                                        TextFormField(
                                                                          controller:
                                                                              hipRemarkController,
                                                                          keyboardType:
                                                                              TextInputType.text,
                                                                          textInputAction:
                                                                              TextInputAction.next,
                                                                          decoration: AppStyles
                                                                              .textFieldInputDecoration
                                                                              .copyWith(
                                                                            hintText:
                                                                                "Remark ",
                                                                            counterText:
                                                                                '',
                                                                            fillColor: Color.fromARGB(
                                                                                255,
                                                                                215,
                                                                                243,
                                                                                207),
                                                                          ),
                                                                          style:
                                                                              AppStyles.textInputTextStyle,
                                                                          readOnly: status == 'Pending' && designation != "QC"
                                                                              ? true
                                                                              : false,
                                                                          // validator:
                                                                          //     MultiValidator(
                                                                          //   [
                                                                          //     RequiredValidator(
                                                                          //       errorText: "Please Enter  Remark",
                                                                          //     ),
                                                                          //   ],
                                                                          // ),
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              15,
                                                                        ),
                                                                        Padding(
                                                                            padding: EdgeInsets.fromLTRB(
                                                                                0,
                                                                                10,
                                                                                0,
                                                                                0)),
                                                                        _isLoading
                                                                            ? Center(child: CircularProgressIndicator())
                                                                            : AppButton(
                                                                                textStyle: const TextStyle(
                                                                                  fontWeight: FontWeight.w700,
                                                                                  color: AppColors.white,
                                                                                  fontSize: 16,
                                                                                ),
                                                                                onTap: () {
                                                                                  AppHelper.hideKeyboard(context);
                                                                                  // if (status != 'Pending') {
                                                                                  //   setState(() {
                                                                                  //     sendStatus = 'Inprogress';
                                                                                  //   });
                                                                                  //   // createData();
                                                                                  // }

                                                                                  _postLamFormKey.currentState!.save;
                                                                                  if (_postLamFormKey.currentState!.validate()) {
                                                                                    if (status != 'Pending') {
                                                                                      setState(() {
                                                                                        sendStatus = 'Inprogress';
                                                                                        // setPage = 'finalel';
                                                                                      });
                                                                                      createData();
                                                                                    }
                                                                                    // createData();
                                                                                    setState(() {
                                                                                      setPage = 'finalel';
                                                                                    });
                                                                                  }
                                                                                },
                                                                                label: "Next",
                                                                                organization: '',
                                                                              ),
                                                                        const SizedBox(
                                                                          height:
                                                                              18,
                                                                        ),
                                                                        Center(
                                                                          child:
                                                                              Padding(
                                                                            padding:
                                                                                const EdgeInsets.all(8.0),
                                                                            child:
                                                                                InkWell(
                                                                              onTap: () {
                                                                                setState(() {
                                                                                  setPage = "sunsimulator";
                                                                                });
                                                                              },
                                                                              child: const Text(
                                                                                "BACK",
                                                                                style: TextStyle(fontFamily: appFontFamily, fontSize: 16, fontWeight: FontWeight.w500, color: AppColors.redColor),
                                                                              ),
                                                                            ),
                                                                          ),
                                                                        ),
                                                                        const SizedBox(
                                                                          height:
                                                                              25,
                                                                        ),
                                                                        Container(
                                                                          alignment:
                                                                              Alignment.center,
                                                                          child:
                                                                              const Column(
                                                                            mainAxisAlignment:
                                                                                MainAxisAlignment.center,
                                                                            crossAxisAlignment:
                                                                                CrossAxisAlignment.center,
                                                                            children: [
                                                                              Text(
                                                                                "Powered By Gautam Solar Pvt. Ltd.",
                                                                                style: TextStyle(
                                                                                  fontSize: 14,
                                                                                  fontFamily: appFontFamily,
                                                                                  color: AppColors.greyColor,
                                                                                  fontWeight: FontWeight.w400,
                                                                                ),
                                                                              ),
                                                                              SizedBox(
                                                                                height: 10,
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                ),
                                                              ],
                                                            )
                                                          /**************Final EL Test ************* */

                                                          : setPage == "finalel"
                                                              ? Stack(
                                                                  alignment:
                                                                      Alignment
                                                                          .center,
                                                                  fit: StackFit
                                                                      .expand,
                                                                  children: [
                                                                    SingleChildScrollView(
                                                                      child:
                                                                          Form(
                                                                        key:
                                                                            _postLamFormKey,
                                                                        autovalidateMode:
                                                                            AutovalidateMode.onUserInteraction,
                                                                        child:
                                                                            Column(
                                                                          mainAxisAlignment:
                                                                              MainAxisAlignment.center,
                                                                          crossAxisAlignment:
                                                                              CrossAxisAlignment.start,
                                                                          children: <Widget>[
                                                                            Container(
                                                                              alignment: Alignment.center,
                                                                              child: Column(
                                                                                mainAxisAlignment: MainAxisAlignment.center,
                                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                                children: [
                                                                                  Image.asset(
                                                                                    AppAssets.imgLogo,
                                                                                    height: 100,
                                                                                    width: 230,
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            const Center(child: Padding(padding: EdgeInsets.only(top: 10), child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                            const Center(child: Text("(Post Lam IPQC Checklist)", style: TextStyle(fontSize: 20, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                            const SizedBox(
                                                                              height: 35,
                                                                            ),
                                                                            Row(
                                                                              children: [
                                                                                Text(
                                                                                  'Document No : ',
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                const SizedBox(
                                                                                  width: 8,
                                                                                ),
                                                                                Text(
                                                                                  'GSPL/IPQC/IPC/003',
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                              ],
                                                                            ),
                                                                            SizedBox(
                                                                              height: 8,
                                                                            ),
                                                                            Row(
                                                                              children: [
                                                                                Text(
                                                                                  'Rev.No. / Rev. Date : ',
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                const SizedBox(
                                                                                  width: 8,
                                                                                ),
                                                                                Text(
                                                                                  'Ver.2.0 / 20-03-2024',
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                              ],
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            const Center(child: Text("Post EL Test", style: TextStyle(fontSize: 20, color: Color.fromARGB(255, 13, 160, 0), fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                            const SizedBox(
                                                                              height: 20,
                                                                            ),
                                                                            // Final EL Availability of WI
                                                                            Text(
                                                                              "Frequency",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postFreq1Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Once a Shift",
                                                                                counterText: '',
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: true,
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Text(
                                                                              "Voltage & Current Verification in DC power supply",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVPController,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter Voltage & Current Verification in DC power supply",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter Voltage & Current Verification in DC power supply",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Text(
                                                                              "Acceptance Crieteria",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postAccep1Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "As per Voc & Isc",
                                                                                counterText: '',
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: true,
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Container(
                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                              child: Divider(
                                                                                color: Colors.black,
                                                                                height: 2.0,
                                                                                thickness: 2.0,
                                                                              ),
                                                                            ),
                                                                            //Voltage & Current Verification in DC Power Supply
                                                                            Text(
                                                                              "Frequency",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postFreq2Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "5 pieces per Shift",
                                                                                counterText: '',
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: true,
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Text(
                                                                              "EL Inspection",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postEL1Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter EL Inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter EL Inspection",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture EL Inspection 1",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postELCam1Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a EL Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postELCam1Controller,
                                                                                          'Post_EL_Test_Image1',
                                                                                          /** image name */
                                                                                          'EL Inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postELCam1Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postEL2Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter EL Inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter EL Inspection",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture EL Inspection 2",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postELCam2Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a EL Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postELCam2Controller,
                                                                                          'Post_EL_Test_Image2',
                                                                                          /** image name */
                                                                                          'EL Inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postELCam2Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postEL3Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter EL Inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter EL Inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture EL Inspection 3",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postELCam3Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a EL Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postELCam3Controller,
                                                                                          'Post_EL_Test_Image3',
                                                                                          /** image name */
                                                                                          'EL Inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postELCam3Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postEL4Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter EL Inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter EL Inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture EL Inspection 4",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postELCam4Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a EL Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postELCam4Controller,
                                                                                          'Post_EL_Test_Image4',
                                                                                          /** image name */
                                                                                          'EL Inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postELCam4Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postEL5Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter EL Inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter EL Inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture EL Inspection 5",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postELCam5Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a EL Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postELCam5Controller,
                                                                                          'Post_EL_Test_Image5',
                                                                                          /** image name */
                                                                                          'EL Inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postELCam5Controller.text.isNotEmpty),
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Text(
                                                                              "Acceptance Crieteria",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postAccep2Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "EL image should fullfil the EL Acceptance Criteria GSPL/PEL/001",
                                                                                counterText: '',
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: true,
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Container(
                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                              child: Divider(
                                                                                color: Colors.black,
                                                                                height: 2.0,
                                                                                thickness: 2.0,
                                                                              ),
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Text(
                                                                              "Frequency",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postFreq3Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "5 pieces per Shift",
                                                                                counterText: '',
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: true,
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Text(
                                                                              "Visual inspection",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVI1Controller, //daaaasasakkkkkkkkkkkkkkkkkkkkkkkkkkkk
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter Visual inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter Visual inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture Visual inspection 1",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVICam1Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a Visual Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postVICam1Controller,
                                                                                          'Post_EL_Test_Image6',
                                                                                          /** image name */
                                                                                          'Visual_inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postVICam1Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVI2Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter Visual inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter Visual inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture Visual inspection 2",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVICam2Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a Visual Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postVICam2Controller,
                                                                                          'Post_EL_Test_Image7',
                                                                                          /** image name */
                                                                                          'Visual_inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postVICam2Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVI3Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter Visual inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter Visual inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture Visual inspection 3",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVICam3Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a Visual Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postVICam3Controller,
                                                                                          'Post_EL_Test_Image8',
                                                                                          /** image name */
                                                                                          'Visual_inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postVICam3Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVI4Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter Visual inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter Visual inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture Visual inspection 4",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVICam4Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a Visual Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postVICam4Controller,
                                                                                          'Post_EL_Test_Image9',
                                                                                          /** image name */
                                                                                          'Visual_inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postVICam4Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVI5Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Please Enter Visual inspection",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Enter Visual inspection ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Picture Visual inspection 5",
                                                                              style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postVICam5Controller,
                                                                              decoration: InputDecoration(
                                                                                hintText: "Please Capture a Visual Inspection Picture",
                                                                                counterText: '',
                                                                                contentPadding: const EdgeInsets.all(10),
                                                                                suffixIcon: IconButton(
                                                                                  onPressed: () async {
                                                                                    if (status != 'Pending') {
                                                                                      await _openCamera(
                                                                                          postVICam5Controller,
                                                                                          'Post_EL_Test_Image10',
                                                                                          /** image name */
                                                                                          'Visual_inspection',
                                                                                          /*** Type  */
                                                                                          'Post EL Test' /** Stage */
                                                                                          );
                                                                                    }
                                                                                  },
                                                                                  icon: const Icon(Icons.camera_alt),
                                                                                ),
                                                                                border: const OutlineInputBorder(),
                                                                              ),
                                                                              readOnly: true,
                                                                              validator: MultiValidator(
                                                                                [
                                                                                  RequiredValidator(
                                                                                    errorText: "Please Click Picture ",
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              enabled: !(widget.id != null && widget.id != '' && postVICam5Controller.text.isNotEmpty),
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            Text(
                                                                              "Acceptance Crieteria",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postAccep3Controller,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Visual image should  fullfil the visual acceptance criteria as per GSPL/PELV/002",
                                                                                counterText: '',
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: true,
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),
                                                                            Container(
                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                              child: Divider(
                                                                                color: Colors.black,
                                                                                height: 2.0,
                                                                                thickness: 2.0,
                                                                              ),
                                                                            ),
                                                                            Text(
                                                                              "Remark",
                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                            ),
                                                                            SizedBox(
                                                                              height: 5,
                                                                            ),
                                                                            TextFormField(
                                                                              controller: postRemarkController,
                                                                              keyboardType: TextInputType.text,
                                                                              textInputAction: TextInputAction.next,
                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                hintText: "Remark ",
                                                                                counterText: '',
                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                              ),
                                                                              style: AppStyles.textInputTextStyle,
                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                              // validator: MultiValidator(
                                                                              //   [
                                                                              //     RequiredValidator(
                                                                              //       errorText: "Please Enter  Remark",
                                                                              //     ),
                                                                              //   ],
                                                                              // ),
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 15,
                                                                            ),

                                                                            Padding(padding: EdgeInsets.fromLTRB(0, 10, 0, 0)),
                                                                            _isLoading
                                                                                ? Center(child: CircularProgressIndicator())
                                                                                : AppButton(
                                                                                    textStyle: const TextStyle(
                                                                                      fontWeight: FontWeight.w700,
                                                                                      color: AppColors.white,
                                                                                      fontSize: 16,
                                                                                    ),
                                                                                    onTap: () {
                                                                                      AppHelper.hideKeyboard(context);
                                                                                      // if (status != 'Pending') {
                                                                                      //   setState(() {
                                                                                      //     sendStatus = 'Inprogress';
                                                                                      //   });
                                                                                      //   // createData();
                                                                                      // }

                                                                                      _postLamFormKey.currentState!.save;
                                                                                      if (_postLamFormKey.currentState!.validate()) {
                                                                                        if (status != 'Pending') {
                                                                                          setState(() {
                                                                                            sendStatus = 'Inprogress';
                                                                                            // setPage = 'rfid';
                                                                                          });
                                                                                          createData();
                                                                                        }
                                                                                        // createData();
                                                                                        setState(() {
                                                                                          setPage = 'rfid';
                                                                                        });
                                                                                      }
                                                                                    },
                                                                                    label: "Next",
                                                                                    organization: '',
                                                                                  ),

                                                                            const SizedBox(
                                                                              height: 18,
                                                                            ),
                                                                            Center(
                                                                              child: Padding(
                                                                                padding: const EdgeInsets.all(8.0),
                                                                                child: InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      setPage = "hipot";
                                                                                    });
                                                                                  },
                                                                                  child: const Text(
                                                                                    "BACK",
                                                                                    style: TextStyle(fontFamily: appFontFamily, fontSize: 16, fontWeight: FontWeight.w500, color: AppColors.redColor),
                                                                                  ),
                                                                                ),
                                                                              ),
                                                                            ),
                                                                            const SizedBox(
                                                                              height: 25,
                                                                            ),
                                                                            Container(
                                                                              alignment: Alignment.center,
                                                                              child: const Column(
                                                                                mainAxisAlignment: MainAxisAlignment.center,
                                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                                children: [
                                                                                  Text(
                                                                                    "Powered By Gautam Solar Pvt. Ltd.",
                                                                                    style: TextStyle(
                                                                                      fontSize: 14,
                                                                                      fontFamily: appFontFamily,
                                                                                      color: AppColors.greyColor,
                                                                                      fontWeight: FontWeight.w400,
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 10,
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                          ],
                                                                        ),
                                                                      ),
                                                                    ),
                                                                  ],
                                                                )
                                                              /********************RFID Reading & Writing**************** */
                                                              : setPage ==
                                                                      "rfid"
                                                                  ? Stack(
                                                                      alignment:
                                                                          Alignment
                                                                              .center,
                                                                      fit: StackFit
                                                                          .expand,
                                                                      children: [
                                                                        SingleChildScrollView(
                                                                          child:
                                                                              Form(
                                                                            key:
                                                                                _postLamFormKey,
                                                                            autovalidateMode:
                                                                                AutovalidateMode.onUserInteraction,
                                                                            child:
                                                                                Column(
                                                                              mainAxisAlignment: MainAxisAlignment.center,
                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                              children: <Widget>[
                                                                                Container(
                                                                                  alignment: Alignment.center,
                                                                                  child: Column(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                                    children: [
                                                                                      Image.asset(
                                                                                        AppAssets.imgLogo,
                                                                                        height: 100,
                                                                                        width: 230,
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                const Center(child: Padding(padding: EdgeInsets.only(top: 10), child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                                const Center(child: Text("(Post Lam IPQC Checklist)", style: TextStyle(fontSize: 20, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                const SizedBox(
                                                                                  height: 35,
                                                                                ),
                                                                                Row(
                                                                                  children: [
                                                                                    Text(
                                                                                      'Document No : ',
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      width: 8,
                                                                                    ),
                                                                                    Text(
                                                                                      'GSPL/IPQC/IPC/003',
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                  ],
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 8,
                                                                                ),
                                                                                Row(
                                                                                  children: [
                                                                                    Text(
                                                                                      'Rev.No. / Rev. Date : ',
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      width: 8,
                                                                                    ),
                                                                                    Text(
                                                                                      'Ver.2.0 / 20-03-2024',
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                  ],
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),
                                                                                const Center(child: Text("RFID ", style: TextStyle(fontSize: 20, color: Color.fromARGB(255, 13, 160, 0), fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                const SizedBox(
                                                                                  height: 20,
                                                                                ),
                                                                                // RFID Availability of WI
                                                                                Text(
                                                                                  "Frequency",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 5,
                                                                                ),
                                                                                TextFormField(
                                                                                  controller: rfidFreq1Controller,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "Once a Shift",
                                                                                    counterText: '',
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: true,
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),
                                                                                Text(
                                                                                  "RFID Position",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 5,
                                                                                ),
                                                                                TextFormField(
                                                                                  controller: rfidPosController,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "Please Enter RFID Position",
                                                                                    counterText: '',
                                                                                    fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                  validator: MultiValidator(
                                                                                    [
                                                                                      RequiredValidator(
                                                                                        errorText: "Please Enter RFID Position ",
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),
                                                                                Text(
                                                                                  " Acceptance Crieteria",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 5,
                                                                                ),
                                                                                TextFormField(
                                                                                  controller: rfidAccep1Controller,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "As per Process card",
                                                                                    counterText: '',
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: true,
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),
                                                                                Container(
                                                                                  margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                  child: Divider(
                                                                                    color: Colors.black,
                                                                                    height: 2.0,
                                                                                    thickness: 2.0,
                                                                                  ),
                                                                                ),
                                                                                //Fixing position
                                                                                Text(
                                                                                  "Frequency",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 5,
                                                                                ),
                                                                                TextFormField(
                                                                                  controller: rfidFreq2Controller,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "Once Per Shift",
                                                                                    counterText: '',
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: true,
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),
                                                                                Text(
                                                                                  "Cell & Module Make & Manufacturing Month Verification",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 5,
                                                                                ),

                                                                                TextFormField(
                                                                                  controller: rfidCellMController,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "Please Enter Cell & Module Make & Manufacturing Month Verification  ",
                                                                                    counterText: '',
                                                                                    fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                  validator: MultiValidator(
                                                                                    [
                                                                                      RequiredValidator(
                                                                                        errorText: "Please Enter Cell & Module Make & Manufacturing Month Verification ",
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),

                                                                                Text(
                                                                                  "Acceptance Criteria",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 15,
                                                                                ),
                                                                                TextFormField(
                                                                                  controller: rfidAccep2Controller,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "As per BOM and Process card",
                                                                                    counterText: '',
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: true,
                                                                                ),

                                                                                const SizedBox(
                                                                                  height: 5,
                                                                                ),
                                                                                Text(
                                                                                  "Remark",
                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                ),
                                                                                SizedBox(
                                                                                  height: 5,
                                                                                ),
                                                                                TextFormField(
                                                                                  controller: rfidRemarkController,
                                                                                  keyboardType: TextInputType.text,
                                                                                  textInputAction: TextInputAction.next,
                                                                                  decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                    hintText: "Remark ",
                                                                                    counterText: '',
                                                                                    fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                  ),
                                                                                  style: AppStyles.textInputTextStyle,
                                                                                  readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                  // validator: MultiValidator(
                                                                                  //   [
                                                                                  //     RequiredValidator(
                                                                                  //       errorText: "Please Enter  Remark",
                                                                                  //     ),
                                                                                  //   ],
                                                                                  // ),
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 15,
                                                                                ),

                                                                                Padding(padding: EdgeInsets.fromLTRB(0, 10, 0, 0)),
                                                                                _isLoading
                                                                                    ? Center(child: CircularProgressIndicator())
                                                                                    : AppButton(
                                                                                        textStyle: const TextStyle(
                                                                                          fontWeight: FontWeight.w700,
                                                                                          color: AppColors.white,
                                                                                          fontSize: 16,
                                                                                        ),
                                                                                        onTap: () {
                                                                                          AppHelper.hideKeyboard(context);
                                                                                          // if (status != 'Pending') {
                                                                                          //   setState(() {
                                                                                          //     sendStatus = 'Inprogress';
                                                                                          //   });
                                                                                          //   // createData();
                                                                                          // }

                                                                                          _postLamFormKey.currentState!.save;
                                                                                          if (_postLamFormKey.currentState!.validate()) {
                                                                                            if (status != 'Pending') {
                                                                                              setState(() {
                                                                                                sendStatus = 'Inprogress';
                                                                                                // setPage = 'finalVisual';
                                                                                              });
                                                                                              createData();
                                                                                            }
                                                                                            // createData();
                                                                                            setState(() {
                                                                                              setPage = 'finalVisual';
                                                                                            });
                                                                                          }
                                                                                        },
                                                                                        label: "Next",
                                                                                        organization: '',
                                                                                      ),

                                                                                const SizedBox(
                                                                                  height: 18,
                                                                                ),
                                                                                Center(
                                                                                  child: Padding(
                                                                                    padding: const EdgeInsets.all(8.0),
                                                                                    child: InkWell(
                                                                                      onTap: () {
                                                                                        setState(() {
                                                                                          setPage = "finalel";
                                                                                        });
                                                                                      },
                                                                                      child: const Text(
                                                                                        "BACK",
                                                                                        style: TextStyle(fontFamily: appFontFamily, fontSize: 16, fontWeight: FontWeight.w500, color: AppColors.redColor),
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                ),
                                                                                const SizedBox(
                                                                                  height: 25,
                                                                                ),
                                                                                Container(
                                                                                  alignment: Alignment.center,
                                                                                  child: const Column(
                                                                                    mainAxisAlignment: MainAxisAlignment.center,
                                                                                    crossAxisAlignment: CrossAxisAlignment.center,
                                                                                    children: [
                                                                                      Text(
                                                                                        "Powered By Gautam Solar Pvt. Ltd.",
                                                                                        style: TextStyle(
                                                                                          fontSize: 14,
                                                                                          fontFamily: appFontFamily,
                                                                                          color: AppColors.greyColor,
                                                                                          fontWeight: FontWeight.w400,
                                                                                        ),
                                                                                      ),
                                                                                      SizedBox(
                                                                                        height: 10,
                                                                                      ),
                                                                                    ],
                                                                                  ),
                                                                                ),
                                                                              ],
                                                                            ),
                                                                          ),
                                                                        ),
                                                                      ],
                                                                    )
                                                                  /****************Back Label****************** */
                                                                  : setPage ==
                                                                          "finalVisual"
                                                                      ? Stack(
                                                                          alignment:
                                                                              Alignment.center,
                                                                          fit: StackFit
                                                                              .expand,
                                                                          children: [
                                                                            SingleChildScrollView(
                                                                              child: Form(
                                                                                key: _postLamFormKey,
                                                                                autovalidateMode: AutovalidateMode.onUserInteraction,
                                                                                child: Column(
                                                                                  mainAxisAlignment: MainAxisAlignment.center,
                                                                                  crossAxisAlignment: CrossAxisAlignment.start,
                                                                                  children: <Widget>[
                                                                                    Container(
                                                                                      alignment: Alignment.center,
                                                                                      child: Column(
                                                                                        mainAxisAlignment: MainAxisAlignment.center,
                                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                                        children: [
                                                                                          Image.asset(
                                                                                            AppAssets.imgLogo,
                                                                                            height: 100,
                                                                                            width: 230,
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    const Center(child: Padding(padding: EdgeInsets.only(top: 10), child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                                    const Center(child: Text("(Post Lam IPQC Checklist)", style: TextStyle(fontSize: 20, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                    const SizedBox(
                                                                                      height: 35,
                                                                                    ),
                                                                                    Row(
                                                                                      children: [
                                                                                        Text(
                                                                                          'Document No : ',
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          width: 8,
                                                                                        ),
                                                                                        Text(
                                                                                          'GSPL/IPQC/IPC/003',
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                      ],
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 8,
                                                                                    ),
                                                                                    Row(
                                                                                      children: [
                                                                                        Text(
                                                                                          'Rev.No. / Rev. Date : ',
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          width: 8,
                                                                                        ),
                                                                                        Text(
                                                                                          'Ver.2.0 / 20-03-2024',
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                      ],
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 15,
                                                                                    ),
                                                                                    const Center(child: Text("Final Visual", style: TextStyle(fontSize: 20, color: Color.fromARGB(255, 13, 160, 0), fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                    const SizedBox(
                                                                                      height: 20,
                                                                                    ),
                                                                                    // Back Label Data Verification
                                                                                    Text(
                                                                                      "Frequency",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalFreq1Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "5 Piece Per Shift",
                                                                                        counterText: '',
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: true,
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 15,
                                                                                    ),
                                                                                    Text(
                                                                                      "Visual Inspection",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVI1Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Visual inspection",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Visual inspection ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Visual Inspection 1",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVICam1Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture a Visual Inspection Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalVICam1Controller,
                                                                                                  'Final_Visual_Inspection_Image1',
                                                                                                  /** image name */
                                                                                                  'Visual_Inspection',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalVICam1Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVI2Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Visual inspection",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Visual inspection ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Visual Inspection 2",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVICam2Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture a Visual Inspection Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalVICam2Controller,
                                                                                                  'Final_Visual_Inspection_Image2',
                                                                                                  /** image name */
                                                                                                  'Visual_Inspection',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalVICam2Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),

                                                                                    TextFormField(
                                                                                      controller: finalVI3Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Visual inspection",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Visual inspection ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Visual Inspection 3",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVICam3Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture a Visual Inspection Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalVICam3Controller,
                                                                                                  'Final_Visual_Inspection_Image3',
                                                                                                  /** image name */
                                                                                                  'Visual_Inspection',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalVICam3Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVI4Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Visual inspection",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Visual inspection ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Visual Inspection 4",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVICam4Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture a Visual Inspection Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalVICam4Controller,
                                                                                                  'Final_Visual_Inspection_Image4',
                                                                                                  /** image name */
                                                                                                  'Visual_Inspection',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalVICam4Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVI5Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Visual inspection",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Visual inspection ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Visual Inspection 5",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalVICam5Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture a Visual Inspection Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalVICam5Controller,
                                                                                                  'Final_Visual_Inspection_Image5',
                                                                                                  /** image name */
                                                                                                  'Visual_Inspection',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalVICam5Controller.text.isNotEmpty),
                                                                                    ),

                                                                                    Text(
                                                                                      "Acceptance Criteria",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 15,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalAccep1Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "As per visual inspection criteria GSPL/PLV/001",
                                                                                        counterText: '',
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: true,
                                                                                    ),

                                                                                    Container(
                                                                                      margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                      child: Divider(
                                                                                        color: Colors.black,
                                                                                        height: 2.0,
                                                                                        thickness: 2.0,
                                                                                      ),
                                                                                    ),

                                                                                    /*******kkkkkkkkkkkkkkkkkkkkkkkkkkk */
                                                                                    Text(
                                                                                      "Frequency",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalFreq2Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "5 Piece Per Shift",
                                                                                        counterText: '',
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: true,
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 15,
                                                                                    ),
                                                                                    Text(
                                                                                      "Backlabel",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBack1Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Backlabel ",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Backlabel ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Backlabel 1",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBackCam1Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture  Backlabel Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalBackCam1Controller,
                                                                                                  'Final_Visual_Inspection_Image6',
                                                                                                  /** image name */
                                                                                                  'Backlabel',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalBackCam1Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBack2Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Backlabel ",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Backlabel ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Backlabel 2",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBackCam2Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture  Backlabel Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalBackCam2Controller,
                                                                                                  'Final_Visual_Inspection_Image7',
                                                                                                  /** image name */
                                                                                                  'Backlabel',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalBackCam2Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBack3Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Backlabel ",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Backlabel ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Backlabel 3",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBackCam3Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture  Backlabel Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalBackCam3Controller,
                                                                                                  'Final_Visual_Inspection_Image8',
                                                                                                  /** image name */
                                                                                                  'Backlabel',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalBackCam3Controller.text.isNotEmpty),
                                                                                    ),

                                                                                    const SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBack4Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Backlabel ",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Backlabel ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Backlabel 4",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBackCam4Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture  Backlabel Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalBackCam4Controller,
                                                                                                  'Final_Visual_Inspection_Image9',
                                                                                                  /** image name */
                                                                                                  'Backlabel',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalBackCam4Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBack5Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Please Enter Backlabel ",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Enter Backlabel ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Picture Backlabel 5",
                                                                                      style: TextStyle(fontSize: 16, fontWeight: FontWeight.bold),
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalBackCam5Controller,
                                                                                      decoration: InputDecoration(
                                                                                        hintText: "Please Capture  Backlabel Picture",
                                                                                        counterText: '',
                                                                                        contentPadding: const EdgeInsets.all(10),
                                                                                        suffixIcon: IconButton(
                                                                                          onPressed: () async {
                                                                                            if (status != 'Pending') {
                                                                                              await _openCamera(
                                                                                                  finalBackCam5Controller,
                                                                                                  'Final_Visual_Inspection_Image10',
                                                                                                  /** image name */
                                                                                                  'Backlabel',
                                                                                                  /*** Type  */
                                                                                                  'Final Visual Inspection' /** Stage */
                                                                                                  );
                                                                                            }
                                                                                          },
                                                                                          icon: const Icon(Icons.camera_alt),
                                                                                        ),
                                                                                        border: const OutlineInputBorder(),
                                                                                      ),
                                                                                      readOnly: true,
                                                                                      validator: MultiValidator(
                                                                                        [
                                                                                          RequiredValidator(
                                                                                            errorText: "Please Click Picture ",
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                      enabled: !(widget.id != null && widget.id != '' && finalBackCam5Controller.text.isNotEmpty),
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Acceptance Criteria",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 15,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalAccep2Controller,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Air bubble,Tilt,Misprint,folded label not acceptable",
                                                                                        counterText: '',
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: true,
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    Text(
                                                                                      "Remark",
                                                                                      style: AppStyles.textfieldCaptionTextStyle,
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 5,
                                                                                    ),
                                                                                    TextFormField(
                                                                                      controller: finalRemarkController,
                                                                                      keyboardType: TextInputType.text,
                                                                                      textInputAction: TextInputAction.next,
                                                                                      decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                        hintText: "Remark ",
                                                                                        counterText: '',
                                                                                        fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                      ),
                                                                                      style: AppStyles.textInputTextStyle,
                                                                                      readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                      // validator: MultiValidator(
                                                                                      //   [
                                                                                      //     RequiredValidator(
                                                                                      //       errorText: "Please Enter  Remark",
                                                                                      //     ),
                                                                                      //   ],
                                                                                      // ),
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 15,
                                                                                    ),

                                                                                    Padding(padding: EdgeInsets.fromLTRB(0, 10, 0, 0)),
                                                                                    _isLoading
                                                                                        ? Center(child: CircularProgressIndicator())
                                                                                        : AppButton(
                                                                                            textStyle: const TextStyle(
                                                                                              fontWeight: FontWeight.w700,
                                                                                              color: AppColors.white,
                                                                                              fontSize: 16,
                                                                                            ),
                                                                                            onTap: () {
                                                                                              AppHelper.hideKeyboard(context);
                                                                                              // if (status != 'Pending') {
                                                                                              //   setState(() {
                                                                                              //     sendStatus = 'Inprogress';
                                                                                              //   });
                                                                                              //   // createData();
                                                                                              // }
                                                                                              _postLamFormKey.currentState!.save;
                                                                                              if (_postLamFormKey.currentState!.validate()) {
                                                                                                if (status != 'Pending') {
                                                                                                  setState(() {
                                                                                                    sendStatus = 'Inprogress';
                                                                                                    // setPage = 'finalvisual';
                                                                                                  });
                                                                                                  createData();
                                                                                                }
                                                                                                // createData();
                                                                                                setState(() {
                                                                                                  setPage = 'finalvisual';
                                                                                                });
                                                                                              }
                                                                                            },
                                                                                            label: "Next",
                                                                                            organization: '',
                                                                                          ),

                                                                                    const SizedBox(
                                                                                      height: 18,
                                                                                    ),
                                                                                    Center(
                                                                                      child: Padding(
                                                                                        padding: const EdgeInsets.all(8.0),
                                                                                        child: InkWell(
                                                                                          onTap: () {
                                                                                            setState(() {
                                                                                              setPage = "rfid";
                                                                                            });
                                                                                          },
                                                                                          child: const Text(
                                                                                            "BACK",
                                                                                            style: TextStyle(fontFamily: appFontFamily, fontSize: 16, fontWeight: FontWeight.w500, color: AppColors.redColor),
                                                                                          ),
                                                                                        ),
                                                                                      ),
                                                                                    ),
                                                                                    const SizedBox(
                                                                                      height: 25,
                                                                                    ),
                                                                                    Container(
                                                                                      alignment: Alignment.center,
                                                                                      child: const Column(
                                                                                        mainAxisAlignment: MainAxisAlignment.center,
                                                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                                                        children: [
                                                                                          Text(
                                                                                            "Powered By Gautam Solar Pvt. Ltd.",
                                                                                            style: TextStyle(
                                                                                              fontSize: 14,
                                                                                              fontFamily: appFontFamily,
                                                                                              color: AppColors.greyColor,
                                                                                              fontWeight: FontWeight.w400,
                                                                                            ),
                                                                                          ),
                                                                                          SizedBox(
                                                                                            height: 10,
                                                                                          ),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            ),
                                                                          ],
                                                                        )
                                                                      /*******************************Final Visual Inspection */
                                                                      : setPage ==
                                                                              "finalvisual"
                                                                          ? Stack(
                                                                              alignment: Alignment.center,
                                                                              fit: StackFit.expand,
                                                                              children: [
                                                                                SingleChildScrollView(
                                                                                  child: Form(
                                                                                    key: _postLamFormKey,
                                                                                    autovalidateMode: AutovalidateMode.onUserInteraction,
                                                                                    child: Column(
                                                                                      mainAxisAlignment: MainAxisAlignment.center,
                                                                                      crossAxisAlignment: CrossAxisAlignment.start,
                                                                                      children: <Widget>[
                                                                                        Container(
                                                                                          alignment: Alignment.center,
                                                                                          child: Column(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            crossAxisAlignment: CrossAxisAlignment.center,
                                                                                            children: [
                                                                                              Image.asset(
                                                                                                AppAssets.imgLogo,
                                                                                                height: 100,
                                                                                                width: 230,
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        const Center(child: Padding(padding: EdgeInsets.only(top: 10), child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                                        const Center(child: Text("(Post Lam IPQC Checklist)", style: TextStyle(fontSize: 20, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                        const SizedBox(
                                                                                          height: 35,
                                                                                        ),
                                                                                        Row(
                                                                                          children: [
                                                                                            Text(
                                                                                              'Document No : ',
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              width: 8,
                                                                                            ),
                                                                                            Text(
                                                                                              'GSPL/IPQC/IPC/003',
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 8,
                                                                                        ),
                                                                                        Row(
                                                                                          children: [
                                                                                            Text(
                                                                                              'Rev.No. / Rev. Date : ',
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              width: 8,
                                                                                            ),
                                                                                            Text(
                                                                                              'Ver.2.0 / 20-03-2024',
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        const Center(child: Text("Dimension measurement", style: TextStyle(fontSize: 20, color: Color.fromARGB(255, 13, 160, 0), fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                        const SizedBox(
                                                                                          height: 20,
                                                                                        ),
                                                                                        // Visual inspection
                                                                                        Text(
                                                                                          "Frequency",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimFreq1Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Once per Shift",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "L*W and Module Profile",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimLWController,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Please Enter L*W and Module Profile",
                                                                                            counterText: '',
                                                                                            fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                          validator: MultiValidator(
                                                                                            [
                                                                                              RequiredValidator(
                                                                                                errorText: "Please Enter L*W and Module Profile ",
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),

                                                                                        Text(
                                                                                          "Acceptance Criteria",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimAccep1Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "As per Module drawing (Â±1mm)",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),

                                                                                        const SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        Container(
                                                                                          margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                          child: Divider(
                                                                                            color: Colors.black,
                                                                                            height: 2.0,
                                                                                            thickness: 2.0,
                                                                                          ),
                                                                                        ),
                                                                                        Text(
                                                                                          "Frequency",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimFreq2Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Once per Shift",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Mounting Hole X & Y Pitch",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimMHController,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Please Enter Mounting Hole X & Y Pitch",
                                                                                            counterText: '',
                                                                                            fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                          validator: MultiValidator(
                                                                                            [
                                                                                              RequiredValidator(
                                                                                                errorText: "Please Enter  Mounting Hole X & Y Pitch ",
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Acceptance Criteria",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimAccep2Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "As per Module drawing (Â±1mm)",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        Container(
                                                                                          margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                          child: Divider(
                                                                                            color: Colors.black,
                                                                                            height: 2.0,
                                                                                            thickness: 2.0,
                                                                                          ),
                                                                                        ),
                                                                                        Text(
                                                                                          "Frequency",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimFreq3Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Once per Shift",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Diagonal Difference",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimDDController,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Please Enter Diagonal Difference",
                                                                                            counterText: '',
                                                                                            fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                          validator: MultiValidator(
                                                                                            [
                                                                                              RequiredValidator(
                                                                                                errorText: "Please Enter Diagonal Difference ",
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Acceptance Criteria",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimAccep3Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "â¤3mm",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        Container(
                                                                                          margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                          child: Divider(
                                                                                            color: Colors.black,
                                                                                            height: 2.0,
                                                                                            thickness: 2.0,
                                                                                          ),
                                                                                        ),
                                                                                        Text(
                                                                                          "Frequency",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimFreq4Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Once per Shift",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Corner Gap",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimCGController,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Please Enter Corner Gap",
                                                                                            counterText: '',
                                                                                            fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                          validator: MultiValidator(
                                                                                            [
                                                                                              RequiredValidator(
                                                                                                errorText: "Please Enter Corner Gap ",
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Acceptance Criteria",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimAccep4Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "As per visual Inspection criteria",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        Container(
                                                                                          margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                          child: Divider(
                                                                                            color: Colors.black,
                                                                                            height: 2.0,
                                                                                            thickness: 2.0,
                                                                                          ),
                                                                                        ),
                                                                                        Text(
                                                                                          "Frequency",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimFreq5Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Once per Shift",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "JB Cable length",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimJBController,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Please Enter JB Cable length",
                                                                                            counterText: '',
                                                                                            fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                          validator: MultiValidator(
                                                                                            [
                                                                                              RequiredValidator(
                                                                                                errorText: "Please Enter JB Cable length ",
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        Text(
                                                                                          "Acceptance Criteria",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 15,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimAccep5Controller,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "As per Process card",
                                                                                            counterText: '',
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: true,
                                                                                        ),
                                                                                        Container(
                                                                                          margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                          child: Divider(
                                                                                            color: Colors.black,
                                                                                            height: 2.0,
                                                                                            thickness: 2.0,
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        Text(
                                                                                          "Remark",
                                                                                          style: AppStyles.textfieldCaptionTextStyle,
                                                                                        ),
                                                                                        SizedBox(
                                                                                          height: 5,
                                                                                        ),
                                                                                        TextFormField(
                                                                                          controller: dimRemarkController,
                                                                                          keyboardType: TextInputType.text,
                                                                                          textInputAction: TextInputAction.next,
                                                                                          decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            hintText: "Remark ",
                                                                                            counterText: '',
                                                                                            fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                          ),
                                                                                          style: AppStyles.textInputTextStyle,
                                                                                          readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                          // validator: MultiValidator(
                                                                                          //   [
                                                                                          //     RequiredValidator(
                                                                                          //       errorText: "Please Enter  Remark",
                                                                                          //     ),
                                                                                          //   ],
                                                                                          // ),
                                                                                        ),

                                                                                        const SizedBox(
                                                                                          height: 15,
                                                                                        ),

                                                                                        Padding(padding: EdgeInsets.fromLTRB(0, 10, 0, 0)),
                                                                                        _isLoading
                                                                                            ? Center(child: CircularProgressIndicator())
                                                                                            : AppButton(
                                                                                                textStyle: const TextStyle(
                                                                                                  fontWeight: FontWeight.w700,
                                                                                                  color: AppColors.white,
                                                                                                  fontSize: 16,
                                                                                                ),
                                                                                                onTap: () {
                                                                                                  AppHelper.hideKeyboard(context);
                                                                                                  // if (status != 'Pending') {
                                                                                                  //   setState(() {
                                                                                                  //     sendStatus = 'Inprogress';
                                                                                                  //   });
                                                                                                  //   // createData();
                                                                                                  // }

                                                                                                  _postLamFormKey.currentState!.save;
                                                                                                  if (_postLamFormKey.currentState!.validate()) {
                                                                                                    if (status != 'Pending') {
                                                                                                      createData();
                                                                                                      sendStatus = 'Inprogress';
                                                                                                    }
                                                                                                    setState(() {
                                                                                                      setPage = 'packaging';
                                                                                                    });
                                                                                                  }
                                                                                                },
                                                                                                label: "Next",
                                                                                                organization: '',
                                                                                              ),

                                                                                        const SizedBox(
                                                                                          height: 18,
                                                                                        ),
                                                                                        Center(
                                                                                          child: Padding(
                                                                                            padding: const EdgeInsets.all(8.0),
                                                                                            child: InkWell(
                                                                                              onTap: () {
                                                                                                setState(() {
                                                                                                  setPage = "finalVisual";
                                                                                                });
                                                                                              },
                                                                                              child: const Text(
                                                                                                "BACK",
                                                                                                style: TextStyle(fontFamily: appFontFamily, fontSize: 16, fontWeight: FontWeight.w500, color: AppColors.redColor),
                                                                                              ),
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        const SizedBox(
                                                                                          height: 25,
                                                                                        ),
                                                                                        Container(
                                                                                          alignment: Alignment.center,
                                                                                          child: const Column(
                                                                                            mainAxisAlignment: MainAxisAlignment.center,
                                                                                            crossAxisAlignment: CrossAxisAlignment.center,
                                                                                            children: [
                                                                                              Text(
                                                                                                "Powered By Gautam Solar Pvt. Ltd.",
                                                                                                style: TextStyle(
                                                                                                  fontSize: 14,
                                                                                                  fontFamily: appFontFamily,
                                                                                                  color: AppColors.greyColor,
                                                                                                  fontWeight: FontWeight.w400,
                                                                                                ),
                                                                                              ),
                                                                                              SizedBox(
                                                                                                height: 10,
                                                                                              ),
                                                                                            ],
                                                                                          ),
                                                                                        ),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                ),
                                                                              ],
                                                                            )
                                                                          /******************************Packaging************* */
                                                                          : setPage == "packaging"
                                                                              ? Stack(
                                                                                  alignment: Alignment.center,
                                                                                  fit: StackFit.expand,
                                                                                  children: [
                                                                                    SingleChildScrollView(
                                                                                      child: Form(
                                                                                        key: _postLamFormKey,
                                                                                        autovalidateMode: AutovalidateMode.onUserInteraction,
                                                                                        child: Column(
                                                                                          mainAxisAlignment: MainAxisAlignment.center,
                                                                                          crossAxisAlignment: CrossAxisAlignment.start,
                                                                                          children: <Widget>[
                                                                                            Container(
                                                                                              alignment: Alignment.center,
                                                                                              child: Column(
                                                                                                mainAxisAlignment: MainAxisAlignment.center,
                                                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                children: [
                                                                                                  Image.asset(
                                                                                                    AppAssets.imgLogo,
                                                                                                    height: 100,
                                                                                                    width: 230,
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            const Center(child: Padding(padding: EdgeInsets.only(top: 10), child: Text("Incoming Process Quality Control", style: TextStyle(fontSize: 27, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700)))),
                                                                                            const Center(child: Text("(Post Lam IPQC Checklist)", style: TextStyle(fontSize: 20, color: AppColors.black, fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                            const SizedBox(
                                                                                              height: 35,
                                                                                            ),
                                                                                            Row(
                                                                                              children: [
                                                                                                Text(
                                                                                                  'Document No : ',
                                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                                ),
                                                                                                const SizedBox(
                                                                                                  width: 8,
                                                                                                ),
                                                                                                Text(
                                                                                                  'GSPL/IPQC/IPC/003',
                                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 8,
                                                                                            ),
                                                                                            Row(
                                                                                              children: [
                                                                                                Text(
                                                                                                  'Rev.No. / Rev. Date : ',
                                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                                ),
                                                                                                const SizedBox(
                                                                                                  width: 8,
                                                                                                ),
                                                                                                Text(
                                                                                                  'Ver.2.0 / 20-03-2024',
                                                                                                  style: AppStyles.textfieldCaptionTextStyle,
                                                                                                ),
                                                                                              ],
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            const Center(child: Text("Packaging", style: TextStyle(fontSize: 20, color: Color.fromARGB(255, 13, 160, 0), fontFamily: appFontFamily, fontWeight: FontWeight.w700))),
                                                                                            const SizedBox(
                                                                                              height: 20,
                                                                                            ),
                                                                                            // Packaaging Barcode Defects

                                                                                            Container(
                                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                              child: Divider(
                                                                                                color: Colors.black,
                                                                                                height: 2.0,
                                                                                                thickness: 2.0,
                                                                                              ),
                                                                                            ),
                                                                                            Text(
                                                                                              "Frequency",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packFreq1Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Once per Shift",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Packaging Label",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packPLController,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Please Enter Packaging Label",
                                                                                                counterText: '',
                                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                              validator: MultiValidator(
                                                                                                [
                                                                                                  RequiredValidator(
                                                                                                    errorText: "Please Enter Packaging Label ",
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Acceptance Criteria",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packAccep1Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "As per GSPL/FQC/WI/001",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            Container(
                                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                              child: Divider(
                                                                                                color: Colors.black,
                                                                                                height: 2.0,
                                                                                                thickness: 2.0,
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            Text(
                                                                                              "Frequency",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packFreq2Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Once per Shift",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Content in Box",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packCBController,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Please Enter Content in Box",
                                                                                                counterText: '',
                                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                              validator: MultiValidator(
                                                                                                [
                                                                                                  RequiredValidator(
                                                                                                    errorText: "Please Enter Content in Box ",
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Acceptance Criteria",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packAccep2Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "As per GSPL/FQC/WI/001",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            Container(
                                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                              child: Divider(
                                                                                                color: Colors.black,
                                                                                                height: 2.0,
                                                                                                thickness: 2.0,
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            Text(
                                                                                              "Frequency",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packFreq3Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Once per Shift",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Box Condition",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packBCController,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Please Enter Box Condition",
                                                                                                counterText: '',
                                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                              validator: MultiValidator(
                                                                                                [
                                                                                                  RequiredValidator(
                                                                                                    errorText: "Please Enter Box Condition ",
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Acceptance Criteria",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packAccep3Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Damage,dull printing,wet boxes not allowed",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            Container(
                                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                              child: Divider(
                                                                                                color: Colors.black,
                                                                                                height: 2.0,
                                                                                                thickness: 2.0,
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            Text(
                                                                                              "Frequency",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packFreq4Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Once per Shift",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Wooden Pallet dimension",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packWPController,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Please Enter Wooden Pallet dimension",
                                                                                                counterText: '',
                                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                              validator: MultiValidator(
                                                                                                [
                                                                                                  RequiredValidator(
                                                                                                    errorText: "Please Enter  Wooden Pallet dimension",
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            Text(
                                                                                              "Acceptance Criteria",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 15,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packAccep4Controller,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Should not be less than module dimension",
                                                                                                counterText: '',
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: true,
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            Container(
                                                                                              margin: EdgeInsets.symmetric(vertical: 10.0),
                                                                                              child: Divider(
                                                                                                color: Colors.black,
                                                                                                height: 2.0,
                                                                                                thickness: 2.0,
                                                                                              ),
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            Text(
                                                                                              "Remark",
                                                                                              style: AppStyles.textfieldCaptionTextStyle,
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 5,
                                                                                            ),
                                                                                            TextFormField(
                                                                                              controller: packRemarkController,
                                                                                              keyboardType: TextInputType.text,
                                                                                              textInputAction: TextInputAction.next,
                                                                                              decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                                hintText: "Remark ",
                                                                                                counterText: '',
                                                                                                fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                              ),
                                                                                              style: AppStyles.textInputTextStyle,
                                                                                              readOnly: status == 'Pending' && designation != "QC" ? true : false,
                                                                                              // validator: MultiValidator(
                                                                                              //   [
                                                                                              //     RequiredValidator(
                                                                                              //       errorText: "Please Enter  Remark",
                                                                                              //     ),
                                                                                              //   ],
                                                                                              // ),
                                                                                            ),
                                                                                            SizedBox(
                                                                                              height: 10,
                                                                                            ),
                                                                                            // Text(
                                                                                            //   "Reference PDF Document ",
                                                                                            //   style: AppStyles.textfieldCaptionTextStyle,
                                                                                            // ),
                                                                                            // const SizedBox(
                                                                                            //   height: 5,
                                                                                            // ),
                                                                                            // TextFormField(
                                                                                            //   controller: referencePdfController,
                                                                                            //   keyboardType: TextInputType.text,
                                                                                            //   textInputAction: TextInputAction.next,
                                                                                            //   decoration: AppStyles.textFieldInputDecoration.copyWith(
                                                                                            //       hintText: "Please Select Reference Pdf",
                                                                                            //       fillColor: Color.fromARGB(255, 215, 243, 207),
                                                                                            //       suffixIcon: IconButton(
                                                                                            //         onPressed: () async {
                                                                                            //           if (widget.id != null && widget.id != '' && referencePdfController.text != '') {
                                                                                            //             UrlLauncher.launch(referencePdfController.text);
                                                                                            //           } else if (status != 'Pending') {
                                                                                            //             _pickReferencePDF();
                                                                                            //           }
                                                                                            //         },
                                                                                            //         icon: widget.id != null && widget.id != '' && referencePdfController.text != '' ? const Icon(Icons.download) : const Icon(Icons.upload_file),
                                                                                            //       ),
                                                                                            //       counterText: ''),
                                                                                            //   style: AppStyles.textInputTextStyle,
                                                                                            //   maxLines: 1,
                                                                                            //   readOnly: true,
                                                                                            //   validator: (value) {
                                                                                            //     if (value!.isEmpty) {
                                                                                            //       return "Please Select Reference Pdf";
                                                                                            //     } else {
                                                                                            //       return null;
                                                                                            //     }
                                                                                            //   },
                                                                                            // ),
                                                                                            // const SizedBox(
                                                                                            //   height: 15,
                                                                                            // ),

                                                                                            Padding(padding: EdgeInsets.fromLTRB(0, 10, 0, 0)),
                                                                                            _isLoading
                                                                                                ? Center(child: CircularProgressIndicator())
                                                                                                : (widget.id == "" || widget.id == null) || (status == 'Inprogress' && widget.id != null)
                                                                                                    ? AppButton(
                                                                                                        textStyle: const TextStyle(
                                                                                                          fontWeight: FontWeight.w700,
                                                                                                          color: AppColors.white,
                                                                                                          fontSize: 16,
                                                                                                        ),
                                                                                                        onTap: () {
                                                                                                          AppHelper.hideKeyboard(context);

                                                                                                          _postLamFormKey.currentState!.save;

                                                                                                          if (_postLamFormKey.currentState!.validate()) {
                                                                                                            if (status != 'Pending') {
                                                                                                              setState(() {
                                                                                                                sendStatus = 'Pending';
                                                                                                              });
                                                                                                              createData();
                                                                                                            }
                                                                                                          }
                                                                                                        },
                                                                                                        label: "Submit",
                                                                                                        organization: '',
                                                                                                      )
                                                                                                    : Container(),
                                                                                            const SizedBox(
                                                                                              height: 10,
                                                                                            ),
                                                                                            if (widget.id != "" && widget.id != null && status == 'Pending')
                                                                                              Container(
                                                                                                color: Color.fromARGB(255, 191, 226, 187), // Change the background color to your desired color
                                                                                                child: Column(
                                                                                                  crossAxisAlignment: CrossAxisAlignment.stretch,
                                                                                                  children: [
                                                                                                    Divider(),
                                                                                                    SizedBox(height: 15),
                                                                                                    AppButton(
                                                                                                      textStyle: const TextStyle(fontWeight: FontWeight.w700, color: AppColors.white, fontSize: 16),
                                                                                                      onTap: () {
                                                                                                        AppHelper.hideKeyboard(context);
                                                                                                        setApprovalStatus();
                                                                                                      },
                                                                                                      label: "Approve",
                                                                                                      organization: '',
                                                                                                    ),
                                                                                                    const SizedBox(
                                                                                                      height: 10,
                                                                                                    ),
                                                                                                    Divider(),
                                                                                                  ],
                                                                                                ),
                                                                                              ),

                                                                                            const SizedBox(
                                                                                              height: 18,
                                                                                            ),
                                                                                            Center(
                                                                                              child: Padding(
                                                                                                padding: const EdgeInsets.all(8.0),
                                                                                                child: InkWell(
                                                                                                  onTap: () {
                                                                                                    setState(() {
                                                                                                      setPage = "finalvisual";
                                                                                                    });
                                                                                                  },
                                                                                                  child: const Text(
                                                                                                    "BACK",
                                                                                                    style: TextStyle(fontFamily: appFontFamily, fontSize: 16, fontWeight: FontWeight.w500, color: AppColors.redColor),
                                                                                                  ),
                                                                                                ),
                                                                                              ),
                                                                                            ),
                                                                                            const SizedBox(
                                                                                              height: 25,
                                                                                            ),
                                                                                            Container(
                                                                                              alignment: Alignment.center,
                                                                                              child: const Column(
                                                                                                mainAxisAlignment: MainAxisAlignment.center,
                                                                                                crossAxisAlignment: CrossAxisAlignment.center,
                                                                                                children: [
                                                                                                  Text(
                                                                                                    "Powered By Gautam Solar Pvt. Ltd.",
                                                                                                    style: TextStyle(
                                                                                                      fontSize: 14,
                                                                                                      fontFamily: appFontFamily,
                                                                                                      color: AppColors.greyColor,
                                                                                                      fontWeight: FontWeight.w400,
                                                                                                    ),
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 10,
                                                                                                  ),
                                                                                                ],
                                                                                              ),
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      ),
                                                                                    ),
                                                                                  ],
                                                                                )
                                                                              : Container(),
                ),
          floatingActionButton: (status == "Pending") ? null : _getFAB(),
          // bottomNavigationBar: Container(
          //   height: 60,
          //   decoration: const BoxDecoration(
          //     color: Color.fromARGB(255, 245, 203, 19),
          //     borderRadius: BorderRadius.only(
          //       topLeft: Radius.circular(20),
          //       topRight: Radius.circular(20),
          //     ),
          //   ),
          //   child: Row(
          //     mainAxisAlignment: MainAxisAlignment.spaceAround,
          //     children: [
          //       InkWell(
          //           onTap: () {
          //             Navigator.of(context).pushReplacement(MaterialPageRoute(
          //                 builder: (BuildContext context) =>
          //                     department == 'IPQC' &&
          //                             designation != 'Super Admin'
          //                         ? IpqcPage()
          //                         : WelcomePage()));
          //           },
          //           child: Image.asset(
          //               home
          //                   ? AppAssets.icHomeSelected
          //                   : AppAssets.icHomeUnSelected,
          //               height: 25)),
          //       const SizedBox(
          //         width: 8,
          //       ),
          //       InkWell(
          //           onTap: () {
          //             // Navigator.of(context).pushReplacement(MaterialPageRoute(
          //             //     builder: (BuildContext context) => AddEditProfile()));
          //           },
          //           child: Image.asset(
          //               user
          //                   ? AppAssets.imgSelectedPerson
          //                   : AppAssets.imgPerson,
          //               height: 25)),
          //       const SizedBox(
          //         width: 8,
          //       ),
          //       InkWell(
          //           child: Image.asset(
          //               face
          //                   ? AppAssets.icSearchSelected
          //                   : AppAssets.icSearchUnSelected,
          //               height: 25)),
          //       const SizedBox(
          //         width: 8,
          //       ),
          //       InkWell(
          //           onTap: () {
          //             Navigator.of(context).pushReplacement(MaterialPageRoute(
          //                 builder: (BuildContext context) => PublicDrawer()));
          //           },
          //           child: Image.asset(
          //               menu ? AppAssets.imgSelectedMenu : AppAssets.imgMenu,
          //               height: 25)),
          //     ],
          //   ),
          // ),
        );
      }),
    );
  }
}
